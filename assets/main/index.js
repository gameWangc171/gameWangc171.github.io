window.__require=function t(e,n,r){function o(a,s){if(!n[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return o(e[a][1][t]||t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){(function(t){(function(){var r,o=200,i="Expected a function",a="__lodash_placeholder__",s=1,c=2,u=4,l=1,h=2,p=1,f=2,d=4,_=8,y=16,v=32,g=64,m=128,b=256,w=512,T=800,S=16,O=1/0,x=9007199254740991,C=17976931348623157e292,P=NaN,R=4294967295,I=R-1,M=R>>>1,E=[["ary",m],["bind",p],["bindKey",f],["curry",_],["curryRight",y],["flip",w],["partial",v],["partialRight",g],["rearg",b]],D="[object Arguments]",A="[object Array]",F="[object AsyncFunction]",N="[object Boolean]",k="[object Date]",U="[object DOMException]",L="[object Error]",j="[object Function]",B="[object GeneratorFunction]",V="[object Map]",G="[object Number]",H="[object Null]",z="[object Object]",W="[object Proxy]",q="[object RegExp]",Y="[object Set]",X="[object String]",K="[object Symbol]",J="[object Undefined]",Z="[object WeakMap]",Q="[object ArrayBuffer]",$="[object DataView]",tt="[object Float32Array]",et="[object Float64Array]",nt="[object Int8Array]",rt="[object Int16Array]",ot="[object Int32Array]",it="[object Uint8Array]",at="[object Uint8ClampedArray]",st="[object Uint16Array]",ct="[object Uint32Array]",ut=/\b__p \+= '';/g,lt=/\b(__p \+=) '' \+/g,ht=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pt=/&(?:amp|lt|gt|quot|#39);/g,ft=/[&<>"']/g,dt=RegExp(pt.source),_t=RegExp(ft.source),yt=/<%-([\s\S]+?)%>/g,vt=/<%([\s\S]+?)%>/g,gt=/<%=([\s\S]+?)%>/g,mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bt=/^\w*$/,wt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tt=/[\\^$.*+?()[\]{}|]/g,St=RegExp(Tt.source),Ot=/^\s+/,xt=/\s/,Ct=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pt=/\{\n\/\* \[wrapped with (.+)\] \*/,Rt=/,? & /,It=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Mt=/[()=,{}\[\]\/\s]/,Et=/\\(\\)?/g,Dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,At=/\w*$/,Ft=/^[-+]0x[0-9a-f]+$/i,Nt=/^0b[01]+$/i,kt=/^\[object .+?Constructor\]$/,Ut=/^0o[0-7]+$/i,Lt=/^(?:0|[1-9]\d*)$/,jt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Bt=/($^)/,Vt=/['\n\r\u2028\u2029\\]/g,Gt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ht="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zt="["+Ht+"]",Wt="["+Gt+"]",qt="\\d+",Yt="[a-z\\xdf-\\xf6\\xf8-\\xff]",Xt="[^\\ud800-\\udfff"+Ht+qt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Kt="\\ud83c[\\udffb-\\udfff]",Jt="[^\\ud800-\\udfff]",Zt="(?:\\ud83c[\\udde6-\\uddff]){2}",Qt="[\\ud800-\\udbff][\\udc00-\\udfff]",$t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",te="(?:"+Yt+"|"+Xt+")",ee="(?:"+$t+"|"+Xt+")",ne="(?:"+Wt+"|"+Kt+")?",re="[\\ufe0e\\ufe0f]?"+ne+"(?:\\u200d(?:"+[Jt,Zt,Qt].join("|")+")[\\ufe0e\\ufe0f]?"+ne+")*",oe="(?:"+["[\\u2700-\\u27bf]",Zt,Qt].join("|")+")"+re,ie="(?:"+[Jt+Wt+"?",Wt,Zt,Qt,"[\\ud800-\\udfff]"].join("|")+")",ae=RegExp("['\u2019]","g"),se=RegExp(Wt,"g"),ce=RegExp(Kt+"(?="+Kt+")|"+ie+re,"g"),ue=RegExp([$t+"?"+Yt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[zt,$t,"$"].join("|")+")",ee+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[zt,$t+te,"$"].join("|")+")",$t+"?"+te+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",$t+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qt,oe].join("|"),"g"),le=RegExp("[\\u200d\\ud800-\\udfff"+Gt+"\\ufe0e\\ufe0f]"),he=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,pe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],fe=-1,de={};de[tt]=de[et]=de[nt]=de[rt]=de[ot]=de[it]=de[at]=de[st]=de[ct]=!0,de[D]=de[A]=de[Q]=de[N]=de[$]=de[k]=de[L]=de[j]=de[V]=de[G]=de[z]=de[q]=de[Y]=de[X]=de[Z]=!1;var _e={};_e[D]=_e[A]=_e[Q]=_e[$]=_e[N]=_e[k]=_e[tt]=_e[et]=_e[nt]=_e[rt]=_e[ot]=_e[V]=_e[G]=_e[z]=_e[q]=_e[Y]=_e[X]=_e[K]=_e[it]=_e[at]=_e[st]=_e[ct]=!0,_e[L]=_e[j]=_e[Z]=!1;var ye={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ve=parseFloat,ge=parseInt,me="object"==typeof t&&t&&t.Object===Object&&t,be="object"==typeof self&&self&&self.Object===Object&&self,we=me||be||Function("","return this")(),Te="object"==typeof n&&n&&!n.nodeType&&n,Se=Te&&"object"==typeof e&&e&&!e.nodeType&&e,Oe=Se&&Se.exports===Te,xe=Oe&&me.process,Ce=function(){try{return Se&&Se.require&&Se.require("util").types||xe&&xe.binding&&xe.binding("util")}catch(t){}}(),Pe=Ce&&Ce.isArrayBuffer,Re=Ce&&Ce.isDate,Ie=Ce&&Ce.isMap,Me=Ce&&Ce.isRegExp,Ee=Ce&&Ce.isSet,De=Ce&&Ce.isTypedArray;function Ae(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Fe(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(r,a,n(a),t)}return r}function Ne(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ke(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ue(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Le(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}function je(t,e){return!(null==t||!t.length)&&Ze(t,e,0)>-1}function Be(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function Ve(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function Ge(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function He(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function ze(t,e,n,r){var o=null==t?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function We(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var qe=en("length");function Ye(t){return t.split("")}function Xe(t){return t.match(It)||[]}function Ke(t,e,n){var r;return n(t,function(t,n,o){if(e(t,n,o))return r=n,!1}),r}function Je(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function Ze(t,e,n){return e==e?Rn(t,e,n):Je(t,$e,n)}function Qe(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}function $e(t){return t!=t}function tn(t,e){var n=null==t?0:t.length;return n?an(t,e)/n:P}function en(t){return function(e){return null==e?r:e[t]}}function nn(t){return function(e){return null==t?r:t[e]}}function rn(t,e,n,r,o){return o(t,function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)}),n}function on(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function an(t,e){for(var n,o=-1,i=t.length;++o<i;){var a=e(t[o]);a!==r&&(n=n===r?a:n+a)}return n}function sn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function cn(t,e){return Ve(e,function(e){return[e,t[e]]})}function un(t){return t?t.slice(0,Dn(t)+1).replace(Ot,""):t}function ln(t){return function(e){return t(e)}}function hn(t,e){return Ve(e,function(e){return t[e]})}function pn(t,e){return t.has(e)}function fn(t,e){for(var n=-1,r=t.length;++n<r&&Ze(e,t[n],0)>-1;);return n}function dn(t,e){for(var n=t.length;n--&&Ze(e,t[n],0)>-1;);return n}function _n(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var yn=nn({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),vn=nn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function gn(t){return"\\"+ye[t]}function mn(t,e){return null==t?r:t[e]}function bn(t){return le.test(t)}function wn(t){return he.test(t)}function Tn(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function Sn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function On(t,e){return function(n){return t(e(n))}}function xn(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var s=t[n];s!==e&&s!==a||(t[n]=a,i[o++]=n)}return i}function Cn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Pn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Rn(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}function In(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function Mn(t){return bn(t)?Fn(t):qe(t)}function En(t){return bn(t)?Nn(t):Ye(t)}function Dn(t){for(var e=t.length;e--&&xt.test(t.charAt(e)););return e}var An=nn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});function Fn(t){for(var e=ce.lastIndex=0;ce.test(t);)++e;return e}function Nn(t){return t.match(ce)||[]}function kn(t){return t.match(ue)||[]}var Un=function t(e){var n,xt=(e=null==e?we:Un.defaults(we.Object(),e,Un.pick(we,pe))).Array,It=e.Date,Gt=e.Error,Ht=e.Function,zt=e.Math,Wt=e.Object,qt=e.RegExp,Yt=e.String,Xt=e.TypeError,Kt=xt.prototype,Jt=Ht.prototype,Zt=Wt.prototype,Qt=e["__core-js_shared__"],$t=Jt.toString,te=Zt.hasOwnProperty,ee=0,ne=(n=/[^.]+$/.exec(Qt&&Qt.keys&&Qt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",re=Zt.toString,oe=$t.call(Wt),ie=we._,ce=qt("^"+$t.call(te).replace(Tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ue=Oe?e.Buffer:r,le=e.Symbol,he=e.Uint8Array,ye=ue?ue.allocUnsafe:r,me=On(Wt.getPrototypeOf,Wt),be=Wt.create,Te=Zt.propertyIsEnumerable,Se=Kt.splice,xe=le?le.isConcatSpreadable:r,Ce=le?le.iterator:r,qe=le?le.toStringTag:r,Ye=function(){try{var t=oa(Wt,"defineProperty");return t({},"",{}),t}catch(e){}}(),nn=e.clearTimeout!==we.clearTimeout&&e.clearTimeout,Rn=It&&It.now!==we.Date.now&&It.now,Fn=e.setTimeout!==we.setTimeout&&e.setTimeout,Nn=zt.ceil,Ln=zt.floor,jn=Wt.getOwnPropertySymbols,Bn=ue?ue.isBuffer:r,Vn=e.isFinite,Gn=Kt.join,Hn=On(Wt.keys,Wt),zn=zt.max,Wn=zt.min,qn=It.now,Yn=e.parseInt,Xn=zt.random,Kn=Kt.reverse,Jn=oa(e,"DataView"),Zn=oa(e,"Map"),Qn=oa(e,"Promise"),$n=oa(e,"Set"),tr=oa(e,"WeakMap"),er=oa(Wt,"create"),nr=tr&&new tr,rr={},or=Ba(Jn),ir=Ba(Zn),ar=Ba(Qn),sr=Ba($n),cr=Ba(tr),ur=le?le.prototype:r,lr=ur?ur.valueOf:r,hr=ur?ur.toString:r;function pr(t){if(oc(t)&&!Ys(t)&&!(t instanceof yr)){if(t instanceof _r)return t;if(te.call(t,"__wrapped__"))return Ga(t)}return new _r(t)}var fr=function(){function t(){}return function(e){if(!rc(e))return{};if(be)return be(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function dr(){}function _r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function yr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=R,this.__views__=[]}function vr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function gr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function mr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function br(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new mr;++e<n;)this.add(t[e])}function wr(t){var e=this.__data__=new gr(t);this.size=e.size}function Tr(t,e){var n=Ys(t),r=!n&&qs(t),o=!n&&!r&&Zs(t),i=!n&&!r&&!o&&pc(t),a=n||r||o||i,s=a?sn(t.length,Yt):[],c=s.length;for(var u in t)!e&&!te.call(t,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||va(u,c))||s.push(u);return s}function Sr(t){var e=t.length;return e?t[Mo(0,e-1)]:r}function Or(t,e){return Ua(_i(t),Fr(e,0,t.length))}function xr(t){return Ua(_i(t))}function Cr(t,e,n){(n===r||Hs(t[e],n))&&(n!==r||e in t)||Dr(t,e,n)}function Pr(t,e,n){var o=t[e];te.call(t,e)&&Hs(o,n)&&(n!==r||e in t)||Dr(t,e,n)}function Rr(t,e){for(var n=t.length;n--;)if(Hs(t[n][0],e))return n;return-1}function Ir(t,e,n,r){return Br(t,function(t,o,i){e(r,t,n(t),i)}),r}function Mr(t,e){return t&&yi(e,Fc(e),t)}function Er(t,e){return t&&yi(e,Nc(e),t)}function Dr(t,e,n){"__proto__"==e&&Ye?Ye(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Ar(t,e){for(var n=-1,o=e.length,i=xt(o),a=null==t;++n<o;)i[n]=a?r:Ic(t,e[n]);return i}function Fr(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function Nr(t,e,n,o,i,a){var l,h=e&s,p=e&c,f=e&u;if(n&&(l=i?n(t,o,i,a):n(t)),l!==r)return l;if(!rc(t))return t;var d=Ys(t);if(d){if(l=pa(t),!h)return _i(t,l)}else{var _=ca(t),y=_==j||_==B;if(Zs(t))return ai(t,h);if(_==z||_==D||y&&!i){if(l=p||y?{}:fa(t),!h)return p?gi(t,Er(l,t)):vi(t,Mr(l,t))}else{if(!_e[_])return i?t:{};l=da(t,_,h)}}a||(a=new wr);var v=a.get(t);if(v)return v;a.set(t,l),uc(t)?t.forEach(function(r){l.add(Nr(r,e,n,r,t,a))}):ic(t)&&t.forEach(function(r,o){l.set(o,Nr(r,e,n,o,t,a))});var g=d?r:(f?p?Zi:Ji:p?Nc:Fc)(t);return Ne(g||t,function(r,o){g&&(r=t[o=r]),Pr(l,o,Nr(r,e,n,o,t,a))}),l}function kr(t){var e=Fc(t);return function(n){return Ur(n,t,e)}}function Ur(t,e,n){var o=n.length;if(null==t)return!o;for(t=Wt(t);o--;){var i=n[o],a=e[i],s=t[i];if(s===r&&!(i in t)||!a(s))return!1}return!0}function Lr(t,e,n){if("function"!=typeof t)throw new Xt(i);return Aa(function(){t.apply(r,n)},e)}function jr(t,e,n,r){var i=-1,a=je,s=!0,c=t.length,u=[],l=e.length;if(!c)return u;n&&(e=Ve(e,ln(n))),r?(a=Be,s=!1):e.length>=o&&(a=pn,s=!1,e=new br(e));t:for(;++i<c;){var h=t[i],p=null==n?h:n(h);if(h=r||0!==h?h:0,s&&p==p){for(var f=l;f--;)if(e[f]===p)continue t;u.push(h)}else a(e,p,r)||u.push(h)}return u}pr.templateSettings={escape:yt,evaluate:vt,interpolate:gt,variable:"",imports:{_:pr}},pr.prototype=dr.prototype,pr.prototype.constructor=pr,_r.prototype=fr(dr.prototype),_r.prototype.constructor=_r,yr.prototype=fr(dr.prototype),yr.prototype.constructor=yr,vr.prototype.clear=function(){this.__data__=er?er(null):{},this.size=0},vr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},vr.prototype.get=function(t){var e=this.__data__;if(er){var n=e[t];return"__lodash_hash_undefined__"===n?r:n}return te.call(e,t)?e[t]:r},vr.prototype.has=function(t){var e=this.__data__;return er?e[t]!==r:te.call(e,t)},vr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=er&&e===r?"__lodash_hash_undefined__":e,this},gr.prototype.clear=function(){this.__data__=[],this.size=0},gr.prototype.delete=function(t){var e=this.__data__,n=Rr(e,t);return!(n<0||(n==e.length-1?e.pop():Se.call(e,n,1),--this.size,0))},gr.prototype.get=function(t){var e=this.__data__,n=Rr(e,t);return n<0?r:e[n][1]},gr.prototype.has=function(t){return Rr(this.__data__,t)>-1},gr.prototype.set=function(t,e){var n=this.__data__,r=Rr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},mr.prototype.clear=function(){this.size=0,this.__data__={hash:new vr,map:new(Zn||gr),string:new vr}},mr.prototype.delete=function(t){var e=na(this,t).delete(t);return this.size-=e?1:0,e},mr.prototype.get=function(t){return na(this,t).get(t)},mr.prototype.has=function(t){return na(this,t).has(t)},mr.prototype.set=function(t,e){var n=na(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},br.prototype.add=br.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},br.prototype.has=function(t){return this.__data__.has(t)},wr.prototype.clear=function(){this.__data__=new gr,this.size=0},wr.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},wr.prototype.get=function(t){return this.__data__.get(t)},wr.prototype.has=function(t){return this.__data__.has(t)},wr.prototype.set=function(t,e){var n=this.__data__;if(n instanceof gr){var r=n.__data__;if(!Zn||r.length<o-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new mr(r)}return n.set(t,e),this.size=n.size,this};var Br=wi(Kr),Vr=wi(Jr,!0);function Gr(t,e){var n=!0;return Br(t,function(t,r,o){return n=!!e(t,r,o)}),n}function Hr(t,e,n){for(var o=-1,i=t.length;++o<i;){var a=t[o],s=e(a);if(null!=s&&(c===r?s==s&&!hc(s):n(s,c)))var c=s,u=a}return u}function zr(t,e,n,o){var i=t.length;for((n=vc(n))<0&&(n=-n>i?0:i+n),(o=o===r||o>i?i:vc(o))<0&&(o+=i),o=n>o?0:gc(o);n<o;)t[n++]=e;return t}function Wr(t,e){var n=[];return Br(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}function qr(t,e,n,r,o){var i=-1,a=t.length;for(n||(n=ya),o||(o=[]);++i<a;){var s=t[i];e>0&&n(s)?e>1?qr(s,e-1,n,r,o):Ge(o,s):r||(o[o.length]=s)}return o}var Yr=Ti(),Xr=Ti(!0);function Kr(t,e){return t&&Yr(t,e,Fc)}function Jr(t,e){return t&&Xr(t,e,Fc)}function Zr(t,e){return Le(e,function(e){return tc(t[e])})}function Qr(t,e){for(var n=0,o=(e=ni(e,t)).length;null!=t&&n<o;)t=t[ja(e[n++])];return n&&n==o?t:r}function $r(t,e,n){var r=e(t);return Ys(t)?r:Ge(r,n(t))}function to(t){return null==t?t===r?J:H:qe&&qe in Wt(t)?ia(t):Pa(t)}function eo(t,e){return t>e}function no(t,e){return null!=t&&te.call(t,e)}function ro(t,e){return null!=t&&e in Wt(t)}function oo(t,e,n){return t>=Wn(e,n)&&t<zn(e,n)}function io(t,e,n){for(var o=n?Be:je,i=t[0].length,a=t.length,s=a,c=xt(a),u=1/0,l=[];s--;){var h=t[s];s&&e&&(h=Ve(h,ln(e))),u=Wn(h.length,u),c[s]=!n&&(e||i>=120&&h.length>=120)?new br(s&&h):r}h=t[0];var p=-1,f=c[0];t:for(;++p<i&&l.length<u;){var d=h[p],_=e?e(d):d;if(d=n||0!==d?d:0,!(f?pn(f,_):o(l,_,n))){for(s=a;--s;){var y=c[s];if(!(y?pn(y,_):o(t[s],_,n)))continue t}f&&f.push(_),l.push(d)}}return l}function ao(t,e,n,r){return Kr(t,function(t,o,i){e(r,n(t),o,i)}),r}function so(t,e,n){var o=null==(t=Ia(t,e=ni(e,t)))?t:t[ja($a(e))];return null==o?r:Ae(o,t,n)}function co(t){return oc(t)&&to(t)==D}function uo(t,e,n,r,o){return t===e||(null==t||null==e||!oc(t)&&!oc(e)?t!=t&&e!=e:lo(t,e,n,r,uo,o))}function lo(t,e,n,r,o,i){var a=Ys(t),s=Ys(e),c=a?A:ca(t),u=s?A:ca(e),h=(c=c==D?z:c)==z,p=(u=u==D?z:u)==z,f=c==u;if(f&&Zs(t)){if(!Zs(e))return!1;a=!0,h=!1}if(f&&!h)return i||(i=new wr),a||pc(t)?qi(t,e,n,r,o,i):Yi(t,e,c,n,r,o,i);if(!(n&l)){var d=h&&te.call(t,"__wrapped__"),_=p&&te.call(e,"__wrapped__");if(d||_){var y=d?t.value():t,v=_?e.value():e;return i||(i=new wr),o(y,v,n,r,i)}}return!!f&&(i||(i=new wr),Xi(t,e,n,r,o,i))}function ho(t,e,n,o){var i=n.length,a=i,s=!o;if(null==t)return!a;for(t=Wt(t);i--;){var c=n[i];if(s&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<a;){var u=(c=n[i])[0],p=t[u],f=c[1];if(s&&c[2]){if(p===r&&!(u in t))return!1}else{var d=new wr;if(o)var _=o(p,f,u,t,e,d);if(!(_===r?uo(f,p,l|h,o,d):_))return!1}}return!0}function po(t){return!(!rc(t)||(e=t,ne&&ne in e))&&(tc(t)?ce:kt).test(Ba(t));var e}function fo(t){return"function"==typeof t?t:null==t?au:"object"==typeof t?Ys(t)?bo(t[0],t[1]):mo(t):_u(t)}function _o(t){if(!Ta(t))return Hn(t);var e=[];for(var n in Wt(t))te.call(t,n)&&"constructor"!=n&&e.push(n);return e}function yo(t){if(!rc(t))return Ca(t);var e=Ta(t),n=[];for(var r in t)("constructor"!=r||!e&&te.call(t,r))&&n.push(r);return n}function vo(t,e){return t<e}function go(t,e){var n=-1,r=Ks(t)?xt(t.length):[];return Br(t,function(t,o,i){r[++n]=e(t,o,i)}),r}function mo(t){var e=ra(t);return 1==e.length&&e[0][2]?Oa(e[0][0],e[0][1]):function(n){return n===t||ho(n,t,e)}}function bo(t,e){return ma(t)&&Sa(e)?Oa(ja(t),e):function(n){var o=Ic(n,t);return o===r&&o===e?Mc(n,t):uo(e,o,l|h)}}function wo(t,e,n,o,i){t!==e&&Yr(e,function(a,s){if(i||(i=new wr),rc(a))To(t,e,s,n,wo,o,i);else{var c=o?o(Ea(t,s),a,s+"",t,e,i):r;c===r&&(c=a),Cr(t,s,c)}},Nc)}function To(t,e,n,o,i,a,s){var c=Ea(t,n),u=Ea(e,n),l=s.get(u);if(l)Cr(t,n,l);else{var h=a?a(c,u,n+"",t,e,s):r,p=h===r;if(p){var f=Ys(u),d=!f&&Zs(u),_=!f&&!d&&pc(u);h=u,f||d||_?Ys(c)?h=c:Js(c)?h=_i(c):d?(p=!1,h=ai(u,!0)):_?(p=!1,h=li(u,!0)):h=[]:sc(u)||qs(u)?(h=c,qs(c)?h=bc(c):rc(c)&&!tc(c)||(h=fa(u))):p=!1}p&&(s.set(u,h),i(h,u,o,a,s),s.delete(u)),Cr(t,n,h)}}function So(t,e){var n=t.length;if(n)return va(e+=e<0?n:0,n)?t[e]:r}function Oo(t,e,n){e=e.length?Ve(e,function(t){return Ys(t)?function(e){return Qr(e,1===t.length?t[0]:t)}:t}):[au];var r=-1;return e=Ve(e,ln(ea())),on(go(t,function(t){return{criteria:Ve(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return pi(t,e,n)})}function xo(t,e){return Co(t,e,function(e,n){return Mc(t,n)})}function Co(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],s=Qr(t,a);n(s,a)&&ko(i,ni(a,t),s)}return i}function Po(t){return function(e){return Qr(e,t)}}function Ro(t,e,n,r){var o=r?Qe:Ze,i=-1,a=e.length,s=t;for(t===e&&(e=_i(e)),n&&(s=Ve(t,ln(n)));++i<a;)for(var c=0,u=e[i],l=n?n(u):u;(c=o(s,l,c,r))>-1;)s!==t&&Se.call(s,c,1),Se.call(t,c,1);return t}function Io(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;va(o)?Se.call(t,o,1):Xo(t,o)}}return t}function Mo(t,e){return t+Ln(Xn()*(e-t+1))}function Eo(t,e,n,r){for(var o=-1,i=zn(Nn((e-t)/(n||1)),0),a=xt(i);i--;)a[r?i:++o]=t,t+=n;return a}function Do(t,e){var n="";if(!t||e<1||e>x)return n;do{e%2&&(n+=t),(e=Ln(e/2))&&(t+=t)}while(e);return n}function Ao(t,e){return Fa(Ra(t,e,au),t+"")}function Fo(t){return Sr(Hc(t))}function No(t,e){var n=Hc(t);return Ua(n,Fr(e,0,n.length))}function ko(t,e,n,o){if(!rc(t))return t;for(var i=-1,a=(e=ni(e,t)).length,s=a-1,c=t;null!=c&&++i<a;){var u=ja(e[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(i!=s){var h=c[u];(l=o?o(h,u,c):r)===r&&(l=rc(h)?h:va(e[i+1])?[]:{})}Pr(c,u,l),c=c[u]}return t}var Uo=nr?function(t,e){return nr.set(t,e),t}:au,Lo=Ye?function(t,e){return Ye(t,"toString",{configurable:!0,enumerable:!1,value:ru(e),writable:!0})}:au;function jo(t){return Ua(Hc(t))}function Bo(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=xt(o);++r<o;)i[r]=t[r+e];return i}function Vo(t,e){var n;return Br(t,function(t,r,o){return!(n=e(t,r,o))}),!!n}function Go(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&o<=M){for(;r<o;){var i=r+o>>>1,a=t[i];null!==a&&!hc(a)&&(n?a<=e:a<e)?r=i+1:o=i}return o}return Ho(t,e,au,n)}function Ho(t,e,n,o){var i=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,c=null===e,u=hc(e),l=e===r;i<a;){var h=Ln((i+a)/2),p=n(t[h]),f=p!==r,d=null===p,_=p==p,y=hc(p);if(s)var v=o||_;else v=l?_&&(o||f):c?_&&f&&(o||!d):u?_&&f&&!d&&(o||!y):!d&&!y&&(o?p<=e:p<e);v?i=h+1:a=h}return Wn(a,I)}function zo(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Hs(s,c)){var c=s;i[o++]=0===a?0:a}}return i}function Wo(t){return"number"==typeof t?t:hc(t)?P:+t}function qo(t){if("string"==typeof t)return t;if(Ys(t))return Ve(t,qo)+"";if(hc(t))return hr?hr.call(t):"";var e=t+"";return"0"==e&&1/t==-O?"-0":e}function Yo(t,e,n){var r=-1,i=je,a=t.length,s=!0,c=[],u=c;if(n)s=!1,i=Be;else if(a>=o){var l=e?null:Bi(t);if(l)return Cn(l);s=!1,i=pn,u=new br}else u=e?[]:c;t:for(;++r<a;){var h=t[r],p=e?e(h):h;if(h=n||0!==h?h:0,s&&p==p){for(var f=u.length;f--;)if(u[f]===p)continue t;e&&u.push(p),c.push(h)}else i(u,p,n)||(u!==c&&u.push(p),c.push(h))}return c}function Xo(t,e){return null==(t=Ia(t,e=ni(e,t)))||delete t[ja($a(e))]}function Ko(t,e,n,r){return ko(t,e,n(Qr(t,e)),r)}function Jo(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?Bo(t,r?0:i,r?i+1:o):Bo(t,r?i+1:0,r?o:i)}function Zo(t,e){var n=t;return n instanceof yr&&(n=n.value()),He(e,function(t,e){return e.func.apply(e.thisArg,Ge([t],e.args))},n)}function Qo(t,e,n){var r=t.length;if(r<2)return r?Yo(t[0]):[];for(var o=-1,i=xt(r);++o<r;)for(var a=t[o],s=-1;++s<r;)s!=o&&(i[o]=jr(i[o]||a,t[s],e,n));return Yo(qr(i,1),e,n)}function $o(t,e,n){for(var o=-1,i=t.length,a=e.length,s={};++o<i;){var c=o<a?e[o]:r;n(s,t[o],c)}return s}function ti(t){return Js(t)?t:[]}function ei(t){return"function"==typeof t?t:au}function ni(t,e){return Ys(t)?t:ma(t,e)?[t]:La(wc(t))}var ri=Ao;function oi(t,e,n){var o=t.length;return n=n===r?o:n,!e&&n>=o?t:Bo(t,e,n)}var ii=nn||function(t){return we.clearTimeout(t)};function ai(t,e){if(e)return t.slice();var n=t.length,r=ye?ye(n):new t.constructor(n);return t.copy(r),r}function si(t){var e=new t.constructor(t.byteLength);return new he(e).set(new he(t)),e}function ci(t,e){var n=e?si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function ui(t){var e=new t.constructor(t.source,At.exec(t));return e.lastIndex=t.lastIndex,e}function li(t,e){var n=e?si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function hi(t,e){if(t!==e){var n=t!==r,o=null===t,i=t==t,a=hc(t),s=e!==r,c=null===e,u=e==e,l=hc(e);if(!c&&!l&&!a&&t>e||a&&s&&u&&!c&&!l||o&&s&&u||!n&&u||!i)return 1;if(!o&&!a&&!l&&t<e||l&&n&&i&&!o&&!a||c&&n&&i||!s&&i||!u)return-1}return 0}function pi(t,e,n){for(var r=-1,o=t.criteria,i=e.criteria,a=o.length,s=n.length;++r<a;){var c=hi(o[r],i[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return t.index-e.index}function fi(t,e,n,r){for(var o=-1,i=t.length,a=n.length,s=-1,c=e.length,u=zn(i-a,0),l=xt(c+u),h=!r;++s<c;)l[s]=e[s];for(;++o<a;)(h||o<i)&&(l[n[o]]=t[o]);for(;u--;)l[s++]=t[o++];return l}function di(t,e,n,r){for(var o=-1,i=t.length,a=-1,s=n.length,c=-1,u=e.length,l=zn(i-s,0),h=xt(l+u),p=!r;++o<l;)h[o]=t[o];for(var f=o;++c<u;)h[f+c]=e[c];for(;++a<s;)(p||o<i)&&(h[f+n[a]]=t[o++]);return h}function _i(t,e){var n=-1,r=t.length;for(e||(e=xt(r));++n<r;)e[n]=t[n];return e}function yi(t,e,n,o){var i=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var c=e[a],u=o?o(n[c],t[c],c,n,t):r;u===r&&(u=t[c]),i?Dr(n,c,u):Pr(n,c,u)}return n}function vi(t,e){return yi(t,aa(t),e)}function gi(t,e){return yi(t,sa(t),e)}function mi(t,e){return function(n,r){var o=Ys(n)?Fe:Ir,i=e?e():{};return o(n,t,ea(r,2),i)}}function bi(t){return Ao(function(e,n){var o=-1,i=n.length,a=i>1?n[i-1]:r,s=i>2?n[2]:r;for(a=t.length>3&&"function"==typeof a?(i--,a):r,s&&ga(n[0],n[1],s)&&(a=i<3?r:a,i=1),e=Wt(e);++o<i;){var c=n[o];c&&t(e,c,o,a)}return e})}function wi(t,e){return function(n,r){if(null==n)return n;if(!Ks(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Wt(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Ti(t){return function(e,n,r){for(var o=-1,i=Wt(e),a=r(e),s=a.length;s--;){var c=a[t?s:++o];if(!1===n(i[c],c,i))break}return e}}function Si(t,e,n){var r=e&p,o=Ci(t);return function e(){return(this&&this!==we&&this instanceof e?o:t).apply(r?n:this,arguments)}}function Oi(t){return function(e){var n=bn(e=wc(e))?En(e):r,o=n?n[0]:e.charAt(0),i=n?oi(n,1).join(""):e.slice(1);return o[t]()+i}}function xi(t){return function(e){return He(tu(qc(e).replace(ae,"")),t,"")}}function Ci(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=fr(t.prototype),r=t.apply(n,e);return rc(r)?r:n}}function Pi(t,e,n){var o=Ci(t);return function i(){for(var a=arguments.length,s=xt(a),c=a,u=ta(i);c--;)s[c]=arguments[c];var l=a<3&&s[0]!==u&&s[a-1]!==u?[]:xn(s,u);return(a-=l.length)<n?Li(t,e,Mi,i.placeholder,r,s,l,r,r,n-a):Ae(this&&this!==we&&this instanceof i?o:t,this,s)}}function Ri(t){return function(e,n,o){var i=Wt(e);if(!Ks(e)){var a=ea(n,3);e=Fc(e),n=function(t){return a(i[t],t,i)}}var s=t(e,n,o);return s>-1?i[a?e[s]:s]:r}}function Ii(t){return Ki(function(e){var n=e.length,o=n,a=_r.prototype.thru;for(t&&e.reverse();o--;){var s=e[o];if("function"!=typeof s)throw new Xt(i);if(a&&!c&&"wrapper"==$i(s))var c=new _r([],!0)}for(o=c?o:n;++o<n;){var u=$i(s=e[o]),l="wrapper"==u?Qi(s):r;c=l&&ba(l[0])&&l[1]==(m|_|v|b)&&!l[4].length&&1==l[9]?c[$i(l[0])].apply(c,l[3]):1==s.length&&ba(s)?c[u]():c.thru(s)}return function(){var t=arguments,r=t[0];if(c&&1==t.length&&Ys(r))return c.plant(r).value();for(var o=0,i=n?e[o].apply(this,t):r;++o<n;)i=e[o].call(this,i);return i}})}function Mi(t,e,n,o,i,a,s,c,u,l){var h=e&m,d=e&p,v=e&f,g=e&(_|y),b=e&w,T=v?r:Ci(t);return function r(){for(var p=arguments.length,f=xt(p),_=p;_--;)f[_]=arguments[_];if(g)var y=ta(r),m=_n(f,y);if(o&&(f=fi(f,o,i,g)),a&&(f=di(f,a,s,g)),p-=m,g&&p<l){var w=xn(f,y);return Li(t,e,Mi,r.placeholder,n,f,w,c,u,l-p)}var S=d?n:this,O=v?S[t]:t;return p=f.length,c?f=Ma(f,c):b&&p>1&&f.reverse(),h&&u<p&&(f.length=u),this&&this!==we&&this instanceof r&&(O=T||Ci(O)),O.apply(S,f)}}function Ei(t,e){return function(n,r){return ao(n,t,e(r),{})}}function Di(t,e){return function(n,o){var i;if(n===r&&o===r)return e;if(n!==r&&(i=n),o!==r){if(i===r)return o;"string"==typeof n||"string"==typeof o?(n=qo(n),o=qo(o)):(n=Wo(n),o=Wo(o)),i=t(n,o)}return i}}function Ai(t){return Ki(function(e){return e=Ve(e,ln(ea())),Ao(function(n){var r=this;return t(e,function(t){return Ae(t,r,n)})})})}function Fi(t,e){var n=(e=e===r?" ":qo(e)).length;if(n<2)return n?Do(e,t):e;var o=Do(e,Nn(t/Mn(e)));return bn(e)?oi(En(o),0,t).join(""):o.slice(0,t)}function Ni(t,e,n,r){var o=e&p,i=Ci(t);return function e(){for(var a=-1,s=arguments.length,c=-1,u=r.length,l=xt(u+s),h=this&&this!==we&&this instanceof e?i:t;++c<u;)l[c]=r[c];for(;s--;)l[c++]=arguments[++a];return Ae(h,o?n:this,l)}}function ki(t){return function(e,n,o){return o&&"number"!=typeof o&&ga(e,n,o)&&(n=o=r),e=yc(e),n===r?(n=e,e=0):n=yc(n),Eo(e,n,o=o===r?e<n?1:-1:yc(o),t)}}function Ui(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=mc(e),n=mc(n)),t(e,n)}}function Li(t,e,n,o,i,a,s,c,u,l){var h=e&_;e|=h?v:g,(e&=~(h?g:v))&d||(e&=~(p|f));var y=[t,e,i,h?a:r,h?s:r,h?r:a,h?r:s,c,u,l],m=n.apply(r,y);return ba(t)&&Da(m,y),m.placeholder=o,Na(m,t,e)}function ji(t){var e=zt[t];return function(t,n){if(t=mc(t),(n=null==n?0:Wn(vc(n),292))&&Vn(t)){var r=(wc(t)+"e").split("e");return+((r=(wc(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Bi=$n&&1/Cn(new $n([,-0]))[1]==O?function(t){return new $n(t)}:hu;function Vi(t){return function(e){var n=ca(e);return n==V?Sn(e):n==Y?Pn(e):cn(e,t(e))}}function Gi(t,e,n,o,a,s,c,u){var l=e&f;if(!l&&"function"!=typeof t)throw new Xt(i);var h=o?o.length:0;if(h||(e&=~(v|g),o=a=r),c=c===r?c:zn(vc(c),0),u=u===r?u:vc(u),h-=a?a.length:0,e&g){var d=o,m=a;o=a=r}var b=l?r:Qi(t),w=[t,e,n,o,a,d,m,s,c,u];if(b&&xa(w,b),t=w[0],e=w[1],n=w[2],o=w[3],a=w[4],!(u=w[9]=w[9]===r?l?0:t.length:zn(w[9]-h,0))&&e&(_|y)&&(e&=~(_|y)),e&&e!=p)T=e==_||e==y?Pi(t,e,u):e!=v&&e!=(p|v)||a.length?Mi.apply(r,w):Ni(t,e,n,o);else var T=Si(t,e,n);return Na((b?Uo:Da)(T,w),t,e)}function Hi(t,e,n,o){return t===r||Hs(t,Zt[n])&&!te.call(o,n)?e:t}function zi(t,e,n,o,i,a){return rc(t)&&rc(e)&&(a.set(e,t),wo(t,e,r,zi,a),a.delete(e)),t}function Wi(t){return sc(t)?r:t}function qi(t,e,n,o,i,a){var s=n&l,c=t.length,u=e.length;if(c!=u&&!(s&&u>c))return!1;var p=a.get(t),f=a.get(e);if(p&&f)return p==e&&f==t;var d=-1,_=!0,y=n&h?new br:r;for(a.set(t,e),a.set(e,t);++d<c;){var v=t[d],g=e[d];if(o)var m=s?o(g,v,d,e,t,a):o(v,g,d,t,e,a);if(m!==r){if(m)continue;_=!1;break}if(y){if(!We(e,function(t,e){if(!pn(y,e)&&(v===t||i(v,t,n,o,a)))return y.push(e)})){_=!1;break}}else if(v!==g&&!i(v,g,n,o,a)){_=!1;break}}return a.delete(t),a.delete(e),_}function Yi(t,e,n,r,o,i,a){switch(n){case $:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Q:return!(t.byteLength!=e.byteLength||!i(new he(t),new he(e)));case N:case k:case G:return Hs(+t,+e);case L:return t.name==e.name&&t.message==e.message;case q:case X:return t==e+"";case V:var s=Sn;case Y:var c=r&l;if(s||(s=Cn),t.size!=e.size&&!c)return!1;var u=a.get(t);if(u)return u==e;r|=h,a.set(t,e);var p=qi(s(t),s(e),r,o,i,a);return a.delete(t),p;case K:if(lr)return lr.call(t)==lr.call(e)}return!1}function Xi(t,e,n,o,i,a){var s=n&l,c=Ji(t),u=c.length;if(u!=Ji(e).length&&!s)return!1;for(var h=u;h--;){var p=c[h];if(!(s?p in e:te.call(e,p)))return!1}var f=a.get(t),d=a.get(e);if(f&&d)return f==e&&d==t;var _=!0;a.set(t,e),a.set(e,t);for(var y=s;++h<u;){var v=t[p=c[h]],g=e[p];if(o)var m=s?o(g,v,p,e,t,a):o(v,g,p,t,e,a);if(!(m===r?v===g||i(v,g,n,o,a):m)){_=!1;break}y||(y="constructor"==p)}if(_&&!y){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(_=!1)}return a.delete(t),a.delete(e),_}function Ki(t){return Fa(Ra(t,r,Xa),t+"")}function Ji(t){return $r(t,Fc,aa)}function Zi(t){return $r(t,Nc,sa)}var Qi=nr?function(t){return nr.get(t)}:hu;function $i(t){for(var e=t.name+"",n=rr[e],r=te.call(rr,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function ta(t){return(te.call(pr,"placeholder")?pr:t).placeholder}function ea(){var t=pr.iteratee||su;return t=t===su?fo:t,arguments.length?t(arguments[0],arguments[1]):t}function na(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function ra(t){for(var e=Fc(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,Sa(o)]}return e}function oa(t,e){var n=mn(t,e);return po(n)?n:r}function ia(t){var e=te.call(t,qe),n=t[qe];try{t[qe]=r;var o=!0}catch(a){}var i=re.call(t);return o&&(e?t[qe]=n:delete t[qe]),i}var aa=jn?function(t){return null==t?[]:(t=Wt(t),Le(jn(t),function(e){return Te.call(t,e)}))}:gu,sa=jn?function(t){for(var e=[];t;)Ge(e,aa(t)),t=me(t);return e}:gu,ca=to;function ua(t,e,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Wn(e,t+a);break;case"takeRight":t=zn(t,e-a)}}return{start:t,end:e}}function la(t){var e=t.match(Pt);return e?e[1].split(Rt):[]}function ha(t,e,n){for(var r=-1,o=(e=ni(e,t)).length,i=!1;++r<o;){var a=ja(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&nc(o)&&va(a,o)&&(Ys(t)||qs(t))}function pa(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&te.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function fa(t){return"function"!=typeof t.constructor||Ta(t)?{}:fr(me(t))}function da(t,e,n){var r,o=t.constructor;switch(e){case Q:return si(t);case N:case k:return new o(+t);case $:return ci(t,n);case tt:case et:case nt:case rt:case ot:case it:case at:case st:case ct:return li(t,n);case V:return new o;case G:case X:return new o(t);case q:return ui(t);case Y:return new o;case K:return r=t,lr?Wt(lr.call(r)):{}}}function _a(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Ct,"{\n/* [wrapped with "+e+"] */\n")}function ya(t){return Ys(t)||qs(t)||!!(xe&&t&&t[xe])}function va(t,e){var n=typeof t;return!!(e=null==e?x:e)&&("number"==n||"symbol"!=n&&Lt.test(t))&&t>-1&&t%1==0&&t<e}function ga(t,e,n){if(!rc(n))return!1;var r=typeof e;return!!("number"==r?Ks(n)&&va(e,n.length):"string"==r&&e in n)&&Hs(n[e],t)}function ma(t,e){if(Ys(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!hc(t))||bt.test(t)||!mt.test(t)||null!=e&&t in Wt(e)}function ba(t){var e=$i(t),n=pr[e];if("function"!=typeof n||!(e in yr.prototype))return!1;if(t===n)return!0;var r=Qi(n);return!!r&&t===r[0]}(Jn&&ca(new Jn(new ArrayBuffer(1)))!=$||Zn&&ca(new Zn)!=V||Qn&&"[object Promise]"!=ca(Qn.resolve())||$n&&ca(new $n)!=Y||tr&&ca(new tr)!=Z)&&(ca=function(t){var e=to(t),n=e==z?t.constructor:r,o=n?Ba(n):"";if(o)switch(o){case or:return $;case ir:return V;case ar:return"[object Promise]";case sr:return Y;case cr:return Z}return e});var wa=Qt?tc:mu;function Ta(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Zt)}function Sa(t){return t==t&&!rc(t)}function Oa(t,e){return function(n){return null!=n&&n[t]===e&&(e!==r||t in Wt(n))}}function xa(t,e){var n=t[1],r=e[1],o=n|r,i=o<(p|f|m),s=r==m&&n==_||r==m&&n==b&&t[7].length<=e[8]||r==(m|b)&&e[7].length<=e[8]&&n==_;if(!i&&!s)return t;r&p&&(t[2]=e[2],o|=n&p?0:d);var c=e[3];if(c){var u=t[3];t[3]=u?fi(u,c,e[4]):c,t[4]=u?xn(t[3],a):e[4]}return(c=e[5])&&(u=t[5],t[5]=u?di(u,c,e[6]):c,t[6]=u?xn(t[5],a):e[6]),(c=e[7])&&(t[7]=c),r&m&&(t[8]=null==t[8]?e[8]:Wn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o,t}function Ca(t){var e=[];if(null!=t)for(var n in Wt(t))e.push(n);return e}function Pa(t){return re.call(t)}function Ra(t,e,n){return e=zn(e===r?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=zn(r.length-e,0),a=xt(i);++o<i;)a[o]=r[e+o];o=-1;for(var s=xt(e+1);++o<e;)s[o]=r[o];return s[e]=n(a),Ae(t,this,s)}}function Ia(t,e){return e.length<2?t:Qr(t,Bo(e,0,-1))}function Ma(t,e){for(var n=t.length,o=Wn(e.length,n),i=_i(t);o--;){var a=e[o];t[o]=va(a,n)?i[a]:r}return t}function Ea(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Da=ka(Uo),Aa=Fn||function(t,e){return we.setTimeout(t,e)},Fa=ka(Lo);function Na(t,e,n){var r=e+"";return Fa(t,_a(r,Va(la(r),n)))}function ka(t){var e=0,n=0;return function(){var o=qn(),i=S-(o-n);if(n=o,i>0){if(++e>=T)return arguments[0]}else e=0;return t.apply(r,arguments)}}function Ua(t,e){var n=-1,o=t.length,i=o-1;for(e=e===r?o:e;++n<e;){var a=Mo(n,i),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var La=function(){var t=Us(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(wt,function(t,n,r,o){e.push(r?o.replace(Et,"$1"):n||t)}),e},function(t){return 500===e.size&&e.clear(),t}),e=t.cache;return t}();function ja(t){if("string"==typeof t||hc(t))return t;var e=t+"";return"0"==e&&1/t==-O?"-0":e}function Ba(t){if(null!=t){try{return $t.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Va(t,e){return Ne(E,function(n){var r="_."+n[0];e&n[1]&&!je(t,r)&&t.push(r)}),t.sort()}function Ga(t){if(t instanceof yr)return t.clone();var e=new _r(t.__wrapped__,t.__chain__);return e.__actions__=_i(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ha=Ao(function(t,e){return Js(t)?jr(t,qr(e,1,Js,!0)):[]}),za=Ao(function(t,e){var n=$a(e);return Js(n)&&(n=r),Js(t)?jr(t,qr(e,1,Js,!0),ea(n,2)):[]}),Wa=Ao(function(t,e){var n=$a(e);return Js(n)&&(n=r),Js(t)?jr(t,qr(e,1,Js,!0),r,n):[]});function qa(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:vc(n);return o<0&&(o=zn(r+o,0)),Je(t,ea(e,3),o)}function Ya(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=o-1;return n!==r&&(i=vc(n),i=n<0?zn(o+i,0):Wn(i,o-1)),Je(t,ea(e,3),i,!0)}function Xa(t){return null!=t&&t.length?qr(t,1):[]}function Ka(t){return t&&t.length?t[0]:r}var Ja=Ao(function(t){var e=Ve(t,ti);return e.length&&e[0]===t[0]?io(e):[]}),Za=Ao(function(t){var e=$a(t),n=Ve(t,ti);return e===$a(n)?e=r:n.pop(),n.length&&n[0]===t[0]?io(n,ea(e,2)):[]}),Qa=Ao(function(t){var e=$a(t),n=Ve(t,ti);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?io(n,r,e):[]});function $a(t){var e=null==t?0:t.length;return e?t[e-1]:r}var ts=Ao(es);function es(t,e){return t&&t.length&&e&&e.length?Ro(t,e):t}var ns=Ki(function(t,e){var n=null==t?0:t.length,r=Ar(t,e);return Io(t,Ve(e,function(t){return va(t,n)?+t:t}).sort(hi)),r});function rs(t){return null==t?t:Kn.call(t)}var os=Ao(function(t){return Yo(qr(t,1,Js,!0))}),is=Ao(function(t){var e=$a(t);return Js(e)&&(e=r),Yo(qr(t,1,Js,!0),ea(e,2))}),as=Ao(function(t){var e=$a(t);return e="function"==typeof e?e:r,Yo(qr(t,1,Js,!0),r,e)});function ss(t){if(!t||!t.length)return[];var e=0;return t=Le(t,function(t){if(Js(t))return e=zn(t.length,e),!0}),sn(e,function(e){return Ve(t,en(e))})}function cs(t,e){if(!t||!t.length)return[];var n=ss(t);return null==e?n:Ve(n,function(t){return Ae(e,r,t)})}var us=Ao(function(t,e){return Js(t)?jr(t,e):[]}),ls=Ao(function(t){return Qo(Le(t,Js))}),hs=Ao(function(t){var e=$a(t);return Js(e)&&(e=r),Qo(Le(t,Js),ea(e,2))}),ps=Ao(function(t){var e=$a(t);return e="function"==typeof e?e:r,Qo(Le(t,Js),r,e)}),fs=Ao(ss),ds=Ao(function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,cs(t,n)});function _s(t){var e=pr(t);return e.__chain__=!0,e}function ys(t,e){return e(t)}var vs=Ki(function(t){var e=t.length,n=e?t[0]:0,o=this.__wrapped__,i=function(e){return Ar(e,t)};return!(e>1||this.__actions__.length)&&o instanceof yr&&va(n)?((o=o.slice(n,+n+(e?1:0))).__actions__.push({func:ys,args:[i],thisArg:r}),new _r(o,this.__chain__).thru(function(t){return e&&!t.length&&t.push(r),t})):this.thru(i)}),gs=mi(function(t,e,n){te.call(t,n)?++t[n]:Dr(t,n,1)}),ms=Ri(qa),bs=Ri(Ya);function ws(t,e){return(Ys(t)?Ne:Br)(t,ea(e,3))}function Ts(t,e){return(Ys(t)?ke:Vr)(t,ea(e,3))}var Ss=mi(function(t,e,n){te.call(t,n)?t[n].push(e):Dr(t,n,[e])}),Os=Ao(function(t,e,n){var r=-1,o="function"==typeof e,i=Ks(t)?xt(t.length):[];return Br(t,function(t){i[++r]=o?Ae(e,t,n):so(t,e,n)}),i}),xs=mi(function(t,e,n){Dr(t,n,e)});function Cs(t,e){return(Ys(t)?Ve:go)(t,ea(e,3))}var Ps=mi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Rs=Ao(function(t,e){if(null==t)return[];var n=e.length;return n>1&&ga(t,e[0],e[1])?e=[]:n>2&&ga(e[0],e[1],e[2])&&(e=[e[0]]),Oo(t,qr(e,1),[])}),Is=Rn||function(){return we.Date.now()};function Ms(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,Gi(t,m,r,r,r,r,e)}function Es(t,e){var n;if("function"!=typeof e)throw new Xt(i);return t=vc(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var Ds=Ao(function(t,e,n){var r=p;if(n.length){var o=xn(n,ta(Ds));r|=v}return Gi(t,r,e,n,o)}),As=Ao(function(t,e,n){var r=p|f;if(n.length){var o=xn(n,ta(As));r|=v}return Gi(e,r,t,n,o)});function Fs(t,e,n){var o,a,s,c,u,l,h=0,p=!1,f=!1,d=!0;if("function"!=typeof t)throw new Xt(i);function _(e){var n=o,i=a;return o=a=r,h=e,c=t.apply(i,n)}function y(t){return h=t,u=Aa(m,e),p?_(t):c}function v(t){var n=e-(t-l);return f?Wn(n,s-(t-h)):n}function g(t){var n=t-l;return l===r||n>=e||n<0||f&&t-h>=s}function m(){var t=Is();if(g(t))return b(t);u=Aa(m,v(t))}function b(t){return u=r,d&&o?_(t):(o=a=r,c)}function w(){var t=Is(),n=g(t);if(o=arguments,a=this,l=t,n){if(u===r)return y(l);if(f)return ii(u),u=Aa(m,e),_(l)}return u===r&&(u=Aa(m,e)),c}return e=mc(e)||0,rc(n)&&(p=!!n.leading,s=(f="maxWait"in n)?zn(mc(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),w.cancel=function(){u!==r&&ii(u),h=0,o=l=a=u=r},w.flush=function(){return u===r?c:b(Is())},w}var Ns=Ao(function(t,e){return Lr(t,1,e)}),ks=Ao(function(t,e,n){return Lr(t,mc(e)||0,n)});function Us(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Xt(i);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Us.Cache||mr),n}function Ls(t){if("function"!=typeof t)throw new Xt(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Us.Cache=mr;var js=ri(function(t,e){var n=(e=1==e.length&&Ys(e[0])?Ve(e[0],ln(ea())):Ve(qr(e,1),ln(ea()))).length;return Ao(function(r){for(var o=-1,i=Wn(r.length,n);++o<i;)r[o]=e[o].call(this,r[o]);return Ae(t,this,r)})}),Bs=Ao(function(t,e){var n=xn(e,ta(Bs));return Gi(t,v,r,e,n)}),Vs=Ao(function(t,e){var n=xn(e,ta(Vs));return Gi(t,g,r,e,n)}),Gs=Ki(function(t,e){return Gi(t,b,r,r,r,e)});function Hs(t,e){return t===e||t!=t&&e!=e}var zs=Ui(eo),Ws=Ui(function(t,e){return t>=e}),qs=co(function(){return arguments}())?co:function(t){return oc(t)&&te.call(t,"callee")&&!Te.call(t,"callee")},Ys=xt.isArray,Xs=Pe?ln(Pe):function(t){return oc(t)&&to(t)==Q};function Ks(t){return null!=t&&nc(t.length)&&!tc(t)}function Js(t){return oc(t)&&Ks(t)}var Zs=Bn||mu,Qs=Re?ln(Re):function(t){return oc(t)&&to(t)==k};function $s(t){if(!oc(t))return!1;var e=to(t);return e==L||e==U||"string"==typeof t.message&&"string"==typeof t.name&&!sc(t)}function tc(t){if(!rc(t))return!1;var e=to(t);return e==j||e==B||e==F||e==W}function ec(t){return"number"==typeof t&&t==vc(t)}function nc(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=x}function rc(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function oc(t){return null!=t&&"object"==typeof t}var ic=Ie?ln(Ie):function(t){return oc(t)&&ca(t)==V};function ac(t){return"number"==typeof t||oc(t)&&to(t)==G}function sc(t){if(!oc(t)||to(t)!=z)return!1;var e=me(t);if(null===e)return!0;var n=te.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&$t.call(n)==oe}var cc=Me?ln(Me):function(t){return oc(t)&&to(t)==q},uc=Ee?ln(Ee):function(t){return oc(t)&&ca(t)==Y};function lc(t){return"string"==typeof t||!Ys(t)&&oc(t)&&to(t)==X}function hc(t){return"symbol"==typeof t||oc(t)&&to(t)==K}var pc=De?ln(De):function(t){return oc(t)&&nc(t.length)&&!!de[to(t)]},fc=Ui(vo),dc=Ui(function(t,e){return t<=e});function _c(t){if(!t)return[];if(Ks(t))return lc(t)?En(t):_i(t);if(Ce&&t[Ce])return Tn(t[Ce]());var e=ca(t);return(e==V?Sn:e==Y?Cn:Hc)(t)}function yc(t){return t?(t=mc(t))===O||t===-O?(t<0?-1:1)*C:t==t?t:0:0===t?t:0}function vc(t){var e=yc(t),n=e%1;return e==e?n?e-n:e:0}function gc(t){return t?Fr(vc(t),0,R):0}function mc(t){if("number"==typeof t)return t;if(hc(t))return P;if(rc(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=rc(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=un(t);var n=Nt.test(t);return n||Ut.test(t)?ge(t.slice(2),n?2:8):Ft.test(t)?P:+t}function bc(t){return yi(t,Nc(t))}function wc(t){return null==t?"":qo(t)}var Tc=bi(function(t,e){if(Ta(e)||Ks(e))yi(e,Fc(e),t);else for(var n in e)te.call(e,n)&&Pr(t,n,e[n])}),Sc=bi(function(t,e){yi(e,Nc(e),t)}),Oc=bi(function(t,e,n,r){yi(e,Nc(e),t,r)}),xc=bi(function(t,e,n,r){yi(e,Fc(e),t,r)}),Cc=Ki(Ar),Pc=Ao(function(t,e){t=Wt(t);var n=-1,o=e.length,i=o>2?e[2]:r;for(i&&ga(e[0],e[1],i)&&(o=1);++n<o;)for(var a=e[n],s=Nc(a),c=-1,u=s.length;++c<u;){var l=s[c],h=t[l];(h===r||Hs(h,Zt[l])&&!te.call(t,l))&&(t[l]=a[l])}return t}),Rc=Ao(function(t){return t.push(r,zi),Ae(Uc,r,t)});function Ic(t,e,n){var o=null==t?r:Qr(t,e);return o===r?n:o}function Mc(t,e){return null!=t&&ha(t,e,ro)}var Ec=Ei(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=re.call(e)),t[e]=n},ru(au)),Dc=Ei(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=re.call(e)),te.call(t,e)?t[e].push(n):t[e]=[n]},ea),Ac=Ao(so);function Fc(t){return Ks(t)?Tr(t):_o(t)}function Nc(t){return Ks(t)?Tr(t,!0):yo(t)}var kc=bi(function(t,e,n){wo(t,e,n)}),Uc=bi(function(t,e,n,r){wo(t,e,n,r)}),Lc=Ki(function(t,e){var n={};if(null==t)return n;var r=!1;e=Ve(e,function(e){return e=ni(e,t),r||(r=e.length>1),e}),yi(t,Zi(t),n),r&&(n=Nr(n,s|c|u,Wi));for(var o=e.length;o--;)Xo(n,e[o]);return n}),jc=Ki(function(t,e){return null==t?{}:xo(t,e)});function Bc(t,e){if(null==t)return{};var n=Ve(Zi(t),function(t){return[t]});return e=ea(e),Co(t,n,function(t,n){return e(t,n[0])})}var Vc=Vi(Fc),Gc=Vi(Nc);function Hc(t){return null==t?[]:hn(t,Fc(t))}var zc=xi(function(t,e,n){return e=e.toLowerCase(),t+(n?Wc(e):e)});function Wc(t){return $c(wc(t).toLowerCase())}function qc(t){return(t=wc(t))&&t.replace(jt,yn).replace(se,"")}var Yc=xi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Xc=xi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Kc=Oi("toLowerCase"),Jc=xi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Zc=xi(function(t,e,n){return t+(n?" ":"")+$c(e)}),Qc=xi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),$c=Oi("toUpperCase");function tu(t,e,n){return t=wc(t),(e=n?r:e)===r?wn(t)?kn(t):Xe(t):t.match(e)||[]}var eu=Ao(function(t,e){try{return Ae(t,r,e)}catch(n){return $s(n)?n:new Gt(n)}}),nu=Ki(function(t,e){return Ne(e,function(e){e=ja(e),Dr(t,e,Ds(t[e],t))}),t});function ru(t){return function(){return t}}var ou=Ii(),iu=Ii(!0);function au(t){return t}function su(t){return fo("function"==typeof t?t:Nr(t,s))}var cu=Ao(function(t,e){return function(n){return so(n,t,e)}}),uu=Ao(function(t,e){return function(n){return so(t,n,e)}});function lu(t,e,n){var r=Fc(e),o=Zr(e,r);null!=n||rc(e)&&(o.length||!r.length)||(n=e,e=t,t=this,o=Zr(e,Fc(e)));var i=!(rc(n)&&"chain"in n&&!n.chain),a=tc(t);return Ne(o,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__),o=n.__actions__=_i(this.__actions__);return o.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Ge([this.value()],arguments))})}),t}function hu(){}var pu=Ai(Ve),fu=Ai(Ue),du=Ai(We);function _u(t){return ma(t)?en(ja(t)):Po(t)}var yu=ki(),vu=ki(!0);function gu(){return[]}function mu(){return!1}var bu,wu=Di(function(t,e){return t+e},0),Tu=ji("ceil"),Su=Di(function(t,e){return t/e},1),Ou=ji("floor"),xu=Di(function(t,e){return t*e},1),Cu=ji("round"),Pu=Di(function(t,e){return t-e},0);return pr.after=function(t,e){if("function"!=typeof e)throw new Xt(i);return t=vc(t),function(){if(--t<1)return e.apply(this,arguments)}},pr.ary=Ms,pr.assign=Tc,pr.assignIn=Sc,pr.assignInWith=Oc,pr.assignWith=xc,pr.at=Cc,pr.before=Es,pr.bind=Ds,pr.bindAll=nu,pr.bindKey=As,pr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ys(t)?t:[t]},pr.chain=_s,pr.chunk=function(t,e,n){e=(n?ga(t,e,n):e===r)?1:zn(vc(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var i=0,a=0,s=xt(Nn(o/e));i<o;)s[a++]=Bo(t,i,i+=e);return s},pr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o},pr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=xt(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Ge(Ys(n)?_i(n):[n],qr(e,1))},pr.cond=function(t){var e=null==t?0:t.length,n=ea();return t=e?Ve(t,function(t){if("function"!=typeof t[1])throw new Xt(i);return[n(t[0]),t[1]]}):[],Ao(function(n){for(var r=-1;++r<e;){var o=t[r];if(Ae(o[0],this,n))return Ae(o[1],this,n)}})},pr.conforms=function(t){return kr(Nr(t,s))},pr.constant=ru,pr.countBy=gs,pr.create=function(t,e){var n=fr(t);return null==e?n:Mr(n,e)},pr.curry=function t(e,n,o){var i=Gi(e,_,r,r,r,r,r,n=o?r:n);return i.placeholder=t.placeholder,i},pr.curryRight=function t(e,n,o){var i=Gi(e,y,r,r,r,r,r,n=o?r:n);return i.placeholder=t.placeholder,i},pr.debounce=Fs,pr.defaults=Pc,pr.defaultsDeep=Rc,pr.defer=Ns,pr.delay=ks,pr.difference=Ha,pr.differenceBy=za,pr.differenceWith=Wa,pr.drop=function(t,e,n){var o=null==t?0:t.length;return o?Bo(t,(e=n||e===r?1:vc(e))<0?0:e,o):[]},pr.dropRight=function(t,e,n){var o=null==t?0:t.length;return o?Bo(t,0,(e=o-(e=n||e===r?1:vc(e)))<0?0:e):[]},pr.dropRightWhile=function(t,e){return t&&t.length?Jo(t,ea(e,3),!0,!0):[]},pr.dropWhile=function(t,e){return t&&t.length?Jo(t,ea(e,3),!0):[]},pr.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&ga(t,e,n)&&(n=0,r=o),zr(t,e,n,r)):[]},pr.filter=function(t,e){return(Ys(t)?Le:Wr)(t,ea(e,3))},pr.flatMap=function(t,e){return qr(Cs(t,e),1)},pr.flatMapDeep=function(t,e){return qr(Cs(t,e),O)},pr.flatMapDepth=function(t,e,n){return n=n===r?1:vc(n),qr(Cs(t,e),n)},pr.flatten=Xa,pr.flattenDeep=function(t){return null!=t&&t.length?qr(t,O):[]},pr.flattenDepth=function(t,e){return null!=t&&t.length?qr(t,e=e===r?1:vc(e)):[]},pr.flip=function(t){return Gi(t,w)},pr.flow=ou,pr.flowRight=iu,pr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r},pr.functions=function(t){return null==t?[]:Zr(t,Fc(t))},pr.functionsIn=function(t){return null==t?[]:Zr(t,Nc(t))},pr.groupBy=Ss,pr.initial=function(t){return null!=t&&t.length?Bo(t,0,-1):[]},pr.intersection=Ja,pr.intersectionBy=Za,pr.intersectionWith=Qa,pr.invert=Ec,pr.invertBy=Dc,pr.invokeMap=Os,pr.iteratee=su,pr.keyBy=xs,pr.keys=Fc,pr.keysIn=Nc,pr.map=Cs,pr.mapKeys=function(t,e){var n={};return e=ea(e,3),Kr(t,function(t,r,o){Dr(n,e(t,r,o),t)}),n},pr.mapValues=function(t,e){var n={};return e=ea(e,3),Kr(t,function(t,r,o){Dr(n,r,e(t,r,o))}),n},pr.matches=function(t){return mo(Nr(t,s))},pr.matchesProperty=function(t,e){return bo(t,Nr(e,s))},pr.memoize=Us,pr.merge=kc,pr.mergeWith=Uc,pr.method=cu,pr.methodOf=uu,pr.mixin=lu,pr.negate=Ls,pr.nthArg=function(t){return t=vc(t),Ao(function(e){return So(e,t)})},pr.omit=Lc,pr.omitBy=function(t,e){return Bc(t,Ls(ea(e)))},pr.once=function(t){return Es(2,t)},pr.orderBy=function(t,e,n,o){return null==t?[]:(Ys(e)||(e=null==e?[]:[e]),Ys(n=o?r:n)||(n=null==n?[]:[n]),Oo(t,e,n))},pr.over=pu,pr.overArgs=js,pr.overEvery=fu,pr.overSome=du,pr.partial=Bs,pr.partialRight=Vs,pr.partition=Ps,pr.pick=jc,pr.pickBy=Bc,pr.property=_u,pr.propertyOf=function(t){return function(e){return null==t?r:Qr(t,e)}},pr.pull=ts,pr.pullAll=es,pr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ro(t,e,ea(n,2)):t},pr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Ro(t,e,r,n):t},pr.pullAt=ns,pr.range=yu,pr.rangeRight=vu,pr.rearg=Gs,pr.reject=function(t,e){return(Ys(t)?Le:Wr)(t,Ls(ea(e,3)))},pr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=ea(e,3);++r<i;){var a=t[r];e(a,r,t)&&(n.push(a),o.push(r))}return Io(t,o),n},pr.rest=function(t,e){if("function"!=typeof t)throw new Xt(i);return Ao(t,e=e===r?e:vc(e))},pr.reverse=rs,pr.sampleSize=function(t,e,n){return e=(n?ga(t,e,n):e===r)?1:vc(e),(Ys(t)?Or:No)(t,e)},pr.set=function(t,e,n){return null==t?t:ko(t,e,n)},pr.setWith=function(t,e,n,o){return o="function"==typeof o?o:r,null==t?t:ko(t,e,n,o)},pr.shuffle=function(t){return(Ys(t)?xr:jo)(t)},pr.slice=function(t,e,n){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&ga(t,e,n)?(e=0,n=o):(e=null==e?0:vc(e),n=n===r?o:vc(n)),Bo(t,e,n)):[]},pr.sortBy=Rs,pr.sortedUniq=function(t){return t&&t.length?zo(t):[]},pr.sortedUniqBy=function(t,e){return t&&t.length?zo(t,ea(e,2)):[]},pr.split=function(t,e,n){return n&&"number"!=typeof n&&ga(t,e,n)&&(e=n=r),(n=n===r?R:n>>>0)?(t=wc(t))&&("string"==typeof e||null!=e&&!cc(e))&&!(e=qo(e))&&bn(t)?oi(En(t),0,n):t.split(e,n):[]},pr.spread=function(t,e){if("function"!=typeof t)throw new Xt(i);return e=null==e?0:zn(vc(e),0),Ao(function(n){var r=n[e],o=oi(n,0,e);return r&&Ge(o,r),Ae(t,this,o)})},pr.tail=function(t){var e=null==t?0:t.length;return e?Bo(t,1,e):[]},pr.take=function(t,e,n){return t&&t.length?Bo(t,0,(e=n||e===r?1:vc(e))<0?0:e):[]},pr.takeRight=function(t,e,n){var o=null==t?0:t.length;return o?Bo(t,(e=o-(e=n||e===r?1:vc(e)))<0?0:e,o):[]},pr.takeRightWhile=function(t,e){return t&&t.length?Jo(t,ea(e,3),!1,!0):[]},pr.takeWhile=function(t,e){return t&&t.length?Jo(t,ea(e,3)):[]},pr.tap=function(t,e){return e(t),t},pr.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new Xt(i);return rc(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Fs(t,e,{leading:r,maxWait:e,trailing:o})},pr.thru=ys,pr.toArray=_c,pr.toPairs=Vc,pr.toPairsIn=Gc,pr.toPath=function(t){return Ys(t)?Ve(t,ja):hc(t)?[t]:_i(La(wc(t)))},pr.toPlainObject=bc,pr.transform=function(t,e,n){var r=Ys(t),o=r||Zs(t)||pc(t);if(e=ea(e,4),null==n){var i=t&&t.constructor;n=o?r?new i:[]:rc(t)&&tc(i)?fr(me(t)):{}}return(o?Ne:Kr)(t,function(t,r,o){return e(n,t,r,o)}),n},pr.unary=function(t){return Ms(t,1)},pr.union=os,pr.unionBy=is,pr.unionWith=as,pr.uniq=function(t){return t&&t.length?Yo(t):[]},pr.uniqBy=function(t,e){return t&&t.length?Yo(t,ea(e,2)):[]},pr.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?Yo(t,r,e):[]},pr.unset=function(t,e){return null==t||Xo(t,e)},pr.unzip=ss,pr.unzipWith=cs,pr.update=function(t,e,n){return null==t?t:Ko(t,e,ei(n))},pr.updateWith=function(t,e,n,o){return o="function"==typeof o?o:r,null==t?t:Ko(t,e,ei(n),o)},pr.values=Hc,pr.valuesIn=function(t){return null==t?[]:hn(t,Nc(t))},pr.without=us,pr.words=tu,pr.wrap=function(t,e){return Bs(ei(e),t)},pr.xor=ls,pr.xorBy=hs,pr.xorWith=ps,pr.zip=fs,pr.zipObject=function(t,e){return $o(t||[],e||[],Pr)},pr.zipObjectDeep=function(t,e){return $o(t||[],e||[],ko)},pr.zipWith=ds,pr.entries=Vc,pr.entriesIn=Gc,pr.extend=Sc,pr.extendWith=Oc,lu(pr,pr),pr.add=wu,pr.attempt=eu,pr.camelCase=zc,pr.capitalize=Wc,pr.ceil=Tu,pr.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=mc(n))==n?n:0),e!==r&&(e=(e=mc(e))==e?e:0),Fr(mc(t),e,n)},pr.clone=function(t){return Nr(t,u)},pr.cloneDeep=function(t){return Nr(t,s|u)},pr.cloneDeepWith=function(t,e){return Nr(t,s|u,e="function"==typeof e?e:r)},pr.cloneWith=function(t,e){return Nr(t,u,e="function"==typeof e?e:r)},pr.conformsTo=function(t,e){return null==e||Ur(t,e,Fc(e))},pr.deburr=qc,pr.defaultTo=function(t,e){return null==t||t!=t?e:t},pr.divide=Su,pr.endsWith=function(t,e,n){t=wc(t),e=qo(e);var o=t.length,i=n=n===r?o:Fr(vc(n),0,o);return(n-=e.length)>=0&&t.slice(n,i)==e},pr.eq=Hs,pr.escape=function(t){return(t=wc(t))&&_t.test(t)?t.replace(ft,vn):t},pr.escapeRegExp=function(t){return(t=wc(t))&&St.test(t)?t.replace(Tt,"\\$&"):t},pr.every=function(t,e,n){var o=Ys(t)?Ue:Gr;return n&&ga(t,e,n)&&(e=r),o(t,ea(e,3))},pr.find=ms,pr.findIndex=qa,pr.findKey=function(t,e){return Ke(t,ea(e,3),Kr)},pr.findLast=bs,pr.findLastIndex=Ya,pr.findLastKey=function(t,e){return Ke(t,ea(e,3),Jr)},pr.floor=Ou,pr.forEach=ws,pr.forEachRight=Ts,pr.forIn=function(t,e){return null==t?t:Yr(t,ea(e,3),Nc)},pr.forInRight=function(t,e){return null==t?t:Xr(t,ea(e,3),Nc)},pr.forOwn=function(t,e){return t&&Kr(t,ea(e,3))},pr.forOwnRight=function(t,e){return t&&Jr(t,ea(e,3))},pr.get=Ic,pr.gt=zs,pr.gte=Ws,pr.has=function(t,e){return null!=t&&ha(t,e,no)},pr.hasIn=Mc,pr.head=Ka,pr.identity=au,pr.includes=function(t,e,n,r){t=Ks(t)?t:Hc(t),n=n&&!r?vc(n):0;var o=t.length;return n<0&&(n=zn(o+n,0)),lc(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&Ze(t,e,n)>-1},pr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:vc(n);return o<0&&(o=zn(r+o,0)),Ze(t,e,o)},pr.inRange=function(t,e,n){return e=yc(e),n===r?(n=e,e=0):n=yc(n),oo(t=mc(t),e,n)},pr.invoke=Ac,pr.isArguments=qs,pr.isArray=Ys,pr.isArrayBuffer=Xs,pr.isArrayLike=Ks,pr.isArrayLikeObject=Js,pr.isBoolean=function(t){return!0===t||!1===t||oc(t)&&to(t)==N},pr.isBuffer=Zs,pr.isDate=Qs,pr.isElement=function(t){return oc(t)&&1===t.nodeType&&!sc(t)},pr.isEmpty=function(t){if(null==t)return!0;if(Ks(t)&&(Ys(t)||"string"==typeof t||"function"==typeof t.splice||Zs(t)||pc(t)||qs(t)))return!t.length;var e=ca(t);if(e==V||e==Y)return!t.size;if(Ta(t))return!_o(t).length;for(var n in t)if(te.call(t,n))return!1;return!0},pr.isEqual=function(t,e){return uo(t,e)},pr.isEqualWith=function(t,e,n){var o=(n="function"==typeof n?n:r)?n(t,e):r;return o===r?uo(t,e,r,n):!!o},pr.isError=$s,pr.isFinite=function(t){return"number"==typeof t&&Vn(t)},pr.isFunction=tc,pr.isInteger=ec,pr.isLength=nc,pr.isMap=ic,pr.isMatch=function(t,e){return t===e||ho(t,e,ra(e))},pr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,ho(t,e,ra(e),n)},pr.isNaN=function(t){return ac(t)&&t!=+t},pr.isNative=function(t){if(wa(t))throw new Gt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return po(t)},pr.isNil=function(t){return null==t},pr.isNull=function(t){return null===t},pr.isNumber=ac,pr.isObject=rc,pr.isObjectLike=oc,pr.isPlainObject=sc,pr.isRegExp=cc,pr.isSafeInteger=function(t){return ec(t)&&t>=-x&&t<=x},pr.isSet=uc,pr.isString=lc,pr.isSymbol=hc,pr.isTypedArray=pc,pr.isUndefined=function(t){return t===r},pr.isWeakMap=function(t){return oc(t)&&ca(t)==Z},pr.isWeakSet=function(t){return oc(t)&&"[object WeakSet]"==to(t)},pr.join=function(t,e){return null==t?"":Gn.call(t,e)},pr.kebabCase=Yc,pr.last=$a,pr.lastIndexOf=function(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=o;return n!==r&&(i=(i=vc(n))<0?zn(o+i,0):Wn(i,o-1)),e==e?In(t,e,i):Je(t,$e,i,!0)},pr.lowerCase=Xc,pr.lowerFirst=Kc,pr.lt=fc,pr.lte=dc,pr.max=function(t){return t&&t.length?Hr(t,au,eo):r},pr.maxBy=function(t,e){return t&&t.length?Hr(t,ea(e,2),eo):r},pr.mean=function(t){return tn(t,au)},pr.meanBy=function(t,e){return tn(t,ea(e,2))},pr.min=function(t){return t&&t.length?Hr(t,au,vo):r},pr.minBy=function(t,e){return t&&t.length?Hr(t,ea(e,2),vo):r},pr.stubArray=gu,pr.stubFalse=mu,pr.stubObject=function(){return{}},pr.stubString=function(){return""},pr.stubTrue=function(){return!0},pr.multiply=xu,pr.nth=function(t,e){return t&&t.length?So(t,vc(e)):r},pr.noConflict=function(){return we._===this&&(we._=ie),this},pr.noop=hu,pr.now=Is,pr.pad=function(t,e,n){t=wc(t);var r=(e=vc(e))?Mn(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return Fi(Ln(o),n)+t+Fi(Nn(o),n)},pr.padEnd=function(t,e,n){t=wc(t);var r=(e=vc(e))?Mn(t):0;return e&&r<e?t+Fi(e-r,n):t},pr.padStart=function(t,e,n){t=wc(t);var r=(e=vc(e))?Mn(t):0;return e&&r<e?Fi(e-r,n)+t:t},pr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Yn(wc(t).replace(Ot,""),e||0)},pr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&ga(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=yc(t),e===r?(e=t,t=0):e=yc(e)),t>e){var o=t;t=e,e=o}if(n||t%1||e%1){var i=Xn();return Wn(t+i*(e-t+ve("1e-"+((i+"").length-1))),e)}return Mo(t,e)},pr.reduce=function(t,e,n){var r=Ys(t)?He:rn,o=arguments.length<3;return r(t,ea(e,4),n,o,Br)},pr.reduceRight=function(t,e,n){var r=Ys(t)?ze:rn,o=arguments.length<3;return r(t,ea(e,4),n,o,Vr)},pr.repeat=function(t,e,n){return e=(n?ga(t,e,n):e===r)?1:vc(e),Do(wc(t),e)},pr.replace=function(){var t=arguments,e=wc(t[0]);return t.length<3?e:e.replace(t[1],t[2])},pr.result=function(t,e,n){var o=-1,i=(e=ni(e,t)).length;for(i||(i=1,t=r);++o<i;){var a=null==t?r:t[ja(e[o])];a===r&&(o=i,a=n),t=tc(a)?a.call(t):a}return t},pr.round=Cu,pr.runInContext=t,pr.sample=function(t){return(Ys(t)?Sr:Fo)(t)},pr.size=function(t){if(null==t)return 0;if(Ks(t))return lc(t)?Mn(t):t.length;var e=ca(t);return e==V||e==Y?t.size:_o(t).length},pr.snakeCase=Jc,pr.some=function(t,e,n){var o=Ys(t)?We:Vo;return n&&ga(t,e,n)&&(e=r),o(t,ea(e,3))},pr.sortedIndex=function(t,e){return Go(t,e)},pr.sortedIndexBy=function(t,e,n){return Ho(t,e,ea(n,2))},pr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Go(t,e);if(r<n&&Hs(t[r],e))return r}return-1},pr.sortedLastIndex=function(t,e){return Go(t,e,!0)},pr.sortedLastIndexBy=function(t,e,n){return Ho(t,e,ea(n,2),!0)},pr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Go(t,e,!0)-1;if(Hs(t[n],e))return n}return-1},pr.startCase=Zc,pr.startsWith=function(t,e,n){return t=wc(t),n=null==n?0:Fr(vc(n),0,t.length),e=qo(e),t.slice(n,n+e.length)==e},pr.subtract=Pu,pr.sum=function(t){return t&&t.length?an(t,au):0},pr.sumBy=function(t,e){return t&&t.length?an(t,ea(e,2)):0},pr.template=function(t,e,n){var o=pr.templateSettings;n&&ga(t,e,n)&&(e=r),t=wc(t),e=Oc({},e,o,Hi);var i,a,s=Oc({},e.imports,o.imports,Hi),c=Fc(s),u=hn(s,c),l=0,h=e.interpolate||Bt,p="__p += '",f=qt((e.escape||Bt).source+"|"+h.source+"|"+(h===gt?Dt:Bt).source+"|"+(e.evaluate||Bt).source+"|$","g"),d="//# sourceURL="+(te.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++fe+"]")+"\n";t.replace(f,function(e,n,r,o,s,c){return r||(r=o),p+=t.slice(l,c).replace(Vt,gn),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+e.length,e}),p+="';\n";var _=te.call(e,"variable")&&e.variable;if(_){if(Mt.test(_))throw new Gt("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(a?p.replace(ut,""):p).replace(lt,"$1").replace(ht,"$1;"),p="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=eu(function(){return Ht(c,d+"return "+p).apply(r,u)});if(y.source=p,$s(y))throw y;return y},pr.times=function(t,e){if((t=vc(t))<1||t>x)return[];var n=R,r=Wn(t,R);e=ea(e),t-=R;for(var o=sn(r,e);++n<t;)e(n);return o},pr.toFinite=yc,pr.toInteger=vc,pr.toLength=gc,pr.toLower=function(t){return wc(t).toLowerCase()},pr.toNumber=mc,pr.toSafeInteger=function(t){return t?Fr(vc(t),-x,x):0===t?t:0},pr.toString=wc,pr.toUpper=function(t){return wc(t).toUpperCase()},pr.trim=function(t,e,n){if((t=wc(t))&&(n||e===r))return un(t);if(!t||!(e=qo(e)))return t;var o=En(t),i=En(e);return oi(o,fn(o,i),dn(o,i)+1).join("")},pr.trimEnd=function(t,e,n){if((t=wc(t))&&(n||e===r))return t.slice(0,Dn(t)+1);if(!t||!(e=qo(e)))return t;var o=En(t);return oi(o,0,dn(o,En(e))+1).join("")},pr.trimStart=function(t,e,n){if((t=wc(t))&&(n||e===r))return t.replace(Ot,"");if(!t||!(e=qo(e)))return t;var o=En(t);return oi(o,fn(o,En(e))).join("")},pr.truncate=function(t,e){var n=30,o="...";if(rc(e)){var i="separator"in e?e.separator:i;n="length"in e?vc(e.length):n,o="omission"in e?qo(e.omission):o}var a=(t=wc(t)).length;if(bn(t)){var s=En(t);a=s.length}if(n>=a)return t;var c=n-Mn(o);if(c<1)return o;var u=s?oi(s,0,c).join(""):t.slice(0,c);if(i===r)return u+o;if(s&&(c+=u.length-c),cc(i)){if(t.slice(c).search(i)){var l,h=u;for(i.global||(i=qt(i.source,wc(At.exec(i))+"g")),i.lastIndex=0;l=i.exec(h);)var p=l.index;u=u.slice(0,p===r?c:p)}}else if(t.indexOf(qo(i),c)!=c){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+o},pr.unescape=function(t){return(t=wc(t))&&dt.test(t)?t.replace(pt,An):t},pr.uniqueId=function(t){var e=++ee;return wc(t)+e},pr.upperCase=Qc,pr.upperFirst=$c,pr.each=ws,pr.eachRight=Ts,pr.first=Ka,lu(pr,(bu={},Kr(pr,function(t,e){te.call(pr.prototype,e)||(bu[e]=t)}),bu),{chain:!1}),pr.VERSION="4.17.21",Ne(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){pr[t].placeholder=pr}),Ne(["drop","take"],function(t,e){yr.prototype[t]=function(n){n=n===r?1:zn(vc(n),0);var o=this.__filtered__&&!e?new yr(this):this.clone();return o.__filtered__?o.__takeCount__=Wn(n,o.__takeCount__):o.__views__.push({size:Wn(n,R),type:t+(o.__dir__<0?"Right":"")}),o},yr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Ne(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;yr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ea(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),Ne(["head","last"],function(t,e){var n="take"+(e?"Right":"");yr.prototype[t]=function(){return this[n](1).value()[0]}}),Ne(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");yr.prototype[t]=function(){return this.__filtered__?new yr(this):this[n](1)}}),yr.prototype.compact=function(){return this.filter(au)},yr.prototype.find=function(t){return this.filter(t).head()},yr.prototype.findLast=function(t){return this.reverse().find(t)},yr.prototype.invokeMap=Ao(function(t,e){return"function"==typeof t?new yr(this):this.map(function(n){return so(n,t,e)})}),yr.prototype.reject=function(t){return this.filter(Ls(ea(t)))},yr.prototype.slice=function(t,e){t=vc(t);var n=this;return n.__filtered__&&(t>0||e<0)?new yr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=vc(e))<0?n.dropRight(-e):n.take(e-t)),n)},yr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},yr.prototype.toArray=function(){return this.take(R)},Kr(yr.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),i=pr[o?"take"+("last"==e?"Right":""):e],a=o||/^find/.test(e);i&&(pr.prototype[e]=function(){var e=this.__wrapped__,s=o?[1]:arguments,c=e instanceof yr,u=s[0],l=c||Ys(e),h=function(t){var e=i.apply(pr,Ge([t],s));return o&&p?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var p=this.__chain__,f=!!this.__actions__.length,d=a&&!p,_=c&&!f;if(!a&&l){e=_?e:new yr(this);var y=t.apply(e,s);return y.__actions__.push({func:ys,args:[h],thisArg:r}),new _r(y,p)}return d&&_?t.apply(this,s):(y=this.thru(h),d?o?y.value()[0]:y.value():y)})}),Ne(["pop","push","shift","sort","splice","unshift"],function(t){var e=Kt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);pr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(Ys(o)?o:[],t)}return this[n](function(n){return e.apply(Ys(n)?n:[],t)})}}),Kr(yr.prototype,function(t,e){var n=pr[e];if(n){var r=n.name+"";te.call(rr,r)||(rr[r]=[]),rr[r].push({name:e,func:n})}}),rr[Mi(r,f).name]=[{name:"wrapper",func:r}],yr.prototype.clone=function(){var t=new yr(this.__wrapped__);return t.__actions__=_i(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=_i(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=_i(this.__views__),t},yr.prototype.reverse=function(){if(this.__filtered__){var t=new yr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},yr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ys(t),r=e<0,o=n?t.length:0,i=ua(0,o,this.__views__),a=i.start,s=i.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,h=l.length,p=0,f=Wn(c,this.__takeCount__);if(!n||!r&&o==c&&f==c)return Zo(t,this.__actions__);var d=[];t:for(;c--&&p<f;){for(var _=-1,y=t[u+=e];++_<h;){var v=l[_],g=v.iteratee,m=v.type,b=g(y);if(2==m)y=b;else if(!b){if(1==m)continue t;break t}}d[p++]=y}return d},pr.prototype.at=vs,pr.prototype.chain=function(){return _s(this)},pr.prototype.commit=function(){return new _r(this.value(),this.__chain__)},pr.prototype.next=function(){this.__values__===r&&(this.__values__=_c(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},pr.prototype.plant=function(t){for(var e,n=this;n instanceof dr;){var o=Ga(n);o.__index__=0,o.__values__=r,e?i.__wrapped__=o:e=o;var i=o;n=n.__wrapped__}return i.__wrapped__=t,e},pr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof yr){var e=t;return this.__actions__.length&&(e=new yr(this)),(e=e.reverse()).__actions__.push({func:ys,args:[rs],thisArg:r}),new _r(e,this.__chain__)}return this.thru(rs)},pr.prototype.toJSON=pr.prototype.valueOf=pr.prototype.value=function(){return Zo(this.__wrapped__,this.__actions__)},pr.prototype.first=pr.prototype.head,Ce&&(pr.prototype[Ce]=function(){return this}),pr}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(we._=Un,define(function(){return Un})):Se?((Se.exports=Un)._=Un,Te._=Un):we._=Un}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],AdapterMgr:[function(t,e,n){"use strict";cc._RF.push(e,"c7c88EclmxBRbUUgNKeHBgH","AdapterMgr");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.AdapterType=void 0;var o=0,i=1<<o++,a=1<<o++,s=1<<o++,c=1<<o++,u=1<<o++,l=a|s,h=c|u,p=1<<o++,f=1<<o++,d=1<<o++;(function(t){t[t.Top=c]="Top",t[t.Bottom=u]="Bottom",t[t.Left=a]="Left",t[t.Right=s]="Right",t[t.StretchWidth=l]="StretchWidth",t[t.StretchHeight=h]="StretchHeight",t[t.FullWidth=p]="FullWidth",t[t.FullHeight=f]="FullHeight"})(n.AdapterType||(n.AdapterType={}));var _=cc._decorator,y=_.ccclass,v=(_.property,function(){function t(){}var e;return e=t,Object.defineProperty(t,"inst",{get:function(){return null==this._instance&&(this._instance=new e,this._instance.visibleSize=cc.view.getVisibleSize(),console.log("visiable size: "+this._instance.visibleSize)),this._instance},enumerable:!1,configurable:!0}),t.prototype.adapteByType=function(t,e,n){void 0===n&&(n=0);for(var r=d;r>0;)r&t&&this._doAdapte(r,e,n),r>>=1;var o=e.getComponent(cc.Widget);o.target=cc.find("Canvas"),o.updateAlignment()},t.prototype._doAdapte=function(t,e,n){void 0===n&&(n=0);var r=e.getComponent(cc.Widget);switch(r||(r=e.addComponent(cc.Widget)),t){case i:break;case a:r.isAlignLeft=!0,r.isAbsoluteLeft=!0,r.left=n||0;break;case s:r.isAlignRight=!0,r.isAbsoluteRight=!0,r.right=n||0;break;case c:if(cc.sys.platform===cc.sys.WECHAT_GAME){var o=window.wx.getMenuButtonBoundingClientRect(),l=window.wx.getSystemInfoSync();n+=cc.find("Canvas").height*(o.top/l.screenHeight)}r.isAlignTop=!0,r.isAbsoluteTop=!0,r.top=n||0;break;case u:r.isAlignBottom=!0,r.isAbsoluteBottom=!0,r.bottom=n||0;break;case p:e.height/=e.width/this.visibleSize.width,e.width=this.visibleSize.width;break;case f:e.width/=e.height/this.visibleSize.height,e.height=this.visibleSize.height}},t.prototype.removeAdaptater=function(t){t.getComponent(cc.Widget)&&t.removeComponent(cc.Widget)},t._instance=null,e=r([y],t)}());n.default=v,cc._RF.pop()},{}],AutoFindPath:[function(t,e,n){"use strict";cc._RF.push(e,"8b2cbBZJ+VGGaj2+N51QmgM","AutoFindPath"),Object.defineProperty(n,"__esModule",{value:!0}),n.AutoFindPath=n.lands=n.models=void 0;var r,o,i=function(t,e){this.x=0,this.y=0,this.F=0,this.G=0,this.H=0,this.parent=null,this.K=o.normal,this.x=t,this.y=e};(function(t){t[t.normal=0]="normal",t[t.tilt=1]="tilt"})(r=n.models||(n.models={})),function(t){t[t.normal=1]="normal",t[t.hard=2]="hard"}(o=n.lands||(n.lands={}));var a=function(){function t(e,n){this.model=r.tilt,this.mapTable=new Map,this.openList=[],this.openListMap=new Map,this.fixClosedListMap=new Map,this.closedListMap=new Map,this.bronPoint=null,this.targetPoint=null,this.nowPoint=null,this.mapData=null,this.searchLimit=2e3,e.searchLimit>0&&(this.searchLimit=e.searchLimit),e.x=e.x-e.width*e.anchorX,e.y=e.y-e.height*e.anchorY,this.mapData=e;for(var o=0,a=Math.ceil(e.width/this.mapData.gridLength);o<a;++o)for(var s=0,c=Math.ceil(e.height/this.mapData.gridLength);s<c;++s)this.mapTable.set(o.toString()+t.sep+s.toString(),new i(o,s));n&&this.updateMap.apply(this,n),null===t._ins&&(t._ins=this)}return t.formatToMapData=function(t,e){return{anchorY:t.anchorY,anchorX:t.anchorX,height:t.height,width:t.width,x:t.x,y:t.y,gridLength:e,angle:-t.angle}},t.getKey=function(e){return e.x.toString()+t.sep+e.y.toString()},t.prototype.addToOpenList=function(e){var n=t.getKey(e);if(void 0===this.mapTable.get(n))throw new Error("this point not in map");if(this.openListMap.get(n)){var r=e.parent,o=e.F;return e.parent=this.nowPoint,this.F(e),e.F>o?(e.parent=r,void this.F(e)):void 0}e.parent=this.nowPoint,this.F(e),this.openList.push(e),this.openListMap.set(n,this.mapTable.get(n))},t.prototype.isInClosedList=function(e){var n=t.getKey(e);return!(!this.fixClosedListMap.get(n)&&!this.closedListMap.get(n))},t.prototype.removeMinFFromOpenList=function(){this.openList.sort(function(t,e){return t.F>e.F?-1:1});var t=this.openList.pop();return t&&this.removeFromOpenList(t),t},t.prototype.removeFromOpenList=function(e){var n=t.getKey(e);if(!this.openListMap.has(n))throw new Error("not in openList");this.openListMap.delete(n)},t.prototype.addToClosedList=function(e){var n=t.getKey(e);if(void 0===this.mapTable.get(n))throw new Error("this point not in map");if(this.closedListMap.get(n))throw new Error("is in closedList");this.closedListMap.set(n,this.mapTable.get(n))},Object.defineProperty(t,"ins",{get:function(){return t._ins},enumerable:!1,configurable:!0}),t.prototype.getGridPositions=function(e){var n=[],r=e.width,o=e.height;-90!==e.angle&&-270!==e.angle||(r+=o,r-=o=r-o);for(var i=e.x-r*e.anchorX,a=e.x+r*(1-e.anchorX),s=e.y-o*e.anchorY,c=e.y+o*(1-e.anchorY),u=this.getGridPositionRaw({x:i,y:s}),l=this.getGridPositionRaw({x:a,y:s}).x-u.x+1,h=this.getGridPositionRaw({x:i,y:c}).y-u.y+1,p=u.x,f=u.y,d=0,_=l;d<_;++d)for(var y=0,v=h;y<v;++y){var g=(d+p).toString()+t.sep+(f+y).toString();void 0!==this.mapTable.get(g)&&n.push(g)}return n},t.prototype.getGridPositionRaw=function(t){return{x:Math.floor((t.x-this.mapData.x)/this.mapData.gridLength),y:Math.floor((t.y-this.mapData.y)/this.mapData.gridLength)}},t.prototype.getGridPosition=function(e){return this.mapTable.get(t.getKey(this.getGridPositionRaw(e)))},t.prototype.updateMap=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,r=t;n<r.length;n++){var o=r[n];if(!(o.width*o.height<2))for(var i=0,a=this.getGridPositions(o);i<a.length;i++){var s=a[i];this.fixClosedListMap.set(s,this.mapTable.get(s))}}},t.prototype.removeFixObstacle=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,r=t;n<r.length;n++)for(var o=r[n],i=0,a=this.getGridPositions(o);i<a.length;i++){var s=a[i];this.fixClosedListMap.delete(s)}},t.prototype.removeAllObstacle=function(){this.fixClosedListMap.clear()},t.prototype.autoAddPathPoint=function(){var e={x:this.nowPoint.x,y:this.nowPoint.y+1},n={x:this.nowPoint.x+1,y:this.nowPoint.y},o={x:this.nowPoint.x,y:this.nowPoint.y-1},i={x:this.nowPoint.x-1,y:this.nowPoint.y},a=[e,n,o,i];this.model===r.tilt&&(this.isInClosedList(e)||this.isInClosedList(n)||a.push({x:this.nowPoint.x+1,y:this.nowPoint.y+1}),this.isInClosedList(o)||this.isInClosedList(n)||a.push({x:this.nowPoint.x+1,y:this.nowPoint.y-1}),this.isInClosedList(e)||this.isInClosedList(i)||a.push({x:this.nowPoint.x-1,y:this.nowPoint.y+1}),this.isInClosedList(o)||this.isInClosedList(i)||a.push({x:this.nowPoint.x-1,y:this.nowPoint.y-1}));for(var s=t.getKey(this.targetPoint),c=0,u=a;c<u.length;c++){var l=u[c],h=t.getKey(l),p=this.mapTable.get(h);void 0!==p&&(this.isInClosedList(p)&&h!==s||this.addToOpenList(p))}},t.prototype.findGridPath=function(e,n,r){this.clear(),this.model=r;var o=this.getGridPosition(e),i=this.getGridPosition(n);if(!o||this.fixClosedListMap.get(t.getKey(i)))return cc.error("\u8d77\u70b9\u6709\u8bef"),[];if(!i||this.fixClosedListMap.get(t.getKey(i)))return cc.error("\u7ec8\u70b9\u6709\u8bef"),[];this.nowPoint=this.bronPoint=this.mapTable.get(t.getKey(o)),this.targetPoint=this.mapTable.get(t.getKey(i));var a=[];if(t.getKey(o)===t.getKey(i))return a;for(var s=0;!this.closedListMap.get(t.getKey(this.targetPoint));){if(this.addToClosedList(this.nowPoint),this.autoAddPathPoint(),this.nowPoint=this.removeMinFFromOpenList(),void 0===this.nowPoint)return a;if(t.getKey(this.nowPoint)===t.getKey(this.targetPoint))break;if(++s>this.searchLimit)return cc.error("\u8def\u5f84\u641c\u5bfb\u8d85\u9650"),a}var c=t.getKey(this.targetPoint),u=t.getKey(this.bronPoint);do{var l=this.mapTable.get(c);a.push(l),c=t.getKey(l.parent)}while(c!==u);return a.reverse()},t.prototype.gridPositionConvertGameObjectPosition=function(t,e,n){for(var r=[],o=0,i=t;o<i.length;o++){var a=i[o],s=a.x*this.mapData.gridLength+this.mapData.x+this.mapData.gridLength*e.x,c=a.y*this.mapData.gridLength+this.mapData.y+this.mapData.gridLength*e.y;r.push(new n(s,c))}return r},t.prototype.hasObstacle=function(e){var n=!0;try{n=!!this.fixClosedListMap.get(t.getKey(this.getGridPosition(e)))}catch(r){}return n},t.prototype.clear=function(){this.openList.length=0,this.openListMap.clear(),this.closedListMap.clear(),this.bronPoint=null,this.targetPoint=null,this.nowPoint=null},t.prototype.F=function(e){t.G(e),this.H(e),e.F=e.G+e.H+e.K},t.G=function(t){t.parent.x===t.x||t.parent.y===t.y?t.G=t.parent.G+10:t.G=t.parent.G+14},t.prototype.H=function(t){t.H=10*Math.abs(this.targetPoint.x-t.x)+10*Math.abs(this.targetPoint.y-t.y)},t.getNextPosition=function(t,e,n,r){for(var o=n*r;;){var i=e[0],a=cc.v2(i.x,i.y),s=a.sub(t),c=s.mag();if(o<c)return t.add(s.mul(o/c));if(o-=c,e.shift(),0==e.length)return a}},t.prototype.setNodeZindex=function(e){e.zIndex=-t.ins.mapData.y-e.y},t.sep="_",t._ins=null,t}();n.AutoFindPath=a,cc._RF.pop()},{}],BaseAssembler:[function(t,e,n){"use strict";cc._RF.push(e,"e3feaq91SVBdIfW2t1TEvv2","BaseAssembler");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=cc.gfx,a=new i.VertexFormat([{name:i.ATTR_POSITION,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_UV0,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_COLOR,type:i.ATTR_TYPE_UINT8,num:4,normalize:!0}]),s=function(t){function e(){var e=t.call(this)||this;return e.verticesCount=4,e.indicesCount=6,e.floatsPerVert=5,e.uvOffset=2,e.colorOffset=4,e._renderData=null,e._local=null,e._renderData=new cc.RenderData,e._renderData.init(e),e.initData(),e.initLocal(),e}return o(e,t),Object.defineProperty(e.prototype,"verticesFloats",{get:function(){return this.verticesCount*this.floatsPerVert},enumerable:!1,configurable:!0}),e.prototype.getVfmt=function(){return a},e.prototype.getBuffer=function(){return cc.renderer._handle.getBuffer("mesh",this.getVfmt())},e.prototype.initData=function(){this._renderData.createQuadData(0,this.verticesFloats,this.indicesCount)},e.prototype.initLocal=function(){this._local=[],this._local.length=4},e.prototype.updateColor=function(t,e){var n=this._renderData.uintVDatas[0];if(n){e=null!=e?e:t.node.color._val;for(var r=this.floatsPerVert,o=this.colorOffset,i=0;i<this.verticesCount;i++)n[o+i*r]=e}},e.prototype.updateUVs=function(){for(var t=[0,1,1,1,0,0,1,0],e=this.uvOffset,n=this.floatsPerVert,r=this._renderData.vDatas[0],o=0;o<this.verticesCount;o++){var i=2*o,a=n*o+e;r[a]=t[i],r[a+1]=t[i+1]}},e.prototype.updateWorldVertsWebGL=function(t){var e=this._local,n=this._renderData.vDatas[0],r=t.node._worldMatrix.m,o=r[0],i=r[1],a=r[4],s=r[5],c=r[12],u=r[13],l=e[0],h=e[2],p=e[1],f=e[3],d=1===o&&0===i&&0===a&&1===s,_=0,y=this.floatsPerVert;if(d)n[_]=l+c,n[_+1]=p+u,n[_+=y]=h+c,n[_+1]=p+u,n[_+=y]=h+c,n[_+1]=f+u,n[_+=y]=l+c,n[_+1]=f+u,_+=y;else{var v=o*l,g=o*h,m=i*l,b=i*h,w=a*p,T=a*f,S=s*p,O=s*f;n[_]=v+w+c,n[_+1]=m+S+u,n[_+=y]=g+w+c,n[_+1]=b+S+u,n[_+=y]=v+T+c,n[_+1]=m+O+u,n[_+=y]=g+T+c,n[_+1]=b+O+u}},e.prototype.updateWorldVertsNative=function(){var t=this._local,e=this._renderData.vDatas[0],n=this.floatsPerVert,r=t[0],o=t[2],i=t[1],a=t[3],s=0;e[s]=r,e[s+1]=i,e[s+=n]=o,e[s+1]=i,e[s+=n]=r,e[s+1]=a,e[s+=n]=o,e[s+1]=a},e.prototype.updateWorldVerts=function(t){this.updateWorldVertsWebGL(t)},e.prototype.updateVerts=function(t){var e,n,r,o,i=t.node,a=i.width,s=i.height,c=i.anchorX*a,u=i.anchorY*s;e=-c,n=-u,r=a-c,o=s-u;var l=this._local;l[0]=e,l[1]=n,l[2]=r,l[3]=o,this.updateWorldVerts(t)},e.prototype.updateRenderData=function(t){t._vertsDirty&&(this.updateUVs(t),this.updateVerts(t),t._vertsDirty=!1)},e.prototype.fillBuffers=function(t,e){e.worldMatDirty&&this.updateWorldVerts(t);var n=this._renderData,r=n.vDatas[0],o=n.iDatas[0],i=this.getBuffer(),a=i.request(this.verticesCount,this.indicesCount),s=a.byteOffset>>2,c=i._vData;r.length+s>c.length?c.set(r.subarray(0,c.length-s),s):c.set(r,s);for(var u=i._iData,l=a.indiceOffset,h=a.vertexOffset,p=[0,1,2,0,2,3,4,5,6,4,6,7],f=0,d=o.length;f<d;f++)u[l++]=h+p[f]},e.prototype.packToDynamicAtlas=function(t,e){if(!e._original&&cc.dynamicAtlasManager&&e._texture.packable){var n=cc.dynamicAtlasManager.insertSpriteFrame(e);n&&e._setDynamicAtlasFrame(n)}var r=t._materials[0];r&&r.getProperty("texture")!==e._texture&&(t._vertsDirty=!0,t._updateMaterial())},e}(cc.Assembler);n.default=s,cc._RF.pop()},{}],BaseMgr:[function(t,e,n){"use strict";cc._RF.push(e,"5e629wf1WBDNaVfkPO8PSYi","BaseMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.BaseMgr=void 0;n.BaseMgr=function(t){this.game=null,this.game=t},cc._RF.pop()},{}],BaseRole:[function(t,e,n){"use strict";cc._RF.push(e,"a7f437+BQBGaLENl/LpKYRU","BaseRole");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../Common/BroadCasts/BroadcastCenter"),u=t("../../Config/GlobalData"),l=t("../../Config/ResConfig"),h=t("../../Enum/MessageType"),p=t("../../Extra/AutoFindPath"),f=t("../Manager/TableMgr"),d=cc._decorator,_=d.ccclass,y=d.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ani=null,e.talk=null,e.coffee=null,e.direction=l.EntityDirection.RIGHT_UP,e.awaitIndex=0,e.movePath=[],e.moveing=!1,e.tempBoxChild=[],e.home=null,e.makeRecipe=null,e._state=h.RoleType.COME,e}return o(e,t),e.prototype.start=function(){},e.prototype.init=function(t){this.home=t,this.state=h.RoleType.COME,this.talk.active=!1,this.coffee.active=!1},e.prototype.toPos=function(t){this.searchPath(t)},e.prototype.update=function(t){this.node.parent&&this.moveHandle(t)},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t},enumerable:!1,configurable:!0}),e.prototype.moveHandle=function(t){if(this.movePath.length<=0)return this.stand(),null;var e=p.AutoFindPath.getNextPosition(this.node.getPosition(),this.movePath,u.GlobalData.gameData.roleMoveSpeed,t),n=e.x-this.node.x,r=e.y-this.node.y;n>0&&(r>0&&l.EntityDirection.RIGHT_UP,r<0&&l.EntityDirection.RIGHT_DOWN,0==r&&(this.direction==l.EntityDirection.LEFT_UP||this.direction==l.EntityDirection.RIGHT_UP?l.EntityDirection.RIGHT_UP:l.EntityDirection.RIGHT_DOWN)),n<0&&(r>0&&l.EntityDirection.LEFT_UP,r<0&&l.EntityDirection.LEFT_DOWN,0==r&&(this.direction==l.EntityDirection.LEFT_UP||this.direction==l.EntityDirection.RIGHT_UP?l.EntityDirection.LEFT_UP:l.EntityDirection.LEFT_DOWN)),0==n&&(r>0&&(this.direction==l.EntityDirection.LEFT_UP||this.direction==l.EntityDirection.LEFT_DOWN?l.EntityDirection.LEFT_UP:l.EntityDirection.RIGHT_UP),r<0&&(this.direction==l.EntityDirection.LEFT_UP||this.direction==l.EntityDirection.LEFT_DOWN?l.EntityDirection.LEFT_DOWN:l.EntityDirection.RIGHT_DOWN),0==r&&this.direction),this.node.setPosition(e),this.run(),p.AutoFindPath.ins.setNodeZindex(this.node)},e.prototype.run=function(){this.moveing||(this.moveing=!0,this.ani.playAdditive(l.RoleState.run))},e.prototype.stand=function(){if(this.moveing)switch(this.state==h.RoleType.COME&&(this.state=h.RoleType.WAIT),this.moveing=!1,this.ani.playAdditive(l.RoleState.idle),this.state){case h.RoleType.LEAVE:this.home.rolePool.put(this.node);break;case h.RoleType.WAIT:1===this.awaitIndex&&(this.talk.active=!0),c.BroadcastCenter.buildingState.dispatch({id:this.awaitIndex,state:h.MessageType.RoleStand});break;case h.RoleType.SIT:this.coffee.active=!1,f.default.ins.queryNullTable().sit(this.makeRecipe,this)}},e.prototype.getCoffee=function(){this.talk.active=!1,this.coffee.active=!0,this.state=h.RoleType.LEAVE},e.prototype.changeTalk=function(t){t?this.closeTalk():this.startTalk()},e.prototype.searchPath=function(t){return a(this,void 0,void 0,function(){var e;return s(this,function(){return this.movePath.length=0,0===(e=p.AutoFindPath.ins.gridPositionConvertGameObjectPosition(p.AutoFindPath.ins.findGridPath(this.node,t,p.models.tilt),cc.v2(.5,.5),cc.Vec2)).length?(console.log("\u6b7b\u8def"),[2]):(this.movePath=e,[2])})})},e.prototype.startTalk=function(){this.ani.playAdditive(l.RoleState.idle),this.ani.node.active=!1},e.prototype.closeTalk=function(){this.ani.node.active=!0},e.prefabPath="Prefab/Common/Role",i([y(cc.Animation)],e.prototype,"ani",void 0),i([y(cc.Node)],e.prototype,"talk",void 0),i([y(cc.Node)],e.prototype,"coffee",void 0),i([_],e)}(cc.Component);n.default=v,cc._RF.pop()},{"../../Common/BroadCasts/BroadcastCenter":"BroadcastCenter","../../Config/GlobalData":"GlobalData","../../Config/ResConfig":"ResConfig","../../Enum/MessageType":"MessageType","../../Extra/AutoFindPath":"AutoFindPath","../Manager/TableMgr":"TableMgr"}],BaseTable:[function(t,e,n){"use strict";cc._RF.push(e,"4b193bvs7lFoIdxAmx7/wnl","BaseTable");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Utils/CommonUtils"),s=t("../../Config/GlobalData"),c=t("../../Enum/MessageType"),u=cc._decorator,l=u.ccclass,h=u.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coffee=null,e.laji=null,e._state=c.TableType.NONE,e.makeRecipe=null,e.role=null,e.tablePath="img/table",e.coffeePath="img/recipe",e.home=null,e.initPos=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.init=function(t){this.home=t,this.initPos=this.coffee.node.position},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t},enumerable:!1,configurable:!0}),e.prototype.sit=function(t,e){this.state=c.TableType.DRINK,this.role=e,this.makeRecipe=t,this.coffee.node.position=this.initPos,a.CommonUtils.setItemSpriteFrame(this.coffee,""+s.GlobalData.recipePath+t.ID),this.coffee.node.active=!0,this.scheduleOnce(this.leval,s.GlobalData.gameData.drinkTime)},e.prototype.leval=function(){this.state=c.TableType.TRASH,this.coffee.spriteFrame=this.laji,this.coffee.node.position=cc.v3(this.initPos.x,this.initPos.y-20,this.initPos.z),this.home.leave(this.role)},e.prefabPath="Prefab/Common/table",i([h(cc.Sprite)],e.prototype,"coffee",void 0),i([h(cc.SpriteFrame)],e.prototype,"laji",void 0),i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Common/Utils/CommonUtils":"CommonUtils","../../Config/GlobalData":"GlobalData","../../Enum/MessageType":"MessageType"}],BatchAssembler:[function(t,e,n){"use strict";cc._RF.push(e,"3989dU4L8BIBJM9muUNLD0B","BatchAssembler");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=t("./BaseAssembler"),a=cc.RenderFlow.FLAG_RENDER|cc.RenderFlow.FLAG_POST_RENDER,s=cc.RenderFlow.FLAG_OPACITY|cc.RenderFlow.FLAG_WORLD_TRANSFORM,c=!0,u=function(t){function e(){var e=t.call(this)||this;return e._groups=[],e}return o(e,t),e.prototype.fillBuffers=function(t,e){if(c){var n=(e.worldMatDirty?cc.RenderFlow.FLAG_WORLD_TRANSFORM:0)|(e.parentOpacityDirty?cc.RenderFlow.FLAG_OPACITY_COLOR:0);t.node.__DirtyFlag__=n,this._groups=[],this._walkByName(t.node.children)}},e.prototype.postFillBuffers=function(t,e){var n=e.worldMatDirty;if(c&&this._groups&&!(this._groups.length<=0)){c=!1;for(var r=0,o=this._groups;r<o.length;r++){var i=o[r];if(!(i.length<=0))for(var a=0,s=i;a<s.length;a++){var u=s[a],l=u.__RenderFlag__,h=u.__DirtyFlag__;e.worldMatDirty=h>0?1:0,u._renderFlag|=l,l&&cc.RenderFlow.flows[l]._func(u)}}this._groups=null,c=!0,e.worldMatDirty=n}},e.prototype._walkDefault=function(t){if(t&&!(t.length<=0)){for(var e=t[0].childrenCount,n=[],r=0;r<e;r++)n[r]=[];for(var o=[],i=0,c=t;i<c.length;i++){var u=c[i];if(u._activeInHierarchy&&0!=u.opacity){var l=u._renderFlag&a;for(l>0&&(u.__RenderFlag__=l,u._renderFlag&=~l,o.push(u)),u.__DirtyFlag__=u.parent.__DirtyFlag__|u._renderFlag&s,r=0;r<e;r++)n[r].push(u.children[r])}}o.length>0&&this._groups.push(o);for(var h=0,p=n;h<p.length;h++){var f=p[h];this._walkDefault(f)}}},e.prototype._walkByName=function(t){if(t&&!(t.length<=0)){for(var e={},n=[],r=[],o=0,i=t;o<i.length;o++){var c=i[o];if(c._activeInHierarchy&&0!=c.opacity){var u=c._renderFlag&a;u>0&&(c.__RenderFlag__=u,c._renderFlag&=~u,n.push(c)),c.__DirtyFlag__=c.parent.__DirtyFlag__|c._renderFlag&s;for(var l="",h=0,p=c.children;h<p.length;h++){var f=p[h];if(e[v=f.name]||(e[v]=[]),e[v].push(f),-1==r.indexOf(v))if(0==l.length)r.unshift(v);else{var d=r.indexOf(l);r.splice(d+1,0,v)}l=v}}}n.length>0&&this._groups.push(n);for(var _=0,y=r;_<y.length;_++){var v=y[_];this._walkByName(e[v])}}},e}(i.default);n.default=u,cc._RF.pop()},{"./BaseAssembler":"BaseAssembler"}],BatchComponent:[function(t,e,n){"use strict";cc._RF.push(e,"d393a5ZdPJN0q6Ay73BaSB9","BatchComponent");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,s=t("../Assemblers/BatchAssembler");(function(t){t[t.Default=0]="Default",t[t.SameName=1]="SameName"})(a||(a={}));var c=cc._decorator,u=c.ccclass,l=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mode=0,e}return o(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.node._renderFlag|=cc.RenderFlow.FLAG_POST_RENDER},e.prototype._resetAssembler=function(){this.setVertsDirty(),(this._assembler=new s.default).init(this)},i([l({type:cc.Enum(a),tooltip:"\u904d\u5386\u6a21\u5f0f: Default \u9ed8\u8ba4\u7684\u5e7f\u5ea6\u904d\u5386, SameName \u540c\u540d\u7ed3\u70b9\u540c\u6279\u6b21"})],e.prototype,"mode",void 0),i([u],e)}(cc.RenderComponent);n.default=h,cc._RF.pop()},{"../Assemblers/BatchAssembler":"BatchAssembler"}],BigNumUtils:[function(t,e,n){"use strict";var r;cc._RF.push(e,"c4b72NccXhGKofOUM3hVrvP","BigNumUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.RountType=void 0,function(t){t[t.Round=0]="Round",t[t.Floor=1]="Floor",t[t.Ceil=2]="Ceil"}(r=n.RountType||(n.RountType={}));var o=function(){function t(){}return t.BNPlus=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[0,0],r=0;r<t.length;r++){var o,i,a=t[r],s=+a;0===s||s&&s!==1/0?(i=a<10?0:Math.floor(Math.log10(+a)+1e-6),o=a<10?a:a/Math.pow(10,i)):a?(o=+(a=a.split("e"))[0]||0,i=+a[1]||0):(o=0,i=0),i>n[1]?(n[0]/=Math.pow(10,i-n[1]),n[0]+=o,n[1]=i):n[0]+=o/Math.pow(10,n[1]-i)}for(var c=n[0]>=0?1:-1,u=Math.abs(n[0]);u<1&&n[1]>0;)u*=10,n[1]-=1;for(;u>10;)u/=10,n[1]+=1;return(u*=c)+"e"+n[1]},t.BNMinus=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[0,0],r=0;r<t.length;r++){var o,i,a=t[r],s=r,c=+a;0===c||c&&c!==1/0?(i=a<10?0:Math.floor(Math.log10(+a)+1e-6),o=a<10?a:a/Math.pow(10,i)):(o=+(a=a.split("e"))[0],i=+a[1]),s?n[1]<i?(n[0]=n[0]/Math.pow(10,i-n[1])-o,n[1]=i):n[0]-=o/Math.pow(10,n[1]-i):(n[0]=o,n[1]=i)}for(var u=n[0]>=0?1:-1,l=Math.abs(n[0]);l<1&&n[1]>0;)l*=10,n[1]-=1;for(;l>10;)l/=10,n[1]+=1;return(l*=u)+"e"+n[1]},t.BNTimes=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=[0,0];t.forEach(function(t,e){var r,o,i=+t;0===i||i&&i!==1/0?(o=t<10?0:Math.floor(Math.log10(+t)+1e-6),r=t<10?t:t/Math.pow(10,o)):t?(r=+(t=t.split("e"))[0]||0,o=+t[1]||0):(r=1,o=0),e?(n[0]*=r,n[1]+=o,n[0]>1e300&&(n[0]/=1e300,n[1]+=300)):(n[0]=r,n[1]=o)});for(var r=n[0]>=0?1:-1,o=Math.abs(n[0]);o<1&&n[1]>0;)o*=10,n[1]-=1;for(;o>10;)o/=10,n[1]+=1;return o*r+"e"+n[1]},t.BNDevide=function(t,e){if(0==+e)return 0;var n=[0,0],r=1;[t,e].forEach(function(t,e){var o,i,a=+t,s=Math.abs(a);0===s||s&&s!==1/0?(i=s<10?0:Math.floor(Math.log10(s)+1e-6),o=s<10?s:s/Math.pow(10,i)):(a=+(t=t.split("e"))[0],o=Math.abs(a),i=+t[1]),r*=a>=0?1:-1,0===e?(n[0]=o,n[1]=i):(n[0]/=o,n[1]-=i)});for(var o=Math.abs(n[0]);o<1&&n[1]>0;)o*=10,n[1]-=1;for(;o>10;)o/=10,n[1]+=1;return o*=r,n[1]<100?o*Math.pow(10,n[1]):this.BNTimes(o,this.BNPow(10,n[1]))},t.BNCompare=function(t,e){var n=[0,0],r=[0,0];return[t,e].forEach(function(t,e){var o=+t;0===o||o&&o!==1/0?(r[e]=t<10?0:Math.floor(Math.log10(+t)+1e-6),n[e]=t<10?t:t/Math.pow(10,r[e])):(t=t.split("e"),n[e]=+t[0],r[e]=+t[1])}),n[0]*n[1]<0?n[0]>0?1:-1:r[1]>r[0]?-1:r[1]<r[0]?1:n[1]>n[0]?-1:n[1]<n[0]?1:0},t.BNPow=function(t,e){if(!t)return"0";if(!e)return"1";var n=Math.floor(Math.log(1e300)/Math.log(t)),r=1;if((n=Math.max(n,1))>=e)r=Math.pow(t,e);else{for(var o=Math.floor(e/n),i=[],a=Math.pow(t,n),s=0;s<o;s++)i.push(a);i.push(Math.pow(t,e-n*o)),r=this.BNTimes.apply(this,i)}return r},t.BNMax=function(t,e){return this.BNCompare(t,e)>0?t:e},t.BNMin=function(t,e){return this.BNCompare(t,e)>0?e:t},t.BNLog=function(t){var e=+t;if(0===e||e&&e!==1/0){var n=e>=0?1:-1;return e=Math.abs(e),n*Math.log10(e)}return+t.split("e")[1]},t.BNSqrt=function(t){var e=+t;if(0===e||e&&e!==1/0)return Math.sqrt(e);var n=t.split("e"),r=+n[0],o=+n[1];return Math.sqrt(r)+"e"+o/2},t.BNSqrtEx=function(t,e){var n=+t;if(0===n||n&&n!==1/0)return Math.pow(n,1/e);var r=t.split("e"),o=+r[0],i=+r[1];return Math.pow(o,1/e)+"e"+i/e},t.BNFloor=function(t){var e=+t;return 0===e||e&&e!==1/0?Math.floor(e):t},t.BNCeil=function(t){var e=+t;return 0===e||e&&e!==1/0?Math.ceil(e):t},t.BNRound=function(t){var e=+t;return 0===e||e&&e!==1/0?Math.round(e):t},t.BN2Number=function(t){var e=+t;if(0===e||e&&e!==1/0)return e;var n=t.split("e");return+n[0]*Math.pow(10,n[1])},t.getOwnString=function(t){return this.getNumberString(t,void 0,void 0,r.Floor)},t.getCostString=function(t){return this.getNumberString(t,void 0,void 0,r.Ceil)},t.getNumberString=function(t,e,n,o){var i,a;void 0===e&&(e=0),void 0===o&&(o=r.Round);var s,c=+t;if(0===c||c&&c!==1/0){if(t<1e3)return this.roundNum(t,o,e);var u=""+Math.round(t),l=0;if(~u.indexOf("e")){var h=+u.split("e")[0],p=+u.split("e")[1];l=p+=Math.floor(Math.log10(h))}else l=Math.floor(Math.log10(t));i=~u.indexOf("e")?+u.split("e")[0]*Math.pow(10,l%3):+u.slice(0,l%3+4)/1e3,a=l/3>>0}else{if(+(t=t.split("e"))[1]<3){var f=t[0]*Math.pow(10,t[1]);return this.roundNum(f,o,e)}for(i=t[0]*Math.pow(10,t[1]%3);i>1e3;)i/=1e3,t[1]=+t[1]+3;a=t[1]/3>>0}if(a<4)s=["","K","M","B"][a];else{var d=(a-4)/26>>0,_=d/26>>0,y=(a-4)%26,v="abcdefghijklmnopqrstuvwxyz",g=v.toUpperCase();s=(_<2?v:g)[d%26]+(_%2?g:v)[y]}return void 0===n&&(n=i<10?2:i<100?1:0),this.roundNum(i,o,n)+s},t.roundNum=function(t,e,n){var o,i;if(o=e===r.Round?Math.round:e===r.Ceil?Math.ceil:Math.floor,0===n)i=o(t);else{var a=Math.pow(10,n);i=o(a*t)/a}return i.toFixed(n)},t.getFixNumber=function(t,e){void 0===e&&(e=1);var n=Math.pow(10,e);return Math.floor(t*n)/n},t.getPercentString=function(t,e){return void 0===e&&(e=1),"string"==typeof t?this.getNumberString(this.BNTimes(t,100),e)+"%":this.getNumberString(100*t,e)+"%"},t}();n.default=o,cc._RF.pop()},{}],BroadCast:[function(t,e,n){"use strict";cc._RF.push(e,"082ecq87BtC3qGrtG+cRJqY","BroadCast"),Object.defineProperty(n,"__esModule",{value:!0}),n.ListenerBinding=n.Broadcast=void 0;var r=function(){function t(){this.bindings=[]}return t.prototype.on=function(t,e){var n=new o(t,e,!1,this);return this.bindings.push(n),n},t.prototype.once=function(t,e){var n=new o(t,e,!0,this);return this.bindings.push(n),n},t.prototype.dispatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=!1,r=0,o=this.bindings;r<o.length;r++){var i=o[r];i.hasDestroyed?n=!0:i.execute.apply(i,t)}if(n)for(var a=0;a<this.bindings.length;a++)this.bindings[a].hasDestroyed&&(this.bindings.splice(a,1),a--)},t.prototype.get=function(t,e){for(var n=0,r=this.bindings;n<r.length;n++){var o=r[n];if(o.listener==t&&o.target==e&&!o.hasDestroyed)return o}return null},t.prototype.has=function(t,e){for(var n=0,r=this.bindings;n<r.length;n++){var o=r[n];if(o.listener==t&&o.target==e&&!o.hasDestroyed)return!0}return!1},t.prototype.remove=function(t,e){for(var n=0,r=this.bindings;n<r.length;n++){var o=r[n];if(o.listener==t&&o.target==e&&!o.hasDestroyed)return o.destroy()}},t.prototype.removeAll=function(){for(;this.bindings.length;)this.bindings.pop().destroy()},t}();n.Broadcast=r;var o=function(){function t(t,e,n,r){var o=this;this.destroySelf=function(){o.destroy()},this.listener=t,this.target=e,this.once=n,this.broadcast=r,this.hasDestroyed=!1}return t.prototype.execute=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.hasDestroyed){var n=this.listener.apply(this.target,t);return this.once&&this.destroy(),n}return null},t.prototype.destroy=function(){this.listener=null,this.target=null,this.once=null,this.broadcast=null,this.hasDestroyed=!0},t}();n.ListenerBinding=o,cc._RF.pop()},{}],BroadcastCenter:[function(t,e,n){"use strict";cc._RF.push(e,"c1631mjt99N+bqKIUwCcgeG","BroadcastCenter"),Object.defineProperty(n,"__esModule",{value:!0}),n.BroadcastCenter=n.BuildingData=void 0;var r=t("../Utils/BroadCast");n.BuildingData=function(){};var o=function(){function t(){}return t.buildingState=new r.Broadcast,t}();n.BroadcastCenter=o,o.buildingState.on(function(t){console.log(t.id,t.state)},this),o.buildingState.dispatch({id:1,state:"success"}),cc._RF.pop()},{"../Utils/BroadCast":"BroadCast"}],ButtonPlus:[function(t,e,n){"use strict";cc._RF.push(e,"3eaf8iLxgtDEKVcEmFvrbqy","ButtonPlus");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../UIFrame/SoundMgr"),s=cc._decorator,c=s.ccclass,u=s.property,l=s.executeInEditMode,h=s.menu,p=s.help,f=s.inspector,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioUrl="",e.openContinuous=!0,e.continuousTime=1,e.continuous=!1,e._continuousTimer=null,e.openLongPress=!1,e.longPressTime=1,e.longPressFlag=!1,e.longPressTimer=null,e}return o(e,t),e.prototype.onEnable=function(){this.continuous=!1,t.prototype.onEnable.call(this)},e.prototype.onDisable=function(){this._continuousTimer&&(clearTimeout(this._continuousTimer),this._continuousTimer=null),this.longPressTimer&&(clearTimeout(this.longPressTimer),this.longPressTimer=null),t.prototype.onDisable.call(this)},e.prototype._onTouchBegan=function(t){this.interactable&&this.enabledInHierarchy&&(this.openLongPress&&!this.longPressFlag&&(this.longPressTimer&&clearTimeout(this.longPressTimer),this.longPressTimer=setTimeout(function(){this._pressed&&(this.node.emit("longclickStart",this),this.longPressFlag=!0)}.bind(this),1e3*this.longPressTime)),this._pressed=!0,this._updateState(),t.stopPropagation())},e.prototype._onTouchEnded=function(t){this.interactable&&this.enabledInHierarchy&&(this._pressed&&this.longPressFlag?(this.node.emit("longclickEnd",this),this.longPressFlag=!1):this._pressed&&!this.continuous&&(this.continuous=!!this.openContinuous,cc.Component.EventHandler.emitEvents(this.clickEvents,t),this.node.emit("click",t),a.default.inst.playEffect(this.audioUrl),this.openContinuous&&(this._continuousTimer=setTimeout(function(){this.continuous=!1}.bind(this),1e3*this.continuousTime))),this._pressed=!1,this._updateState(),t.stopPropagation())},e.prototype._onTouchCancel=function(){this.interactable&&this.enabledInHierarchy&&(this._pressed&&this.longPressFlag&&(this.node.emit("longclickEnd",this),this.longPressFlag=!1),this._pressed=!1,this._updateState())},e.prototype.addClick=function(t,e){this.node.off("click"),this.node.on("click",t,e)},e.prototype.addLongClick=function(t,e,n){this.node.off("longclickStart"),this.node.off("longclickEnd"),this.node.on("longclickStart",t,n),this.node.on("longclickEnd",e,n)},i([u({tooltip:"\u97f3\u6548\u8def\u5f84",type:"",multiline:!0,formerlySerializedAs:"_N$string"})],e.prototype,"audioUrl",void 0),i([u({tooltip:"\u5c4f\u853d\u8fde\u7eed\u70b9\u51fb"})],e.prototype,"openContinuous",void 0),i([u({tooltip:"\u5c4f\u853d\u65f6\u95f4, \u5355\u4f4d:\u79d2"})],e.prototype,"continuousTime",void 0),i([u({tooltip:"\u662f\u5426\u5f00\u542f\u957f\u6309\u4e8b\u4ef6"})],e.prototype,"openLongPress",void 0),i([u({tooltip:"\u957f\u6309\u65f6\u95f4"})],e.prototype,"longPressTime",void 0),i([c,h("i18n:MAIN_MENU.component.ui/ButtonPlus"),l,p("i18n:COMPONENT.help_url.button"),f("packages://buttonplus/inspector.js")],e)}(cc.Button);n.default=d,cc._RF.pop()},{"../../UIFrame/SoundMgr":"SoundMgr"}],CacheUtils:[function(t,e,n){"use strict";cc._RF.push(e,"f7caav8yMdOrZNrAy/SIOIW","CacheUtils");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../UIFrame/ResMgr"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.com=null,e.passTime=0,e}return o(e,t),e.prototype.onLoad=function(){this.com=this.getComponent(cc.Label)},e.prototype.start=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){t.node.x+=e.getDeltaX(),t.node.y+=e.getDeltaY()},this)},e.prototype.update=function(t){this.passTime+=t,this.passTime>1&&(this.passTime=0,this.com.string=a.default.inst.computeTextureCache())},i([c],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../../UIFrame/ResMgr":"ResMgr"}],CameraCapture:[function(t,e,n){"use strict";cc._RF.push(e,"29803DQKJdC2KvHyjig9y8N","CameraCapture");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../UIFrame/CocosHelper"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.captureNode=null,e.camera=null,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.inst=this,this.camera=this.getComponent(cc.Camera),this.camera||(this.camera=this.addComponent(cc.Camera)),this.node.active=!1},e.prototype.start=function(){},e.prototype.captureTexture=function(){this.node.active=!0,this.captureNode.active=!1;var t=a.default.captureScreen(this.camera,this.captureNode);return this.captureNode.active=!0,this.node.active=!1,t},e.inst=null,i([u(cc.Node)],e.prototype,"captureNode",void 0),n=i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../UIFrame/CocosHelper":"CocosHelper"}],ClassHelper:[function(t,e,n){"use strict";cc._RF.push(e,"8a6f5OHp8dBpb72DtfAMWuK","ClassHelper"),Object.defineProperty(n,"__esModule",{value:!0}),n.GetClassByName=n.RigisterClass=void 0;var r=cc.js.createMap();n.RigisterClass=function(t){return function(e){r[t]=e}},n.GetClassByName=function(t){return r[t]},cc._RF.pop()},{}],CocosHelper:[function(t,e,n){"use strict";cc._RF.push(e,"d6791Dm+YVK/qXMfQo5ktVd","CocosHelper");var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.LoadProgress=void 0;var i=function(){};n.LoadProgress=i;var a=function(){function t(){}return t.callInNextTick=function(){return r(this,void 0,void 0,function(){return o(this,function(){return[2,new Promise(function(t){setTimeout(function(){t(!0)},0)})]})})},t.runRepeatTweenSync=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return r(this,void 0,void 0,function(){return o(this,function(){return[2,new Promise(function(r){for(var o=cc.tween(t),i=0,a=n;i<a.length;i++){var s=a[i];o=o.then(s)}e<0?cc.tween(t).repeatForever(o).start():cc.tween(t).repeat(e,o).call(function(){r(!0)}).start()})]})})},t.runTweenSync=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return r(this,void 0,Promise,function(){return o(this,function(){return[2,new Promise(function(n){for(var r=cc.tween(t),o=0,i=e;o<i.length;o++){var a=i[o];r=r.then(a)}r.call(function(){n()}).start()})]})})},t.prototype.stopTween=function(t){cc.Tween.stopAllByTarget(t)},t.prototype.stopTweenByTag=function(t){cc.Tween.stopAllByTag(t)},t.runActionSync=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return r(this,void 0,void 0,function(){return o(this,function(){return!e||e.length<=0?[2]:[2,new Promise(function(n){e.push(cc.callFunc(function(){n(!0)})),t.runAction(cc.sequence(e))})]})})},t.runAnimSync=function(e,n){return r(this,void 0,void 0,function(){var r,i,a,s;return o(this,function(o){switch(o.label){case 0:if(!(r=e.getComponent(cc.Animation)))return[2];if(i=null,n){if(a=r.getClips(),"number"==typeof n)i=a[n];else if("string"==typeof n)for(s=0;s<a.length;s++)if(a[s].name===n){i=a[s];break}}else i=r.defaultClip;return i?[4,t.sleepSync(i.duration)]:[2];case 1:return o.sent(),[2]}})})},t.loadResThrowErrorSync=function(){return null},t.loadRes=function(t,e,n){var r=this;this._loadingMap[t]?this._loadingMap[t].push(n):(this._loadingMap[t]=[n],this.loadResSync(t,e).then(function(e){for(var n=0,o=r._loadingMap[t];n<o.length;n++)(0,o[n])(e);r._loadingMap[t]=null,delete r._loadingMap[t]}))},t.loadResSync=function(t,e,n){var r=this;return new Promise(function(o){n||(n=r._onProgress),cc.resources.load(t,e,n,function(e,n){e?(cc.error(t+" [\u8d44\u6e90\u52a0\u8f7d] \u9519\u8bef "+e),o(null)):o(n)})})},t._onProgress=function(e,n,r){t.loadProgress.completedCount=e,t.loadProgress.totalCount=n,t.loadProgress.item=r,t.loadProgress.cb&&t.loadProgress.cb(e,n,r)},t.findChildInNode=function(t,e){if(e.name==t)return e;for(var n=0;n<e.childrenCount;n++){var r=this.findChildInNode(t,e.children[n]);if(r)return r}return null},t.getComponentName=function(t){var e=t.name.match(/<.*>$/);return e&&e.length>0?e[0].slice(1,-1):t.name},t.loadBundleSync=function(t,e){return new Promise(function(n){cc.assetManager.loadBundle(t,e,function(e,r){e?(cc.error("\u52a0\u8f7dbundle\u5931\u8d25, url: "+t+", err:"+e),n(null)):n(r)})})},t.loadAssetFromBundleSync=function(t,e){var n=cc.assetManager.getBundle(t);return n?new Promise(function(t){n.load(e,function(n,r){n?(cc.error("\u52a0\u8f7dbundle\u4e2d\u7684\u8d44\u6e90\u5931\u8d25, \u672a\u627e\u5230asset, url:"+e+", err:"+n),t(null)):t(r)})}):(cc.error("\u52a0\u8f7dbundle\u4e2d\u7684\u8d44\u6e90\u5931\u8d25, \u672a\u627e\u5230bundle, bundleUrl:"+t),null)},t.loadAssetSync=function(t){var e=this;return new Promise(function(n){cc.resources.load(t,function(r,o){r?(e.addRef(o),n(o)):(cc.error("\u52a0\u8f7dasset\u5931\u8d25, url:"+t+", err: "+r),n(null))})})},t.releaseAsset=function(t){this.decRes(t)},t.addRef=function(t){if(t instanceof Array)for(var e=0,n=t;e<n.length;e++)n[e].addRef();else t.addRef()},t.decRes=function(t){if(t instanceof Array)for(var e=0,n=t;e<n.length;e++)n[e].decRef();else t.decRef()},t.captureScreen=function(t,e){var n=new cc.RenderTexture,r=t.targetTexture,o=cc.rect(0,0,cc.visibleRect.width,cc.visibleRect.height);e&&(o=e instanceof cc.Node?e.getBoundingBoxToWorld():e),n.initWithSize(cc.visibleRect.width,cc.visibleRect.height,cc.game._renderContext.STENCIL_INDEX8),t.targetTexture=n,t.render(),t.targetTexture=r;var i=new ArrayBuffer(o.width*o.height*4),a=new Uint8Array(i);return n.readPixels(a,o.x,o.y,o.width,o.height),a},t.loadProgress=new i,t.sleepSync=function(t){return new Promise(function(e){cc.Canvas.instance.scheduleOnce(function(){e(!0)},t)})},t._loadingMap={},t}();n.default=a,cc._RF.pop()},{}],Coffee:[function(t,e,n){"use strict";cc._RF.push(e,"071a9kn30BEsouzuJRkjaZl","Coffee");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Common/Utils/CommonUtils"),u=t("../Config/GlobalData"),l=t("../Config/MessageInfo"),h=t("../UIFrame/CocosHelper"),p=t("../UIScript/toast/UIToast1"),f=cc._decorator,d=f.ccclass,_=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tumbler_b=null,e.tumbler_f=null,e.coffee=null,e.coffeeMaterial=null,e.desk=null,e.topAnimaStep=.1,e.topAnimaSpeed=.1,e.initWaveHeight=.1,e.tempWaveHeight=.9,e}return o(e,t),e.prototype.start=function(){this.init()},e.prototype.initData=function(t){this.desk=t},e.prototype.init=function(){this.node.active=!1,this.node.position=cc.v3(0,61),this.node.angle=8,this.initWaveHeight=.1,this.tempWaveHeight=.9,this.coffee.setMaterial(0,this.coffeeMaterial),this.coffeeMaterial=this.coffee.getMaterial(0),this.coffeeMaterial.setProperty("isWave",.3),this.coffeeMaterial.setProperty("waveHeight",this.tempWaveHeight)},e.prototype.changeCoffer=function(t){t&&(c.CommonUtils.setItemSpriteFrame(this.coffee,""+u.GlobalData.coffeeTypePath+t.ID),c.CommonUtils.setItemSpriteFrame(this.tumbler_b,""+u.GlobalData.tumblerePath+t.tumbler_b),c.CommonUtils.setItemSpriteFrame(this.tumbler_f,""+u.GlobalData.tumblerePath+t.tumbler_f))},e.prototype.runTopUp=function(){this.coffeeMaterial.setProperty("isWave",.4),this.coffeeMaterial.setProperty("waveHeight",this.tempWaveHeight),this.schedule(this.topUpAnima,this.topAnimaSpeed)},e.prototype.topUpAnima=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this.tempWaveHeight-=.01,this.tempWaveHeight>.3?(this.coffeeMaterial.setProperty("waveHeight",this.tempWaveHeight),[3,3]):[3,1];case 1:return this.coffeeMaterial.setProperty("isWave",.2),this.tempWaveHeight=this.initWaveHeight,this.unschedule(this.topUpAnima),p.default.open({info:l.MessageInfo.makeSucc}),this.desk.view.Reform.active=!0,this.desk.view.Ok.active=!0,this.desk.view.Menu.active=!1,[4,h.default.runTweenSync(this.node,cc.tween().by(.5,{position:cc.v3(-this.node.parent.position.x,0)}))];case 2:t.sent(),t.label=3;case 3:return[2]}})})},i([_(cc.Sprite)],e.prototype,"tumbler_b",void 0),i([_(cc.Sprite)],e.prototype,"tumbler_f",void 0),i([_(cc.Sprite)],e.prototype,"coffee",void 0),i([_(cc.Material)],e.prototype,"coffeeMaterial",void 0),i([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../Common/Utils/CommonUtils":"CommonUtils","../Config/GlobalData":"GlobalData","../Config/MessageInfo":"MessageInfo","../UIFrame/CocosHelper":"CocosHelper","../UIScript/toast/UIToast1":"UIToast1"}],CommonUtils:[function(t,e,n){"use strict";cc._RF.push(e,"9814d/85SFDfo1f4MmYfH4s","CommonUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.CommonUtils=void 0;var r=t("../../UIFrame/CocosHelper"),o=t("./MatchUtils"),i={nextInt:function(t,e){return Math.floor(Math.random()*(e-t))+t},next01:function(){return Math.random()}},a=function(){function t(){}return t.isArray=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},t.foramtDate=function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),"S+":t.getMilliseconds()};for(var r in/(y+)/i.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,("00"+n[r]).substr((""+n[r]).length)));return e},t.getElemClamped=function(t,e){return t[Math.max(0,Math.min(t.length-1,e))]},t.randomIntClosedRange=function(t,e){return Math.floor(Math.random()*(e-t+.9999)+t)},t.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(e[n]==t)return n;return-1},t.indexOfArr=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e.length,o=!1,i=0;i<=t.length-r;i+=r){o=!0;for(var a=0;a<r;a++)if(t[i+a]!==e[a]){o=!1;break}if(o)return i}return-1},t.floatEqual=function(t,e,n){return void 0===n&&(n=1e-6),Math.abs(t-e)<n},t.formatTimeInterval=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),e=n||e;var r="",o=Math.floor(t/3600);t%=3600;var i=Math.floor(t/60);return(n||o>0)&&(o<10&&(r+="0"),r+=o+":"),(e||i>0||o>0)&&(i<10&&(r+="0"),r+=i+":"),(t=Math.floor(t%60))<10&&(r+="0"),r+t},t.alignNumber=function(t,e){return t-Math.floor(t/e)*e},t.formatNumber=function(t){var e=""+Math.floor(t),n="",r=0;if(-1==e.indexOf(".")){for(var o=e.length-1;o>=0;o--)n=r%3==0&&0!=r?e.charAt(o)+","+n:e.charAt(o)+n,r++;return n}for(o=e.indexOf(".")-1;o>=0;o--)n=r%3==0&&0!=r?e.charAt(o)+","+n:e.charAt(o)+n,r++;return n+(e+"00").substr((e+"00").indexOf("."),3)},t.updateLabelSize=function(t){t._updateRenderData(!0)},t.lerp=function(t,e,n){return t+(e-t)*n},t.shuffle=function(t,e,n,r){void 0===e&&(e=i),void 0===n&&(n=0),void 0===r&&(r=-1),e=e||i,r<0&&(r=t.length-n);for(var o=0;o<r;o++){var a=e.nextInt(n,n+r-o),s=t[a];t[a]=t[r-o-1+n],t[r-o-1+n]=s}},t.setItemSpriteFrame=function(t,e,n){void 0===n&&(n=null),t.spriteFrameName=e,r.default.loadResSync(e,cc.SpriteFrame).then(function(r){t.isValid&&t.spriteFrameName==e&&(t.spriteFrame=r,n&&n(t))})},t.addSimpleClick=function(t,e){var n=t,r=null;n.on(cc.Node.EventType.TOUCH_START,function(t){r=t.getLocation()},this),n.on(cc.Node.EventType.TOUCH_END,function(t){r&&r.subSelf(t.getLocation()).mag()<3&&e()},this)},t.isGoodNumber=function(t){return"number"==typeof t&&!Number.isNaN(t)},t.getVisibleRect=function(){var t=cc.view.getViewportRect();return cc.rect(t.origin.x/-cc.view.getScaleX(),t.origin.y/-cc.view.getScaleY(),(t.size.width+2*t.origin.x)/cc.view.getScaleX(),(t.size.height+2*t.origin.y)/cc.view.getScaleY())},t.httpGet=function(t,e){var n=cc.loader.getXMLHttpRequest();n.onreadystatechange=function(){if(4===n.readyState&&200==n.status){var t=n.responseText,r=JSON.parse(t);e(r)}else 4===n.readyState&&401==n.status&&e({ret:1})},n.withCredentials=!0,n.open("GET",t,!0),n.withCredentials=!1,n.setRequestHeader("Access-Control-Allow-Origin","*"),n.setRequestHeader("Access-Control-Allow-Methods","GET, POST"),n.setRequestHeader("Access-Control-Allow-Headers","x-requested-with,content-type,authorization"),n.setRequestHeader("Content-Type","application/json"),n.timeout=8e3,n.send()},t.randomGaussian=function(t,e,n){void 0===n&&(n=i);var r=(n=n||i).next01(),o=n.next01();return Math.sqrt(-2*Math.log(r))*Math.cos(2*Math.PI*o)*e+t},t.deepCopy=function(t,e){for(var n in e)this._deepCopyFields(t,e,n)},t.constructObjectMap=function(t){var e=new Map;for(var n in t){var r=t[n];"object"==typeof r?e.set(n,this.constructObjectMap(r)):e.set(n,r)}return e},t._deepCopyFields=function(t,e,n){var r=e[n];if("number"==typeof r||"string"==typeof r)t[n]=r;else if(this.isArray[r])for(var o=t[n]=[],i=0;i<r.length;i++)this._deepCopyFields(o,r,i);else if(null==r)t[n]=null;else if("object"==typeof r){var a=new r.constructor;for(var s in e)this._deepCopyFields(a,r,s)}},t.formatNumberToEng=function(e){if(e<1&&e>0)return"1";e=Math.floor(e);var n=Math.floor(t.getExponent(e));if(n<13){if(n<4)return e+"";var r=Math.floor(n/t.constNum),o=n%t.constNum;return String(e/Math.pow(10,r*t.constNum)).substr(0,t.constNum+o)+t.getUnit(n)}return(e/Math.pow(10,n)).toFixed(3)+"e"+n},t.getExponent=function(t){for(var e=0;t>=10;)e++,t/=10;return e},t.getUnit=function(e){var n=Math.floor(e/t.constNum);return e<13?t.unitArr[n]:"e"+(n=Math.floor(e/t.constNum))*t.constNum},t.formatEngNumber=function(t,e){var n,r;return void 0===e&&(e=2),(t=t)>=1e6?(r=t/1e6,n=(.001*Math.floor(r/.001)).toFixed(e),this.formatEndingZero(n)+"M"):t>=1e3?(r=t/1e3,n=(.001*Math.floor(r/.001)).toFixed(e),this.formatEndingZero(n)+"K"):t+""},t.formatEndingZero=function(t){if(-1!=t.indexOf(".")){if(this.endWith(t,"00"))return t.substring(0,t.length-3);if(this.endWith(t,"0"))return t.substring(0,t.length-1)}return t},t.endWith=function(t,e){return e==t.substring(t.length-e.length)},t.makeMaxWidthLabel=function(t,e){var n={};return n.__proto__=t,Object.defineProperty(n,"string",{configurable:!0,enumerable:!0,get:function(){return t.string},set:function(n){t.overflow=cc.Label.Overflow.NONE,t.string=n,t._updateRenderData(!0),t.node.width>e&&(t.overflow=cc.Label.Overflow.RESIZE_HEIGHT,t.node.setContentSize(e,1),t.string=n)}}),n},t.climeUserName=function(t,e){void 0===e&&(e=14);for(var n=t.length;this.strlen(t)>e;)t=t.substring(0,t.length-1);return t.length!=n&&(t+="..."),t},t.strlen=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r>=1&&r<=126||65376<=r&&r<=65439?e++:e+=2}return e},t.shuffleArr=function(t){for(var e,n,r,o=t.length,i=0;i<o;i++){n=o-i-1,void 0,r=t[e=Math.floor(Math.random()*(o-i))],t[e]=t[n],t[n]=r}return t},t.binarySearch=function(t,e,n){void 0===n&&(n=!1);for(var r=0,o=t.length-1;o-r>1;){var i=Math.floor((r+o)/2);if(e<t[i])o=i;else{if(!(e>t[i]))return i;r=i}}return n?r==t.length-1?t.length:o:0==o?-1:r},t.isInTriangle=function(t,e,n,r){var o=n.sub(e),i=r.sub(e),a=r.sub(n),s=t.sub(e),c=t.sub(n);return o.cross(i)>=0^o.cross(s)<0&&o.cross(i)>=0^i.cross(s)>=0&&a.cross(o)>0^a.cross(c)>=0},t.isInPolygon=function(t,e){var n,r,o,i,a=0,s=e.length;for(o=e[0],n=1;n<=s;n++)i=e[n%s],t.x>Math.min(o.x,i.x)&&t.x<=Math.max(o.x,i.x)&&t.y<=Math.max(o.y,i.y)&&o.x!=i.x&&(r=(t.x-o.x)*(i.y-o.y)/(i.x-o.x)+o.y,(o.y==i.y||t.y<=r)&&a++),o=i;return 0!=(1&a)},t.splitePolygon=function(t){if(t.length<=3)return[0,1,2];for(var e={},n=0;n<t.length;n++){var r=t[n];e[r.x+"-"+r.y]=n}var o=function(t){return e[t.x+"-"+t.y]};t=t.concat([]);for(var i=[],a=0;t.length>3;){var s=t[a%t.length],c=t[(a+1)%t.length],u=t[(a+2)%t.length],l=(a+1)%t.length,h=c.sub(s),p=u.sub(c);if(h.cross(p)<0)a=(a+1)%t.length;else{for(var f=!1,d=0,_=t;d<_.length;d++)if((r=_[d])!=s&&r!=c&&r!=u&&this.isInTriangle(r,s,c,u)){f=!0;break}f?a=(a+1)%t.length:(i.push(o(s),o(c),o(u)),t.splice(l,1))}}for(var y=0,v=t;y<v.length;y++)r=v[y],i.push(o(r));return i},t.computeUv=function(t,e,n){for(var r=[],i=0,a=t;i<a.length;i++){var s=a[i],c=o.MathUtils.clamp(0,1,(s.x+e/2)/e),u=o.MathUtils.clamp(0,1,1-(s.y+n/2)/n);r.push(cc.v2(c,u))}return r},t.tweenFloat=function(t,e,n,r,o,i){void 0===i&&(i=!0);var a={_value:t};Object.defineProperty(a,"value",{get:function(){return a._value},set:function(t){a._value=t,r&&r(a._value)}});var s=cc.tween(a).to(n,{value:e}).call(o);return i&&s.start(),s},t.tweenVec2=function(t,e,n,r,o,i){void 0===i&&(i=!0);var a={_value:t};Object.defineProperty(a,"value",{get:function(){return a._value},set:function(t){a._value=t,r&&r(a._value)}});var s=cc.tween(a).to(n,{value:e}).call(o);return i&&s.start(),s},t.unitArr=["","K","M","B"],t.constNum=3,t}();n.CommonUtils=a,cc._RF.pop()},{"../../UIFrame/CocosHelper":"CocosHelper","./MatchUtils":"MatchUtils"}],ConfigMgr:[function(t,e,n){"use strict";cc._RF.push(e,"99faeZt2e5AobpvQuyUBgaI","ConfigMgr");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.loadConfigs=function(){return i(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.onConfigChange=function(){this.game.playerMgr.onConfigChange()},e}(t("./BaseMgr").BaseMgr);n.default=s,cc._RF.pop()},{"./BaseMgr":"BaseMgr"}],DebugWindowUtils:[function(t,e,n){"use strict";cc._RF.push(e,"84e75b8tBhNjY7KyBAgOsH/","DebugWindowUtils"),this&&this.__spreadArrays,Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.getModuleName=function(t){return"string"!=typeof t?t:t.split("/").pop().split(".")[0]},t.init=function(){var t="undefined"!=typeof __modular?__modular:{};if(t&&t.modules){var e=t.modules,n={};for(var r in e){var o=e[r],i=o.file,a=o.module?o.module.exports:{},s=this.getModuleName(i);for(var c in a)"__esModule"!==c&&("default"===c?(a[c]=u(s,a[c],s),a[s]||(a[s]=a[c])):a[c]=u(c,a[c],s));window[s+"_mod"]=a}for(var r in n)window[r]||(window[r]=n[r])}function u(t,e,r){var o=t;if(e&&e.name&&(o=e.name),n[t])return u(t+r,e,r);var i=e;return n[o]=i,i}},t}();n.default=r,cc._RF.pop()},{}],DrawBorad:[function(t,e,n){"use strict";cc._RF.push(e,"5d19bkVv4BM774fPMww+bzv","DrawBorad");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Utils/DrawingBoard"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndBroad=null,e._drawingBroad=null,e._texture=new cc.Texture2D,e._sprite=null,e.broadYMax=-1,e.broadXMin=-1,e._touching=!1,e}return o(e,t),e.prototype.onLoad=function(){this.ndBroad||(this.ndBroad=this.node),this._sprite=this.ndBroad.getComponent(cc.Sprite),this._sprite||this.ndBroad.addComponent(cc.Sprite),this._drawingBroad=new a.default(this.ndBroad.width,this.ndBroad.height),this._drawingBroad.setColor(0,0,0,255),this._drawingBroad.setLineWidth(5),this._touching=!1;var t=this.ndBroad.convertToWorldSpaceAR(cc.v2(0,0));this.broadYMax=t.y+this.ndBroad.height/2,this.broadXMin=t.x-this.ndBroad.width/2,this.ndBroad.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.ndBroad.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.ndBroad.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this),this.ndBroad.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.start=function(){},e.prototype.setData=function(t){this._drawingBroad.setData(t),this.updateTexture(this._drawingBroad.getData(),this.ndBroad.width,this.ndBroad.height)},e.prototype.touchStart=function(t){if(!this._touching){this._touching=!0;var e=t.getLocation();this._drawingBroad.moveTo(e.x-this.broadXMin,this.getRealY(e.y))}},e.prototype.touchMove=function(t){if(this._touching){var e=t.getLocation();this._drawingBroad.lineTo(e.x-this.broadXMin,this.getRealY(e.y)),this.updateTexture(this._drawingBroad.getData(),this.ndBroad.width,this.ndBroad.height)}},e.prototype.touchCancel=function(){this._touching=!1},e.prototype.touchEnd=function(){this._touching=!1},e.prototype.onDestroy=function(){this.ndBroad.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.ndBroad.off(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.ndBroad.off(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this),this.ndBroad.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.setColor=function(t,e,n,r){this._drawingBroad.setColor(t,e,n,r)},e.prototype.setLineWidth=function(t){this._drawingBroad.setLineWidth(t)},e.prototype.setPen=function(){this.setColor(0,0,0,255),this.setLineWidth(5)},e.prototype.setReaser=function(){this.setColor(0,0,0,0),this.setLineWidth(20)},e.prototype.getTexture=function(){return this._texture},e.prototype.updateTexture=function(t,e,n){this._texture.initWithData(t,cc.Texture2D.PixelFormat.RGBA8888,e,n),this._sprite.spriteFrame.setTexture(this._texture),this._sprite.markForRender(!0)},e.prototype.getRealY=function(t){return this._sprite.spriteFrame._flipY?this.broadYMax-(cc.visibleRect.height-t):this.broadYMax-t},i([u(cc.Node)],e.prototype,"ndBroad",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../Utils/DrawingBoard":"DrawingBoard"}],DrawerMgr:[function(t,e,n){"use strict";cc._RF.push(e,"02d628dfS1JVIWSTnS72y1D","DrawerMgr");var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./config/SysDefine"),a=t("./Struct"),s=t("./UIManager"),c=function(){function t(){}return t.prototype.open=function(t,e,n){return r(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return t=a.GetForm(t,i.FormType.Fixed),[4,s.default.getInstance().openForm(t,e,n)];case 1:return[2,r.sent()]}})})},t.prototype.close=function(t,e,n){return r(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return t=a.GetForm(t,i.FormType.Fixed),[4,s.default.getInstance().closeForm(t,e,n)];case 1:return[2,r.sent()]}})})},t}();n.default=new c,cc._RF.pop()},{"./Struct":"Struct","./UIManager":"UIManager","./config/SysDefine":"SysDefine"}],DrawingBoard:[function(t,e,n){"use strict";cc._RF.push(e,"54b2dNYr/FCsJ51TWLTWJoT","DrawingBoard"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e,n){this.init(t,e,n)}return Object.defineProperty(t.prototype,"width",{get:function(){return this._witdh},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.init=function(t,e,n){this.tempColor=this.tempR=this.tempG=this.tempB=this.tempA=0,this.curColor=0,this._witdh=Math.round(t),this._height=Math.round(e),this.initPointColor(),this.initPixelColor(),this.initLineData(),n&&this.setData(n)},t.prototype.initPointColor=function(){this.pointColor||(this.pointColor=[]);for(var t=0;t<this.width;++t){this.pointColor[t]||(this.pointColor[t]=[]);for(var e=0;e<this.height;++e)this.pointColor[t][e]=0}this.colorCount={},this.colorCount[0]=this.width*this.height},t.prototype.initPixelColor=function(){this.buffer=new ArrayBuffer(this.width*this.height*4),this.pixelColor=new Uint8Array(this.buffer),this.pixelColor.fill(0)},t.prototype.reset=function(){this.resetPointColor(),this.resetPixelColor()},t.prototype.resetPointColor=function(){for(var t=this.width-1;t>=0;--t)for(var e=this.height-1;e>=0;--e)this.pointColor[t][e]=0;for(var n in this.colorCount)this.colorCount[n]=0},t.prototype.resetPixelColor=function(){this.pixelColor.fill(0)},t.prototype.setData=function(t){var e=new Uint8Array(t);e.length!=this.width*this.height*4&&(console.warn("\u753b\u677f\u8bbe\u7f6e\u6570\u636e\u5931\u8d25\uff0c\u6570\u636e\u957f\u5ea6\u4e0e\u753b\u677f\u5927\u5c0f\u4e0d\u4e00\u81f4\u3002"),e=e.subarray(0,this.width*this.height*4)),this.setPixelColorByRGBA(e),this.setPointColorByRGBA(e)},t.prototype.setPixelColorByRGBA=function(t){this.pixelColor.set(t)},t.prototype.setPointColorByRGBA=function(t){this.colorCount={};for(var e=0;e<this.height;++e)for(var n=e*this.width*4,r=0;r<this.width;++r){var o=this.convertToNumber(t[n++],t[n++],t[n++],t[n++]);this.pointColor[r][e]=o,this.colorCount[o]?this.colorCount[o]+=1:this.colorCount[o]=1}},t.prototype.copyData=function(t){void 0===t&&(t=[]);for(var e=0,n=this.pixelColor.length;e<n;++e)t[e]=this.pixelColor[e];return t},t.prototype.getData=function(){return this.pixelColor},t.prototype.getBuffer=function(){return this.buffer},t.prototype.getColorCount=function(t,e,n,r){void 0===r&&(r=255);var o=this.convertToNumber(t,e,n,r);return this.colorCount[o]},t.prototype.setColor=function(t,e,n,r){void 0===r&&(r=255),this.curColor=this.convertToNumber(t,e,n,r),this.colorCount[this.curColor]||(this.colorCount[this.curColor]=0),this.tempColor=this.curColor,this.tempR=t,this.tempG=e,this.tempB=n,this.tempA=r},t.prototype.clear=function(){this.reset()},t.prototype.initLineData=function(){this.previousLineEndPos=new o,this.previousLineEndPosT=new o,this.previousLineEndPosB=new o,this.previousLineCircleEnd=!0,this.previousLineWidth=1},t.prototype.moveTo=function(t,e){t=Math.round(t),e=Math.round(e),this.previousLineEndPos.set(t,e),this.previousLineEndPosT.set(t,e),this.previousLineEndPosB.set(t,e)},t.prototype.setLineWidth=function(t){this.previousLineWidth=t},t.prototype.setLineCircleEnd=function(t){this.previousLineCircleEnd=t},t.prototype.line=function(t,e,n,r){if(t=Math.round(t),n=Math.round(n),e=Math.round(e),r=Math.round(r),t!=n||e!=r){var i=this.previousLineWidth,a=this.previousLineCircleEnd;this.previousLineEndPos.set(n,r);var s=0,c=0,u=1;if(t==n)s=Math.round(.5*i);else if(e==r)c=Math.round(.5*i);else{var l=(r-e)/(n-t);c=.5*i/(u=Math.sqrt(l*l+1)),s=Math.round(c*l),c=Math.round(c)}this.previousLineEndPosT.set(n-s,r+c),this.previousLineEndPosB.set(n+s,r-c);var h=new o(t,e),p=new o(n,r);t>n&&(h.x=n,h.y=r,p.x=t,p.y=e),this._drawLine(h,p,i,s,c,u),a&&(this._drawCircle(t,e,.5*i),this._drawCircle(n,r,.5*i))}},t.prototype.lineTo=function(t,e){if(t=Math.round(t),e=Math.round(e),this.previousLineEndPos.x!=t||this.previousLineEndPos.y!=e){var n=this.previousLineWidth,r=this.previousLineCircleEnd,i=this.previousLineEndPos.x,a=this.previousLineEndPos.y,s=t,c=e;i>s&&(i=s,a=c,s=this.previousLineEndPos.x,c=this.previousLineEndPos.y);var u=0,l=0,h=1;if(i==s)u=Math.round(.5*n);else if(a==c)l=Math.round(.5*n);else{var p=(c-a)/(s-i);l=.5*n/(h=Math.sqrt(p*p+1)),u=Math.round(l*p),l=Math.round(l)}if(r)this._drawCircle(i,a,.5*n),this._drawCircle(s,c,.5*n);else if(this.previousLineEndPos.x!=this.previousLineEndPosT.x||this.previousLineEndPos.y!=this.previousLineEndPosT.y){var f=new o(this.previousLineEndPos.x-u,this.previousLineEndPos.y+l),d=new o(this.previousLineEndPos.x+u,this.previousLineEndPos.y-l);this._drawTriangle([f,d,this.previousLineEndPosT]),this._drawTriangle([f,d,this.previousLineEndPosB])}this._drawLine(new o(i,a),new o(s,c),n,u,l,h),this.previousLineEndPos.set(t,e),this.previousLineEndPosT.set(t-u,e+l),this.previousLineEndPosB.set(t+u,e-l)}},t.prototype._drawLine=function(t,e,n,r,i,a){if(t.y==e.y){var s=t.x<e.x?t.x:e.x;this._drawRect(new o(s,Math.round(t.y-.5*n)),Math.abs(t.x-e.x),n)}else if(t.x==e.x){var c=t.y<e.y?t.y:e.y;this._drawRect(new o(Math.round(t.x-.5*n),c),n,Math.abs(t.y-e.y))}else{var u=(t.x-e.x)/(t.y-e.y),l=new o(t.x-r,t.y+i),h=new o(t.x+r,t.y-i),p=new o(e.x-r,e.y+i),f=new o(e.x+r,e.y-i),d=new o,_=new o,y=Math.round(n*a);e.y>t.y?h.x<p.x?(d.x=h.x,d.y=h.y+y,_.x=p.x,_.y=p.y-y,this._drawVerticalTriangle(d,h,l),this._drawParallelogram(h,_,y),this._drawVerticalTriangle(p,_,f)):(d.x=h.x,d.y=Math.round(p.y-(d.x-p.x)*u),_.x=p.x,_.y=Math.round(h.y+(h.x-_.x)*u),this._drawVerticalTriangle(p,_,l),this._drawParallelogram(_,h,p.y-_.y),this._drawVerticalTriangle(d,h,f)):l.x<f.x?(d.x=l.x,d.y=l.y-y,_.x=f.x,_.y=f.y+y,this._drawVerticalTriangle(l,d,h),this._drawParallelogram(d,f,y),this._drawVerticalTriangle(_,f,p)):(d.x=l.x,d.y=Math.round(f.y-(d.x-f.x)*u),_.x=f.x,_.y=Math.round(l.y+(l.x-_.x)*u),this._drawVerticalTriangle(_,f,h),this._drawParallelogram(f,d,l.y-d.y),this._drawVerticalTriangle(l,d,p))}},t.prototype.rect=function(t,e,n,r){this._drawRect(new o(t,e),n,r)},t.prototype._drawRect=function(t,e,n){for(var r=this.clampX(t.x),o=this.clampX(t.x+e),i=this.clampY(t.y),a=this.clampY(t.y+n),s=i;s<=a;++s)this._drawRowPixel(r,o,s)},t.prototype._drawParallelogram=function(t,e,n){if(t.x!=e.x)for(var r=(e.y-t.y)/(e.x-t.x),o=this._minX(t.x),i=this._maxX(e.x),a=o;a<=i;++a){var s=t.y+Math.round((a-t.x)*r),c=s+n;s=this._minY(s),c=this._maxY(c),this._drawColPixel(s,c,a)}},t.prototype.triangle=function(t,e,n,r,i,a){var s=[];s.push(new o(t,e)),s.push(new o(n,r)),s.push(new o(i,a)),this._drawTriangle(s)},t.prototype._drawTriangle=function(t){t.sort(function(t,e){return t.x-e.x});var e=t[0],n=t[1],r=t[2];if(e.x==n.x){if(e.x==r.x)return;return e.y<n.y&&(e=t[1],n=t[0]),void this._drawVerticalTriangle(e,n,r)}var i=(r.y-e.y)/(r.x-e.x),a=new o(n.x,Math.round(e.y+(n.x-e.x)*i));a.y!=n.y&&(a.y<n.y?(this._drawVerticalTriangle(n,a,e),this._drawVerticalTriangle(n,a,r)):(this._drawVerticalTriangle(a,n,e),this._drawVerticalTriangle(a,n,r)))},t.prototype._drawVerticalTriangle=function(t,e,n){if(n.x!=t.x){var r=(n.y-t.y)/(n.x-t.x),o=(n.y-e.y)/(n.x-e.x),i=n.x,a=t.x;i<a&&(i=t.x,a=n.x),a=this._minX(a),i=this._maxX(i);for(var s=a;s<=i;++s){var c=this.clampY(Math.round(t.y+(s-t.x)*r)),u=this.clampY(Math.round(e.y+(s-e.x)*o));this._drawColPixel(u,c,s)}}},t.prototype.circle=function(t,e,n){t=Math.round(t),e=Math.round(e),this._drawCircle(t,e,n)},t.prototype._drawCircle=function(t,e,n){if(0!=(n=Math.round(n)))for(var r=n*n,o=this.clampY(e-n),i=this.clampY(e+n),a=o;a<=i;++a){var s=a-e;s=Math.round(Math.sqrt(r-s*s));var c=this.clampX(t-s),u=this.clampX(t+s);this._drawRowPixel(c,u,a)}},t.prototype._minX=function(t){return t>=0?t:0},t.prototype._maxX=function(t){return t<this.width?t:this.width-1},t.prototype._minY=function(t){return t>=0?t:0},t.prototype._maxY=function(t){return t<this.height?t:this.height-1},t.prototype.clampX=function(t){return t<0?0:t>=this.width?this.width-1:t},t.prototype.clampY=function(t){return t<0?0:t>=this.height?this.height-1:t},t.prototype._drawPixel=function(t,e){if(this.pointColor[t][e]!=this.tempColor){var n=4*(e*this.width+t);this.pixelColor[n]=this.tempR,this.pixelColor[n+1]=this.tempG,this.pixelColor[n+2]=this.tempB,this.pixelColor[n+3]=this.tempA;var r=this.pointColor[t][e];this.colorCount[r]--,this.colorCount[this.tempColor]++,this.pointColor[t][e]=this.tempColor}},t.prototype._drawRowPixel=function(t,e,n){for(var r=4*(n*this.width+t),o=t;o<=e;++o){if(this.pointColor[o][n]!=this.tempColor){this.pixelColor[r]=this.tempR,this.pixelColor[r+1]=this.tempG,this.pixelColor[r+2]=this.tempB,this.pixelColor[r+3]=this.tempA;var i=this.pointColor[o][n];this.colorCount[i]--,this.colorCount[this.tempColor]++,this.pointColor[o][n]=this.tempColor}r+=4}},t.prototype._drawColPixel=function(t,e,n){for(var r=4*(t*this.width+n),o=t;o<=e;++o){if(this.pointColor[n][o]!=this.tempColor){this.pixelColor[r]=this.tempR,this.pixelColor[r+1]=this.tempG,this.pixelColor[r+2]=this.tempB,this.pixelColor[r+3]=this.tempA;var i=this.pointColor[n][o];this.colorCount[i]--,this.colorCount[this.tempColor]++,this.pointColor[n][o]=this.tempColor}r+=4*this.width}},t.prototype.convertToNumber=function(t,e,n,r){return void 0===r&&(r=255),(254&t)<<23|e<<16|n<<8|r},t.prototype.convertToRGBA=function(t){return{r:(4009754624&t)>>23,g:(16711680&t)>>16,b:(65280&t)>>8,a:255&t}},t}();n.default=r;var o=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){"number"==typeof t?(this.x=t,this.y=e):(this.x=t.x,this.y=t.y)},t}();cc._RF.pop()},{}],Dungeon:[function(t,e,n){"use strict";cc._RF.push(e,"363928pIAdEs76ndgV1E6km","Dungeon"),Object.defineProperty(n,"__esModule",{value:!0}),n.Dungeon=n.GridType=void 0;var r,o,i=t("./MatchUtils");(function(t){t[t.None=0]="None",t[t.Floor=1]="Floor",t[t.Wall=2]="Wall",t[t.OpenDoor=3]="OpenDoor",t[t.CloseDoor=4]="CloseDoor"})(r=n.GridType||(n.GridType={})),function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Up=3]="Up",t[t.Down=4]="Down",t[t.All=5]="All"}(o||(o={}));var a=[o.Left,o.Right,o.Up,o.Down],s=function(){function t(t,e){this.numRoomTries=50,this.extraConnectorChance=20,this.roomExtraSize=0,this.windingPercent=50,this.width=51,this.height=51,this.rooms=[],this.map=[],this.regions=[],this.currentRegion=0,this.width=t,this.height=e;for(var n=0;n<t*e;n++)this.map[n]=r.None,this.regions[n]=0}return t.prototype.generate=function(){return this.initMap(),this.addRooms(),this.fillMaze(),this.connectRegions(),this.removeDeadEnds(),this.map},t.prototype.initMap=function(){for(var t=0;t<this.width*this.height;t++)this.map[t]=r.Wall,this.regions[t]=0},t.prototype.addRooms=function(){for(var t=0;t<this.numRoomTries;t++){var e=2*i.MathUtils.limitInteger(1,3+this.roomExtraSize)+1,n=2*i.MathUtils.limitInteger(0,1+Math.floor(e/2)),r=e,o=e;0===i.MathUtils.limitInteger(0,1)?r+=n:o+=n;for(var a=2*i.MathUtils.limitInteger(0,Math.floor((this.width-r)/2))+1,s=2*i.MathUtils.limitInteger(0,Math.floor((this.height-o)/2))+1,c=new cc.Rect(a,s,r,o),u=!1,l=0,h=this.rooms;l<h.length;l++){var p=h[l];if(c.intersects(p)){u=!0;break}}u||(this.currentRegion++,this._initRoomGrid(c),this.rooms.push(c))}},t.prototype._initRoomGrid=function(t){for(var e=cc.v2(0,0),n=t.x;n<t.width+t.x;n++)for(var o=t.y;o<t.height+t.y;o++)e.x=n,e.y=o,this.carveGrid(e,r.Floor)},t.prototype.fillMaze=function(){for(var t=1;t<this.height;t+=2)for(var e=1;e<this.width;e+=2){var n=cc.v2(e,t);this.getGridType(n)===r.Wall&&this._growMaze(n)}},t.prototype._growMaze=function(t){var e=[],n=o.None;for(this.currentRegion++,this.carveGrid(t,r.Floor),e.push(t);null!==e&&0!==e.length;){for(var s=e[e.length-1],c=[],u=0,l=a;u<l.length;u++){var h=l[u];this.canCarve(s,h)&&c.push(h)}if(c.length<=0)e.pop(),n=o.None;else{var p=o.None;p=-1!==c.indexOf(n)&&i.MathUtils.limitInteger(0,100)>this.windingPercent?n:i.MathUtils.randomArray(c),this.carveGrid(s.add(this.getDirGridOffset(p)),r.Floor),this.carveGrid(s.add(this.getDirGridOffset(p).mul(2)),r.Floor),e.push(s.add(this.getDirGridOffset(p).mul(2))),n=p}}},t.prototype.connectRegions=function(){for(var t=this,e={},n=cc.v2(0,0),o=1;o<this.width-1;o++)for(var s=1;s<this.height-1;s++)if(n.x=o,n.y=s,this.getGridType(n)===r.Wall){for(var c=[],u=0,l=a;u<l.length;u++){var h=l[u],p=n.add(this.getDirGridOffset(h)),f=this.regions[p.y*this.width+p.x];0!==f&&-1==c.indexOf(f)&&c.push(f)}c.length<2||(e[s*this.width+o]=c)}for(var d=[],_=0,y=Object.keys(e);_<y.length;_++){var v=y[_];d.push(this.getGridByIdx(parseInt(v)))}var g={},m=new Set;for(o=0;o<=this.currentRegion;o++)g[o]=o,m.add(o);for(var b=0,w=function(){b++;var n=i.MathUtils.randomArray(d);T.addJunction(n);var r=e[n.y*T.width+n.x].map(function(t){return g[t]}),o=r[0];r.shift();for(var a=r,s=0;s<=T.currentRegion;s++)-1!==a.indexOf(g[s])&&(g[s]=o);for(var c=0,u=a;c<u.length;c++){var l=u[c];m.has(l)&&m.delete(l)}d.filter(function(r){return!t.isRemove(g,e,n,r)})},T=this;m.size>1&&b<50;)w()},t.prototype.addJunction=function(t){i.MathUtils.limitInteger(0,4)?this.setGridType(t,i.MathUtils.limitInteger(0,3)?r.OpenDoor:r.Floor):this.setGridType(t,r.CloseDoor)},t.prototype.isRemove=function(t,e,n,r){if(n.sub(r).len()<2)return!0;var o=e[r.y*this.width+r.x].map(function(e){return t[e]});return!(new Set(o).size>1)},t.prototype.removeDeadEnds=function(){for(var t=!1,e=cc.v2(0,0),n=0;!t&&n<500;){n++,t=!0;for(var o=1;o<this.width-1;o++)for(var i=1;i<this.height-1;i++)if(e.x=o,e.y=i,this.getGridType(e)!==r.Wall){for(var s=0,c=0,u=a;c<u.length;c++){var l=u[c],h=e.add(this.getDirGridOffset(l));this.map[h.y*this.width+h.x]!==r.Wall&&s++}1===s&&(t=!1,this.regions[i*this.height+o]=0,this.map[i*this.height+o]=r.Wall)}}},t.prototype.instanceMap=function(){},t.prototype.getGridByIdx=function(t){var e=Math.floor(t/this.width),n=t-e*this.width;return cc.v2(n,e)},t.prototype.carveGrid=function(t,e){this.checkGrid(t)&&(this.setGridType(t,e),this.regions[t.y*this.width+t.x]=this.currentRegion)},t.prototype.setGridType=function(t,e){this.map[t.y*this.width+t.x]=e},t.prototype.checkGrid=function(t){return!(t.x<=0||t.x>=this.width-1||t.y<=0||t.y>=this.height-1)||(console.log(" set grid type error: ",t),!1)},t.prototype.getGridType=function(t){return this.map[t.y*this.width+t.x]},t.prototype.canCarve=function(t,e){var n=this.getDirGridOffset(e),o=t.add(n.mul(3));return!(o.x<0||o.x>=this.width||o.y<0||o.y>=this.height)&&(o=t.add(n.mul(2)),this.getGridType(o)===r.Wall)},t.prototype.getDirGridOffset=function(t){var e=cc.v2(0,0);switch(t){case o.Left:e.x=-1;break;case o.Right:e.x=1;break;case o.Up:e.y=1;break;case o.Down:e.y=-1}return e},t}();n.Dungeon=s,cc._RF.pop()},{"./MatchUtils":"MatchUtils"}],EnumUtils:[function(t,e,n){"use strict";cc._RF.push(e,"c0967gbR3dMcbkSIeGpt59T","EnumUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.EnumUtils=void 0;var r=function(){function t(){}return t.getNamesAndValues=function(t){return this.getNames(t).map(function(e){return{name:e,value:t[e]}})},t.getNames=function(t){return this.getObjectValues(t).filter(function(t){return"string"==typeof t})},t.getValues=function(t){return this.getObjectValues(t).filter(function(t){return"number"==typeof t})},t.getObjectValues=function(t){return Object.keys(t).map(function(e){return t[e]})},t}();n.EnumUtils=r,cc._RF.pop()},{}],EventBox:[function(t,e,n){"use strict";cc._RF.push(e,"5df38Ja1shKOa98TL3GuQ66","EventBox"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){this.eventMap=new Map,this.eventTargetsLock=null,this.removeCountOnLock=0}return t.prototype.on=function(t,e,n,r){void 0===r&&(r=!1);var o=this.eventMap.get(t);if(o){var i={context:e,method:n,isValid:!0,once:r};o.push(i)}else i={context:e,method:n,isValid:!0,once:r},this.eventMap.set(t,[i])},t.prototype.once=function(t,e,n){this.on(t,e,n,!0)},t.prototype.off=function(t,e,n){var r=this.eventMap.get(t);if(r){if(t&&!e&&!n&&r.length>0)if(r==this.eventTargetsLock)for(var o=0,i=r;o<i.length;o++)(s=i[o]).isValid=!1,this.removeCountOnLock++;else r.splice(0,r.length);if(t&&e&&!n)for(var a=r.length-1;a>=0;a--)(s=r[a]).context==e&&(r==this.eventTargetsLock?(s.isValid=!1,this.removeCountOnLock++):r.splice(a,1));if(t&&e&&n)for(a=r.length-1;a>=0;a--){var s;(s=r[a]).context==e&&s.method==n&&(r==this.eventTargetsLock?(s.isValid=!1,this.removeCountOnLock++):r.splice(a,1))}}},t.prototype.emit=function(t,e){var n=this.eventMap.get(t);if(n){this.eventTargetsLock=n;for(var r=0,o=n;r<o.length;r++){var i=o[r];try{i.method.apply(i.context,e)}catch(s){}i.once&&(i.isValid=!1,this.removeCountOnLock++)}if(this.eventTargetsLock=null,this.removeCountOnLock>0){for(var a=n.length-1;a>=0;a--)n[a].isValid||n.splice(a,1);this.removeCountOnLock=0}}},t}();n.default=r,cc._RF.pop()},{}],EventCenter:[function(t,e,n){"use strict";cc._RF.push(e,"5457exhkz1HWKJ6Z7OS0E1z","EventCenter");var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(n,"__esModule",{value:!0}),n.EventCenter=n.EventInfo=void 0;var o=t("../Common/Utils/Pool"),i=function(){function t(){}return t.prototype.free=function(){this.callback=null,this.target=null,this.once=!1},t.prototype.init=function(t,e,n){this.callback=t,this.target=e,this.once=n},t}();n.EventInfo=i;var a=function(t,e,n){this.eventName=t,this.callback=e,this.targetId=n},s=1,c=function(){function t(){}return t.on=function(t,e,n,r){void 0===n&&(n=void 0),void 0===r&&(r=!1);var o=(n=n||this).uuid||n.id;void 0===o&&(n.uuid=o=""+s++),this.onById(t,o,n,e,r)},t.once=function(t,e,n){void 0===n&&(n=void 0),this.on(t,e,n,!0)},t.onById=function(t,e,n,r,o){var i=this._listeners[t];i||(i=this._listeners[t]={});var a=i[e];a||(a=i[e]=[]);var s=this._eventPool.alloc();s.init(r,n,o),a.push(s)},t.off=function(t,e,n){void 0===n&&(n=void 0);var r=(n=n||this).uuid||n.id;if(!r)return!1;this.offById(t,e,r)},t.targetOff=function(t){var e=(t=t||this).uuid||t.id;if(e)for(var n in this._listeners){var r=this._listeners[n];void 0!==r[e]&&delete r[e]}},t.offById=function(t,e,n){if(this._dispatching>0){var r=new a(t,e,n);this._removeCommands.push(r)}else this.doOff(t,e,n)},t.doOff=function(t,e,n){var r=this._listeners[t];if(r){var o=r[n];if(o){for(var i=o.length-1;i>=0;i--)o[i].callback===e&&o.splice(i,1);0===o.length&&(r[n]=null,delete r[n])}}},t.doRemoveCommands=function(){if(0===this._dispatching){for(var t=0,e=this._removeCommands;t<e.length;t++){var n=e[t];this.doOff(n.eventName,n.callback,n.targetId)}this._removeCommands.length=0}},t.emit=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=this._listeners[t];if(!i)return!1;for(var s in this._dispatching++,i)for(var c=0,u=i[s];c<u.length;c++){var l=u[c];if((e=l.callback).call.apply(e,r([l.target],n)),l.once){var h=new a(t,l.callback,s);this._removeCommands.push(h)}}this._dispatching--,this.doRemoveCommands()},t._listeners=cc.js.createMap(),t._dispatching=0,t._removeCommands=[],t._eventPool=new o.Pool(function(){return new i},10),t}();n.EventCenter=c,cc._RF.pop()},{"../Common/Utils/Pool":"Pool"}],EventType:[function(t,e,n){"use strict";cc._RF.push(e,"3a2ce/BnWtAGous8Nu/ZYEZ","EventType"),Object.defineProperty(n,"__esModule",{value:!0}),n.EventType=void 0,function(t){t.GameShow="GameShow",t.GameHide="GameHide",t.WindowClosed="WindowClosed",t.FormClosed="FormClosed"}(n.EventType||(n.EventType={})),cc._RF.pop()},{}],FixedMgr:[function(t,e,n){"use strict";cc._RF.push(e,"727dau44q5IioBgMTJwEQJ0","FixedMgr");var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./config/SysDefine"),a=t("./Struct"),s=t("./UIManager"),c=function(){function t(){}return t.prototype.open=function(t,e,n){return r(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return t=a.GetForm(t,i.FormType.Fixed),[4,s.default.getInstance().openForm(t,e,n)];case 1:return[2,r.sent()]}})})},t.prototype.close=function(t,e,n){return r(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return t=a.GetForm(t,i.FormType.Fixed),[4,s.default.getInstance().closeForm(t,e,n)];case 1:return[2,r.sent()]}})})},t}();n.default=new c,cc._RF.pop()},{"./Struct":"Struct","./UIManager":"UIManager","./config/SysDefine":"SysDefine"}],FormMgr:[function(t,e,n){"use strict";cc._RF.push(e,"9a773PrZ4hPdb2eNyT8WZyH","FormMgr");var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./config/SysDefine"),a=t("./DrawerMgr"),s=t("./FixedMgr"),c=t("./SceneMgr"),u=t("./TipsMgr"),l=t("./ToastMgr"),h=t("./UIManager"),p=t("./WindowMgr"),f=function(){function t(){}return t.prototype.open=function(t,e,n){return r(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:switch(t.type){case i.FormType.Screen:return[3,1];case i.FormType.Window:return[3,3];case i.FormType.Fixed:return[3,5];case i.FormType.Drawer:return[3,7];case i.FormType.Tips:return[3,9];case i.FormType.Toast:return[3,11]}return[3,13];case 1:return[4,c.default.open(t,e,n)];case 2:return[2,r.sent()];case 3:return[4,p.default.open(t,e,n)];case 4:return[2,r.sent()];case 5:return[4,s.default.open(t,e,n)];case 6:return[2,r.sent()];case 7:return[4,a.default.open(t,e,n)];case 8:return[2,r.sent()];case 9:return[4,u.default.open(t,e,n)];case 10:return[2,r.sent()];case 11:return[4,l.default.open(t,e,n)];case 12:return[2,r.sent()];case 13:return cc.error("\u672a\u77e5\u7c7b\u578b\u7684\u7a97\u4f53: "+t.type),[2,null]}})})},t.prototype.close=function(t,e,n){return r(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:switch(t.type){case i.FormType.Screen:return[3,1];case i.FormType.Window:return[3,3];case i.FormType.Drawer:return[3,5];case i.FormType.Fixed:return[3,7];case i.FormType.Tips:return[3,9];case i.FormType.Toast:return[3,11]}return[3,12];case 1:return[4,c.default.close(t,e,n)];case 2:return[2,r.sent()];case 3:return[4,p.default.close(t,e,n)];case 4:return[2,r.sent()];case 5:return[4,a.default.close(t,e,n)];case 6:return[2,r.sent()];case 7:return[4,s.default.close(t,e,n)];case 8:return[2,r.sent()];case 9:return[4,u.default.close(t,e,n)];case 10:return[2,r.sent()];case 11:return cc.warn("UIToast \u76ee\u524d\u4e0d\u80fd\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u5173\u95ed, \u8bf7\u4f7f\u7528 ToastMgr.close()"),[3,13];case 12:return cc.error("\u672a\u77e5\u7c7b\u578b\u7684\u7a97\u4f53: "+t.type),[2,!1];case 13:return[2]}})})},t.prototype.backScene=function(t,e){return r(this,void 0,void 0,function(){return o(this,function(){return[2,c.default.back(t,e)]})})},t.prototype.closeAllWindows=function(){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,p.default.closeAll()];case 1:return t.sent(),[2]}})})},t.prototype.load=function(t){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,h.default.getInstance().loadUIForm(t.prefabUrl)];case 1:return e.sent(),[2]}})})},t}();n.default=new f,cc._RF.pop()},{"./DrawerMgr":"DrawerMgr","./FixedMgr":"FixedMgr","./SceneMgr":"SceneMgr","./TipsMgr":"TipsMgr","./ToastMgr":"ToastMgr","./UIManager":"UIManager","./WindowMgr":"WindowMgr","./config/SysDefine":"SysDefine"}],GPDrag:[function(t,e,n){"use strict";cc._RF.push(e,"5181dEjiW1Hyq4VdL35aHS4","GPDrag");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.GPDrag=n.EasingString=n.DragBackHomeType=n.FloatType=void 0;var a,s,c,u=t("./Components/GPWorkFlow"),l=cc._decorator,h=l.ccclass,p=l.property;(function(t){t[t.None=0]="None",t[t.MoveToTop=1]="MoveToTop",t[t.MoveToTopLayer=2]="MoveToTopLayer"})(a=n.FloatType||(n.FloatType={})),function(t){t[t.SetPosition=0]="SetPosition",t[t.Tween=1]="Tween"}(s=n.DragBackHomeType||(n.DragBackHomeType={})),function(t){t[t.linear=0]="linear",t[t.smooth=1]="smooth",t[t.fade=2]="fade",t[t.constant=3]="constant",t[t.quadIn=4]="quadIn",t[t.quadOut=5]="quadOut",t[t.quadInOut=6]="quadInOut",t[t.quadOutIn=7]="quadOutIn",t[t.cubicIn=8]="cubicIn",t[t.cubicOut=9]="cubicOut",t[t.cubicInOut=10]="cubicInOut",t[t.cubicOutIn=11]="cubicOutIn",t[t.quartIn=12]="quartIn",t[t.quartOut=13]="quartOut",t[t.quartInOut=14]="quartInOut",t[t.quartOutIn=15]="quartOutIn",t[t.quintIn=16]="quintIn",t[t.quintOut=17]="quintOut",t[t.quintInOut=18]="quintInOut",t[t.quintOutIn=19]="quintOutIn",t[t.sineIn=20]="sineIn",t[t.sineOut=21]="sineOut",t[t.sineInOut=22]="sineInOut",t[t.sineOutIn=23]="sineOutIn",t[t.expoIn=24]="expoIn",t[t.expoOut=25]="expoOut",t[t.expoInOut=26]="expoInOut",t[t.expoOutIn=27]="expoOutIn",t[t.circIn=28]="circIn",t[t.circOut=29]="circOut",t[t.circInOut=30]="circInOut",t[t.circOutIn=31]="circOutIn",t[t.elasticIn=32]="elasticIn",t[t.elasticOut=33]="elasticOut",t[t.elasticInOut=34]="elasticInOut",t[t.elasticOutIn=35]="elasticOutIn",t[t.backIn=36]="backIn",t[t.backOut=37]="backOut",t[t.backInOut=38]="backInOut",t[t.backOutIn=39]="backOutIn",t[t.bounceIn=40]="bounceIn",t[t.bounceOut=41]="bounceOut",t[t.bounceInOut=42]="bounceInOut",t[t.bounceOutIn=43]="bounceOutIn"}(c=n.EasingString||(n.EasingString={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.touchOffsetSensitive=!0,e.backHomeWhenFailed=!0,e.backHomeType=s.SetPosition,e.backTweenTime=1,e.backTweenEasing=c.linear,e.floatType=a.None,e.backToOriZ=!0,e.dragStartPos=new cc.Vec2(0,0),e.dragOffset=new cc.Vec2(0,0),e.succeedCheck=null,e.succeedCallback=null,e.backHomeWorkFlow=new u.GPWorkFlow,e}return o(e,t),e.prototype.start=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,this.OnDragStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.OnDragMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.OnDragEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.OnDragEnd,this);var e=new u.GPWorkFlowNode;this.backHomeWorkFlow.headNode=e;var n=this;e.OnStart=function(e){var r=new cc.Vec3(n.dragStartPos.x,n.dragStartPos.y,0);switch(t.backHomeType){case s.SetPosition:n.node.setPosition(r),e.done();break;case s.Tween:n.backTween&&n.backTween.stop();var o=c[n.backTweenEasing];n.backTween=cc.tween(n.node).to(n.backTweenTime,{position:r},{easing:o}).call(function(){e.done()}).start()}};var r=new u.GPWorkFlowNode;e.nextNode=r,r.OnStart=function(t){n.OnArrivedHome(),t.done()}},e.prototype.OnDragStart=function(t){console.log("drag start"),this.dragStartPos.set(cc.v2(this.node.position.x,this.node.position.y));var e=t.getLocation();switch(cc.Vec2.subtract(this.dragOffset,this.dragStartPos,e),this.floatType){case a.MoveToTop:this.zOrder=this.node.getSiblingIndex(),this.node.setSiblingIndex(1/0);break;case a.MoveToTopLayer:this.zOrder=this.node.getSiblingIndex(),this.srcParent=this.node.parent,this.node.parent=this.topLayerNode}},e.prototype.OnDragMove=function(t){var e=t.getLocation();this.touchOffsetSensitive?this.node.setPosition(new cc.Vec3(e.x+this.dragOffset.x,e.y+this.dragOffset.y,0)):this.node.setPosition(new cc.Vec3(e.x,0,e.y))},e.prototype.OnDragEnd=function(t){this.succeedCheck&&this.succeedCheck(t)?this.succeedCallback&&this.succeedCallback(t):this.backHomeWhenFailed&&this.backHomeWorkFlow.start()},e.prototype.OnArrivedHome=function(){if(this.backToOriZ)switch(this.floatType){case a.MoveToTop:this.node.setSiblingIndex(this.zOrder);break;case a.MoveToTopLayer:this.node.parent=this.srcParent,this.node.setSiblingIndex(this.zOrder)}},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.OnDragStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.OnDragMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.OnDragEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.OnDragEnd,this)},e.prototype.update=function(t){this.backHomeWorkFlow.update(t)},i([p({tooltip:"\u89e6\u78b0\u70b9\u504f\u79fb\u91cf\u654f\u611f"})],e.prototype,"touchOffsetSensitive",void 0),i([p({tooltip:"\u5931\u8d25\u65f6\u56de\u5230\u8d77\u59cb\u4f4d\u7f6e"})],e.prototype,"backHomeWhenFailed",void 0),i([p({type:cc.Enum(s),tooltip:"\u56de\u5bb6\u7684\u65b9\u5f0f",visible:function(){return this.backHomeWhenFailed}})],e.prototype,"backHomeType",void 0),i([p({type:cc.Float,visible:function(){return this.backHomeWhenFailed&&this.backHomeType==s.Tween}})],e.prototype,"backTweenTime",void 0),i([p({type:cc.Enum(c),tooltip:"\u7f13\u52a8\u7c7b\u578b",visible:function(){return this.backHomeWhenFailed&&this.backHomeType==s.Tween}})],e.prototype,"backTweenEasing",void 0),i([p({type:cc.Enum(a),tooltip:"\u4e0a\u6d6e\u7c7b\u578b"})],e.prototype,"floatType",void 0),i([p({type:cc.Node,visible:function(){return this.floatType==a.MoveToTopLayer}})],e.prototype,"topLayerNode",void 0),i([p({tooltip:"\u677e\u5f00\u540e\u8fd4\u56de\u539f\u6765\u7684\u5c42\u7ea7",visible:function(){return this.floatType!=a.None}})],e.prototype,"backToOriZ",void 0),i([h("GPDrag")],e)}(cc.Component);n.GPDrag=f,cc._RF.pop()},{"./Components/GPWorkFlow":"GPWorkFlow"}],GPWorkFlow:[function(t,e,n){"use strict";cc._RF.push(e,"00ae3DUSlREBqJ4jLF4bVlj","GPWorkFlow"),Object.defineProperty(n,"__esModule",{value:!0}),n.GPWorkFlow=n.GPWorkFlowNode=void 0;var r=cc._decorator,o=(r.ccclass,r.property,function(){function t(){this.nextNodes=new Array,this._nextIdx=-1}return Object.defineProperty(t.prototype,"nextNode",{get:function(){return this.nextNodes.length>0?this.nextNodes[0]:null},set:function(t){0==this.nextNodes.length?this.nextNodes.push(t):this.nextNodes[0]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextIdx",{get:function(){return this._nextIdx},enumerable:!1,configurable:!0}),t.prototype.done=function(t){void 0===t&&(t=0),this._nextIdx=t,this.OnEnd&&this.OnEnd(this)},t.prototype.isDone=function(){return this._nextIdx>=0},t.prototype.refresh=function(){this._nextIdx=-1;for(var t=0;t<this.nextNodes.length;t++)this.nextNodes[t].refresh()},t.prototype.start=function(){this.OnStart&&this.OnStart(this)},t.prototype.update=function(t){this.OnUpdate&&this.OnUpdate(this,t)},t.prototype.hasNext=function(){return this.nextNodes.length>0},t}());n.GPWorkFlowNode=o;var i=function(){function t(){}return t.prototype.start=function(){this.headNode&&this.headNode.refresh(),this.curNode=this.headNode,this.curNode.start()},t.prototype.update=function(t){null!=this.curNode&&(this.curNode.update(t),this.curNode.isDone()&&(this.curNode.hasNext()?(this.curNode=this.curNode.nextNodes[this.curNode.nextIdx],this.curNode.start()):this.curNode=null))},t.prototype.insertHeadNode=function(t){var e=this.headNode;this.headNode=t,t.nextNode=e},t}();n.GPWorkFlow=i,cc._RF.pop()},{}],GameConfig:[function(t,e,n){"use strict";cc._RF.push(e,"f46b13WB51JHaffBN5ie56i","GameConfig"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return Object.defineProperty(t,"debugUserId",{get:function(){return this._debugUserId},enumerable:!1,configurable:!0}),t.gameId="",t.version="0.0.1",t._debugUserId="",t}();n.default=r,cc._RF.pop()},{}],Game:[function(t,e,n){"use strict";cc._RF.push(e,"30ba5eNytVM3pckqs/AGbqm","Game");var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.Game=void 0;var i=t("./Manager/ConfigMgr"),a=t("./Manager/PlayerMgr"),s=function(){function t(){this.inited=!1,this.configMgr=null,this.playerMgr=null}return t.prototype.init=function(){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return this.configMgr=new i.default(this),this.playerMgr=new a.default(this),[4,this.configMgr.loadConfigs()];case 1:return t.sent(),this.inited=!0,[2]}})})},t.prototype.onGameShow=function(){},t.prototype.onGameHide=function(){},t.prototype.update=function(){this.inited},t}();n.Game=s;var c=new s;n.default=c,cc._RF.pop()},{"./Manager/ConfigMgr":"ConfigMgr","./Manager/PlayerMgr":"PlayerMgr"}],GlobalData:[function(t,e,n){"use strict";cc._RF.push(e,"ffa9djWp4hFqooiKPOq5qJN","GlobalData"),Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalData=void 0;var r=function(){function t(){}return t.gameData={roleMoveSpeed:300,rolePlaySpeed:50,waitMaxNumber:10,waitingSpeedY:70,roleCreateTime:10,drinkTime:5},t.tableData=[{x:-250,y:-100}],t.tablePath="img/table/",t.rawPath="img/raw/",t.recipePath="img/recipe/",t.coffeeTypePath="img/coffee/",t.tumblerePath="img/tumbler/",t}();n.GlobalData=r,cc._RF.pop()},{}],GlobalHelper:[function(t,e,n){"use strict";cc._RF.push(e,"97861Bw45RARLIDvaYH8CIV","GlobalHelper"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.Register=function(e,n){t[e]=n},t.Get=function(e){return t._globalMap.hasOwnProperty(e)?t._globalMap[e]:void 0},t._globalMap={},t}();n.default=r,window.GlobalHelper=r,cc._RF.pop()},{}],GridScrollList:[function(t,e,n){"use strict";cc._RF.push(e,"1cacdUiKzNJIJRK/5ihZG1M","GridScrollList");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.GridScrollList=void 0;var a,s=t("../../Common/Components/ScrollViewHelper"),c=cc._decorator,u=c.ccclass,l=c.property;(function(t){t[t.LeftToRight=0]="LeftToRight",t[t.TopToBottom=1]="TopToBottom"})(a||(a={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProxy=[],e.scrollHelper=null,e.rowDirection=a.LeftToRight,e.colSpace=10,e.rowSpace=10,e.colCount=3,e.margin=10,e}return o(e,t),e.prototype.doLayout=function(){this._layoutItems()},e.prototype._layoutItems=function(){this.scrollHelper.clearData();var t=this.allProxy,e=t.length?t[0].region.size:cc.size(0,0),n=this.colSpace,r=this.rowSpace,o=this.colCount,i=this.scrollHelper.scrollView.node.getContentSize();if(this.rowDirection==a.TopToBottom){var s=i.width;i.width=i.height,i.height=s,s=e.width,e.width=e.height,e.height=s}var c=this.margin,u=(i.width-(o*e.width+(o-1)*n))/2,l=u,h=-c+r+e.height,p=-r-e.height,f=n+e.width;this.rowDirection==a.TopToBottom&&(p=r+e.height,f=-n-e.width,h=c-p);for(var d=0;d<t.length;d++){l+=f,d%o==0&&(h+=p,l=u);var _=t[d];this.rowDirection==a.LeftToRight?_.region.origin=cc.v2(l,h-e.height):_.region.origin=cc.v2(h,l-e.height),this.scrollHelper.addData(_)}this.rowDirection==a.LeftToRight?this.scrollHelper.scrollView.content.setContentSize(i.width,-h+e.height+c):this.scrollHelper.scrollView.content.setContentSize(h+e.height+c,i.width)},i([l(s.ScrollViewHelper)],e.prototype,"scrollHelper",void 0),i([l({type:cc.Enum(a)})],e.prototype,"rowDirection",void 0),i([l()],e.prototype,"colSpace",void 0),i([l()],e.prototype,"rowSpace",void 0),i([l()],e.prototype,"colCount",void 0),i([l()],e.prototype,"margin",void 0),i([u],e)}(cc.Component);n.GridScrollList=h,cc._RF.pop()},{"../../Common/Components/ScrollViewHelper":"ScrollViewHelper"}],Joystick:[function(t,e,n){"use strict";cc._RF.push(e,"f4f39PJ1X1HeJ5ebUDPNPNG","Joystick");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.JoystickType=n.SpeedType=n.DirectionType=n.instance=void 0;var a,s,c,u=cc._decorator,l=u.ccclass,h=u.property;n.instance=new cc.EventTarget,function(t){t[t.FOUR=0]="FOUR",t[t.EIGHT=1]="EIGHT",t[t.ALL=2]="ALL"}(a=n.DirectionType||(n.DirectionType={})),function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.FAST=2]="FAST"}(s=n.SpeedType||(n.SpeedType={})),function(t){t[t.FIXED=0]="FIXED",t[t.FOLLOW=1]="FOLLOW"}(c=n.JoystickType||(n.JoystickType={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dot=null,e.ring=null,e.joystickType=c.FIXED,e.directionType=a.ALL,e._stickPos=null,e._touchLocation=null,e._radius=0,e}return o(e,t),e.prototype.onLoad=function(){this._radius=this.ring.width/2,this._initTouchEvent(),this.joystickType===c.FOLLOW&&(this.node.opacity=0)},e.prototype.onEnable=function(){n.instance.on("set_joystick_type",this._onSetJoystickType,this)},e.prototype.onDisable=function(){n.instance.off("set_joystick_type",this._onSetJoystickType,this)},e.prototype._onSetJoystickType=function(t){this.joystickType=t,this.node.opacity=t===c.FIXED?255:0},e.prototype._initTouchEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this._touchStartEvent,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._touchMoveEvent,this),this.node.on(cc.Node.EventType.TOUCH_END,this._touchEndEvent,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEndEvent,this)},e.prototype._touchStartEvent=function(t){n.instance.emit(cc.Node.EventType.TOUCH_START,t);var e=this.node.convertToNodeSpaceAR(t.getLocation());if(this.joystickType===c.FIXED){this._stickPos=this.ring.getPosition();var r=e.sub(this.ring.getPosition()).mag();this._radius>r&&this.dot.setPosition(e)}else this.joystickType===c.FOLLOW&&(this._stickPos=e,this.node.opacity=255,this._touchLocation=t.getLocation(),this.ring.setPosition(e),this.dot.setPosition(e))},e.prototype._touchMoveEvent=function(t){if(this.joystickType===c.FOLLOW&&this._touchLocation===t.getLocation())return!1;var e,r=this.ring.convertToNodeSpaceAR(t.getLocation()),o=r.mag(),i=this._stickPos.x+r.x,a=this._stickPos.y+r.y,u=cc.v2(i,a).sub(this.ring.getPosition()).normalize();if(this._radius>o)this.dot.setPosition(cc.v2(i,a)),e=s.NORMAL;else{var l=this._stickPos.x+u.x*this._radius,h=this._stickPos.y+u.y*this._radius;this.dot.setPosition(cc.v2(l,h)),e=s.FAST}n.instance.emit(cc.Node.EventType.TOUCH_MOVE,t,{speedType:e,moveDistance:u})},e.prototype._touchEndEvent=function(t){this.dot.setPosition(this.ring.getPosition()),this.joystickType===c.FOLLOW&&(this.node.opacity=0),n.instance.emit(cc.Node.EventType.TOUCH_END,t,{speedType:s.STOP})},i([h({type:cc.Node,displayName:"Dot",tooltip:"\u6447\u6746\u64cd\u7eb5\u70b9"})],e.prototype,"dot",void 0),i([h({type:cc.Node,displayName:"Ring",tooltip:"\u6447\u6746\u80cc\u666f\u8282\u70b9"})],e.prototype,"ring",void 0),i([h({type:cc.Enum(c),displayName:"Touch Type",tooltip:"\u89e6\u6478\u7c7b\u578b"})],e.prototype,"joystickType",void 0),i([h({type:cc.Enum(a),displayName:"Direction Type",tooltip:"\u65b9\u5411\u7c7b\u578b"})],e.prototype,"directionType",void 0),i([h({type:cc.Node,tooltip:"\u6447\u6746\u6240\u5728\u4f4d\u7f6e"})],e.prototype,"_stickPos",void 0),i([h({type:cc.Node,tooltip:"\u89e6\u6478\u4f4d\u7f6e"})],e.prototype,"_touchLocation",void 0),i([h({tooltip:"\u534a\u5f84"})],e.prototype,"_radius",void 0),i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],KawaseBlur:[function(t,e,n){"use strict";cc._RF.push(e,"bc261DWSZZNW4xSy/P01RJV","KawaseBlur");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.material=null,e.renderTexture=null,e}return o(e,t),e.prototype.start=function(){var t=this.sprite,e=this.sprite.node,n=this.material;n.setProperty("resolution",cc.v2(e.width,e.height));var r=new cc.RenderTexture,o=new cc.RenderTexture;this.getRenderTexture(e,r),this.renderWithMaterial(r,o,n),this.renderWithMaterial(o,r,n),this.renderWithMaterial(r,o,n),this.renderWithMaterial(o,r,n),this.renderWithMaterial(r,o,n),this.renderTexture=o,t.spriteFrame=new cc.SpriteFrame(this.renderTexture),r.destroy()},e.prototype.onDestroy=function(){this.renderTexture&&this.renderTexture.destroy()},e.prototype.getRenderTexture=function(t,e){if(!cc.isValid(t))return null;e&&e instanceof cc.RenderTexture||(e=new cc.RenderTexture);var n=Math.floor(t.width),r=Math.floor(t.height);e.initWithSize(n,r);var o=new cc.Node;o.parent=t;var i=o.addComponent(cc.Camera);return i.clearFlags|=cc.Camera.ClearFlags.COLOR,i.backgroundColor=cc.color(0,0,0,0),i.zoomRatio=cc.winSize.height/r,i.targetTexture=e,i.render(t),o.destroy(),e},e.prototype.renderWithMaterial=function(t,e,n){e instanceof cc.Material&&(n=e,e=new cc.RenderTexture);var r=new cc.Node;r.setParent(cc.Canvas.instance.node);var o=r.addComponent(cc.Sprite);o.sizeMode=cc.Sprite.SizeMode.RAW,o.trim=!1,o.spriteFrame=new cc.SpriteFrame(t);var i=t.width,a=t.height;e.initWithSize(i,a),n instanceof cc.Material&&o.setMaterial(0,n);var s=new cc.Node;s.setParent(r);var c=s.addComponent(cc.Camera);return c.clearFlags|=cc.Camera.ClearFlags.COLOR,c.backgroundColor=cc.color(0,0,0,0),c.zoomRatio=cc.winSize.height/a,c.targetTexture=e,c.render(r),s.destroy(),r.destroy(),e},i([c({type:cc.Sprite,tooltip:!1})],e.prototype,"sprite",void 0),i([c({type:cc.Material,tooltip:!1})],e.prototype,"material",void 0),i([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],LRUCache:[function(t,e,n){"use strict";cc._RF.push(e,"2516dDnewNJ2I/vyZM6Z9rJ","LRUCache"),Object.defineProperty(n,"__esModule",{value:!0}),n.LRUCache=void 0;var r=t("./Pool"),o=function(){function t(t,e){this.value=t,this.next=e}return t.prototype.use=function(t,e){this.value=t,this.next=e},t.prototype.free=function(){this.value="",this.next=null},t}(),i=function(){function t(t){this.nodePool=new r.Pool(function(){return new o("",null)},3),this.maxSize=t,this.head=new o("head",null),this.size=0}return t.prototype.remove=function(t){var e=this.has(t);e&&this.removeNode(e)},t.prototype.put=function(t){if(this.size<=0)return this.last=this.nodePool.alloc(t,null),this.last.prev=this.head,this.head.next=this.last,void(this.size=1);var e=this.has(t);if(!e)return e=this.nodePool.alloc(t,null),void this.addHead(e);e!=this.head.next&&(this.removeNode(e),this.addHead(e))},t.prototype.needDelete=function(){return this.size>this.maxSize},t.prototype.deleteLastNode=function(){var t=this.last.value;return this.removeNode(this.last),t},t.prototype.removeNode=function(t){t.prev.next=t.next,t.next?t.next.prev=t.prev:this.last=t.prev,t.prev=null,t.next=null,this.nodePool.free(t),this.size--},t.prototype.addHead=function(t){t.next=this.head.next,t.next&&(t.next.prev=t),this.head.next=t,t.prev=this.head,this.size++},t.prototype.has=function(t){for(var e=this.head.next,n=0;e;){if(e.value==t)return e;if(e=e.next,++n>this.maxSize)break}return null},t.prototype.toString=function(){return this.head.next,""},t}();n.LRUCache=i,cc._RF.pop()},{"./Pool":"Pool"}],LightStruct:[function(t,e,n){"use strict";cc._RF.push(e,"c719fETXCJI04htRCnD+NLA","LightStruct"),Object.defineProperty(n,"__esModule",{value:!0}),n.Intersection=void 0;n.Intersection=function(t,e,n,r){this.x=t,this.y=e,this.len=n,this.angle=r},cc._RF.pop()},{}],LightUtils:[function(t,e,n){"use strict";cc._RF.push(e,"cd1b9xWLxVAN7fJCCK/oCfF","LightUtils"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.getIntersections=function(t,e){for(var n=t,r=[],o=0,i=this.getRayEnds(e);o<i.length;o++)for(var a=i[o],s=this.getNormal(a.sub(n)),c=-1;c<=1;c++){var u=a.add(s.mul(.001*c)),l=this.getIntersection(e,n,u);l&&(l.angle=Math.atan2(u.y-n.y,u.x-n.x),r.push(l))}return r.sort(function(t,e){return t.angle-e.angle})},t.getNormal=function(t){var e=t.normalize(),n=e.x;return e.x=e.y,e.y=-n,e},t.getRayEnds=function(t){for(var e=[],n=0;n<t.length;n++)for(var r=t[n],o=0;o<r.length;o++)e.push(r[o]);return e},t.getIntersection=function(t,e,n){for(var r=null,o=0;o<t.length;o++)for(var i=t[o],a=0;a<i.length;a++){var s=this._doGetIntersection(e,n,i[a],a===i.length-1?i[0]:i[a+1]);s&&(!r||s.len<r.len)&&(r=s)}return r},t.getIntersectionByAngle=function(t,e,n,r){var o=t+e;t*=.017453,o*=.017453;var i=cc.v2(Math.cos(t),Math.sin(t)).add(n),a=cc.v2(Math.cos(o),Math.sin(o)).add(n),s=this.getIntersection(r,n,i);s.angle=t;var c=this.getIntersection(r,n,a);c.angle=o;var u=this.getIntersections(n,r),l=this.binarySearchIntersects(u,t,!0),h=this.binarySearchIntersects(u,o,!1);return(u=u.slice(l,h+1)).unshift({x:n.x,y:n.y,len:0},s),u.push(c),u},t.binarySearchIntersects=function(t,e,n){void 0===n&&(n=!1);for(var r=0,o=t.length-1;o-r>1;){var i=Math.floor((r+o)/2);if(e<t[i].angle)o=i;else{if(!(e>t[i].angle))return i;r=i}}return n?o:r},t._doGetIntersection=function(t,e,n,r){var o=t.x,i=t.y,a=e.x-t.x,s=e.y-t.y,c=n.x,u=n.y,l=r.x-n.x,h=r.y-n.y,p=a*a+s*s,f=l*l+h*h;if(a/p==l/f&&s/p==h/f)return null;var d=(a*(u-i)+s*(o-c))/(l*s-h*a),_=(c+l*d-o)/a;return _<0?null:d<0||d>1?null:{x:o+a*_,y:i+s*_,len:_}},t}();n.default=r,cc._RF.pop()},{}],Light:[function(t,e,n){"use strict";cc._RF.push(e,"68edfvWcX9CWav9zMp303o6","Light");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.LightType=void 0;var a,s=t("../Components/QuadTree"),c=cc._decorator,u=c.ccclass,l=c.property;(function(t){t[t.Round=0]="Round",t[t.Sector=1]="Sector"})(a=n.LightType||(n.LightType={}));var h=new s.Bound(0,0,0,0),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.graphics=null,e.lightType=0,e.canvasSize=null,e.visiableSize=null,e.radius=200,e.fade=1,e._material=null,e}return o(e,t),e.prototype.onLoad=function(){this._material=this.graphics.getMaterial(0),this.canvasSize=cc.view.getCanvasSize(),this.visiableSize=cc.view.getCanvasSize(),this.node.setContentSize(this.canvasSize),this._material.setProperty("screen",cc.v2(this.canvasSize.width,this.canvasSize.height));var t=this.radius/this.canvasSize.width;this._material.setProperty("maxRadius",t)},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)},e.prototype.onTouchMove=function(t){this.node.x+=t.getDeltaX(),this.node.y+=t.getDeltaY()},e.prototype.getBound=function(){var t=this.node.getPosition();return h.x=t.x-this.radius/2,h.y=t.y-this.radius/2,h.width=h.height=this.radius,h},e.prototype.draw=function(t){var e=this.node.getPosition();this._doDraw(this.graphics,e,t),this._material.setProperty("lightPos",cc.v2(e.x/this.visiableSize.width,e.y/this.visiableSize.height))},e.prototype._doDraw=function(t,e,n){t.clear(),t.moveTo(n[0].x,n[0].y);for(var r=1;r<n.length;r++){var o=n[r];t.lineTo(o.x,o.y)}t.moveTo(n[0].x,n[0].y),t.fill()},i([l(cc.Graphics)],e.prototype,"graphics",void 0),i([l({type:cc.Enum(a)})],e.prototype,"lightType",void 0),i([u],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Components/QuadTree":"QuadTree"}],ListItem:[function(t,e,n){"use strict";cc._RF.push(e,"a7fffNLv8pJKpv/2o70E/WX","ListItem");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,s=cc._decorator,c=s.ccclass,u=s.property,l=s.disallowMultiple,h=s.menu,p=s.executionOrder;(function(t){t[t.NONE=0]="NONE",t[t.TOGGLE=1]="TOGGLE",t[t.SWITCH=2]="SWITCH"})(a||(a={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.title=null,e.selectedMode=a.NONE,e.selectedFlag=null,e.selectedSpriteFrame=null,e._unselectedSpriteFrame=null,e.adaptiveSize=!1,e._selected=!1,e._eventReg=!1,e}return o(e,t),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){if(this._selected=t,this.selectedFlag)switch(this.selectedMode){case a.TOGGLE:this.selectedFlag.active=t;break;case a.SWITCH:var e=this.selectedFlag.getComponent(cc.Sprite);e&&(e.spriteFrame=t?this.selectedSpriteFrame:this._unselectedSpriteFrame)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"btnCom",{get:function(){return this._btnCom||(this._btnCom=this.node.getComponent(cc.Button)),this._btnCom},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){if(this.selectedMode==a.SWITCH){var t=this.selectedFlag.getComponent(cc.Sprite);this._unselectedSpriteFrame=t.spriteFrame}this.btnCom&&this._registerEvent()},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this)},e.prototype._registerEvent=function(){this._eventReg||(this.btnCom&&this.btnCom.clickEvents.unshift(this.createEvt(this,"onClickThis")),this.adaptiveSize&&this.node.on(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this),this._eventReg=!0)},e.prototype._onSizeChange=function(){this.list._onItemAdaptive(this.node)},e.prototype.createEvt=function(t,e,n){if(void 0===n&&(n=null),t.isValid){t.comName=t.comName||t.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");var r=new cc.Component.EventHandler;return r.target=n||t.node,r.component=t.comName,r.handler=e,r}},e.prototype.showAni=function(t,e,n){var r,o=this;switch(t){case 0:r=cc.tween(o.node).to(.2,{scale:.7}).by(.3,{y:2*o.node.height});break;case 1:r=cc.tween(o.node).to(.2,{scale:.7}).by(.3,{x:2*o.node.width});break;case 2:r=cc.tween(o.node).to(.2,{scale:.7}).by(.3,{y:-2*o.node.height});break;case 3:r=cc.tween(o.node).to(.2,{scale:.7}).by(.3,{x:-2*o.node.width});break;default:r=cc.tween(o.node).to(.3,{scale:.1})}(e||n)&&r.call(function(){if(n){o.list._delSingleItem(o.node);for(var t=o.list.displayData.length-1;t>=0;t--)if(o.list.displayData[t].id==o.listId){o.list.displayData.splice(t,1);break}}e()}),r.start()},e.prototype.onClickThis=function(){this.list.selectedId=this.listId},i([u({type:cc.Sprite,tooltip:!1})],e.prototype,"icon",void 0),i([u({type:cc.Node,tooltip:!1})],e.prototype,"title",void 0),i([u({type:cc.Enum(a),tooltip:!1})],e.prototype,"selectedMode",void 0),i([u({type:cc.Node,tooltip:!1,visible:function(){return this.selectedMode>a.NONE}})],e.prototype,"selectedFlag",void 0),i([u({type:cc.SpriteFrame,tooltip:!1,visible:function(){return this.selectedMode==a.SWITCH}})],e.prototype,"selectedSpriteFrame",void 0),i([u({tooltip:!1})],e.prototype,"adaptiveSize",void 0),i([c,l(),h("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List Item"),p(-5001)],e)}(cc.Component);n.default=f,cc._RF.pop()},{}],List:[function(t,e,n){"use strict";cc._RF.push(e,"c90caYxyjpBsprfoYNnL4hm","List");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,s,c,u=cc._decorator,l=u.ccclass,h=u.property,p=u.disallowMultiple,f=u.menu,d=u.executionOrder,_=u.requireComponent,y=t("./ListItem");(function(t){t[t.NODE=1]="NODE",t[t.PREFAB=2]="PREFAB"})(a||(a={})),function(t){t[t.NORMAL=1]="NORMAL",t[t.ADHERING=2]="ADHERING",t[t.PAGE=3]="PAGE"}(s||(s={})),function(t){t[t.NONE=0]="NONE",t[t.SINGLE=1]="SINGLE",t[t.MULT=2]="MULT"}(c||(c={}));var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateType=a.NODE,e.tmpNode=null,e.tmpPrefab=null,e._slideMode=s.NORMAL,e.pageDistance=.3,e.pageChangeEvent=new cc.Component.EventHandler,e._virtual=!0,e.cyclic=!1,e.lackCenter=!1,e.lackSlide=!1,e._updateRate=0,e.frameByFrameRenderNum=0,e.renderEvent=new cc.Component.EventHandler,e.selectedMode=c.NONE,e.repeatEventSingle=!1,e.selectedEvent=new cc.Component.EventHandler,e._selectedId=-1,e._forceUpdate=!1,e._updateDone=!0,e._numItems=0,e._inited=!1,e._needUpdateWidget=!1,e._aniDelRuning=!1,e._doneAfterUpdate=!1,e.adhering=!1,e._adheringBarrier=!1,e.curPageNum=0,e}return o(e,t),Object.defineProperty(e.prototype,"slideMode",{get:function(){return this._slideMode},set:function(t){this._slideMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"virtual",{get:function(){return this._virtual},set:function(t){null!=t&&(this._virtual=t),0!=this._numItems&&this._onScrolling()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateRate",{get:function(){return this._updateRate},set:function(t){t>=0&&t<=6&&(this._updateRate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedId",{get:function(){return this._selectedId},set:function(t){var e,n=this;switch(n.selectedMode){case c.SINGLE:if(!n.repeatEventSingle&&t==n._selectedId)return;e=n.getItemByListId(t);var r=void 0;if(n._selectedId>=0?n._lastSelectedId=n._selectedId:n._lastSelectedId=null,n._selectedId=t,e&&((r=e.getComponent(y.default)).selected=!0),n._lastSelectedId>=0&&n._lastSelectedId!=n._selectedId){var o=n.getItemByListId(n._lastSelectedId);o&&(o.getComponent(y.default).selected=!1)}n.selectedEvent&&cc.Component.EventHandler.emitEvents([n.selectedEvent],e,t%this._actualNumItems,null==n._lastSelectedId?null:n._lastSelectedId%this._actualNumItems);break;case c.MULT:if(!(e=n.getItemByListId(t)))return;r=e.getComponent(y.default),n._selectedId>=0&&(n._lastSelectedId=n._selectedId),n._selectedId=t;var i=!r.selected;r.selected=i;var a=n.multSelected.indexOf(t);i&&a<0?n.multSelected.push(t):!i&&a>=0&&n.multSelected.splice(a,1),n.selectedEvent&&cc.Component.EventHandler.emitEvents([n.selectedEvent],e,t%this._actualNumItems,null==n._lastSelectedId?null:n._lastSelectedId%this._actualNumItems,i)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numItems",{get:function(){return this._actualNumItems},set:function(t){var e=this;if(e.checkInited(!1))if(null==t||t<0)cc.error("numItems set the wrong::",t);else if(e._actualNumItems=e._numItems=t,e._forceUpdate=!0,e._virtual)e._resizeContent(),e.cyclic&&(e._numItems=e._cyclicNum*e._numItems),e._onScrolling(),e.frameByFrameRenderNum||e.slideMode!=s.PAGE||(e.curPageNum=e.nearestListId);else{e.cyclic&&(e._resizeContent(),e._numItems=e._cyclicNum*e._numItems);var n=e.content.getComponent(cc.Layout);if(n&&(n.enabled=!0),e._delRedundantItem(),e.firstListId=0,e.frameByFrameRenderNum>0){for(var r=e.frameByFrameRenderNum>e._numItems?e._numItems:e.frameByFrameRenderNum,o=0;o<r;o++)e._createOrUpdateItem2(o);e.frameByFrameRenderNum<e._numItems&&(e._updateCounter=e.frameByFrameRenderNum,e._updateDone=!1)}else{for(o=0;o<e._numItems;o++)e._createOrUpdateItem2(o);e.displayItemNum=e._numItems}}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollView",{get:function(){return this._scrollView},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._init()},e.prototype.onDestroy=function(){var t=this;cc.isValid(t._itemTmp)&&t._itemTmp.destroy(),cc.isValid(t.tmpNode)&&t.tmpNode.destroy(),t._pool&&t._pool.clear()},e.prototype.onEnable=function(){this._registerEvent(),this._init(),this._aniDelRuning&&(this._aniDelRuning=!1,this._aniDelItem&&(this._aniDelBeforePos&&(this._aniDelItem.position=this._aniDelBeforePos,delete this._aniDelBeforePos),this._aniDelBeforeScale&&(this._aniDelItem.scale=this._aniDelBeforeScale,delete this._aniDelBeforeScale),delete this._aniDelItem),this._aniDelCB&&(this._aniDelCB(),delete this._aniDelCB))},e.prototype.onDisable=function(){this._unregisterEvent()},e.prototype._registerEvent=function(){var t=this;t.node.on(cc.Node.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.on("touch-up",t._onTouchUp,t),t.node.on(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.on("scroll-began",t._onScrollBegan,t,!0),t.node.on("scroll-ended",t._onScrollEnded,t,!0),t.node.on("scrolling",t._onScrolling,t,!0),t.node.on(cc.Node.EventType.SIZE_CHANGED,t._onSizeChanged,t)},e.prototype._unregisterEvent=function(){var t=this;t.node.off(cc.Node.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.off("touch-up",t._onTouchUp,t),t.node.off(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.off("scroll-began",t._onScrollBegan,t,!0),t.node.off("scroll-ended",t._onScrollEnded,t,!0),t.node.off("scrolling",t._onScrolling,t,!0),t.node.off(cc.Node.EventType.SIZE_CHANGED,t._onSizeChanged,t)},e.prototype._init=function(){var t=this;if(!t._inited)if(t._scrollView=t.node.getComponent(cc.ScrollView),t.content=t._scrollView.content,t.content){switch(t._layout=t.content.getComponent(cc.Layout),t._align=t._layout.type,t._resizeMode=t._layout.resizeMode,t._startAxis=t._layout.startAxis,t._topGap=t._layout.paddingTop,t._rightGap=t._layout.paddingRight,t._bottomGap=t._layout.paddingBottom,t._leftGap=t._layout.paddingLeft,t._columnGap=t._layout.spacingX,t._lineGap=t._layout.spacingY,t._colLineNum,t._verticalDir=t._layout.verticalDirection,t._horizontalDir=t._layout.horizontalDirection,t.setTemplateItem(cc.instantiate(t.templateType==a.PREFAB?t.tmpPrefab:t.tmpNode)),t._slideMode!=s.ADHERING&&t._slideMode!=s.PAGE||(t._scrollView.inertia=!1,t._scrollView._onMouseWheel=function(){}),t.virtual||(t.lackCenter=!1),t._lastDisplayData=[],t.displayData=[],t._pool=new cc.NodePool,t._forceUpdate=!1,t._updateCounter=0,t._updateDone=!0,t.curPageNum=0,t.cyclic&&(t._scrollView._processAutoScrolling=this._processAutoScrolling.bind(t),t._scrollView._startBounceBackIfNeeded=function(){return!1}),t._align){case cc.Layout.Type.HORIZONTAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}}}t.content.removeAllChildren(),t._inited=!0}else cc.error(t.node.name+"'s cc.ScrollView unset content!")},e.prototype._processAutoScrolling=function(t){this._scrollView._autoScrollAccumulatedTime+=1*t;var e=Math.min(1,this._scrollView._autoScrollAccumulatedTime/this._scrollView._autoScrollTotalTime);if(this._scrollView._autoScrollAttenuate){var n=e-1;e=n*n*n*n*n+1}var r=this._scrollView._autoScrollStartPosition.add(this._scrollView._autoScrollTargetDelta.mul(e)),o=this._scrollView.getScrollEndedEventTiming(),i=Math.abs(e-1)<=o;Math.abs(e-1)<=this._scrollView.getScrollEndedEventTiming()&&!this._scrollView._isScrollEndedWithThresholdEventFired&&(this._scrollView._dispatchEvent("scroll-ended-with-threshold"),this._scrollView._isScrollEndedWithThresholdEventFired=!0),i&&(this._scrollView._autoScrolling=!1);var a=r.sub(this._scrollView.getContentPosition());this._scrollView._moveContent(this._scrollView._clampDelta(a),i),this._scrollView._dispatchEvent("scrolling"),this._scrollView._autoScrolling||(this._scrollView._isBouncing=!1,this._scrollView._scrolling=!1,this._scrollView._dispatchEvent("scroll-ended"))},e.prototype.setTemplateItem=function(t){if(t){var e=this;e._itemTmp=t,e._resizeMode==cc.Layout.ResizeMode.CHILDREN?e._itemSize=e._layout.cellSize:e._itemSize=cc.size(t.width,t.height);var n=t.getComponent(y.default),r=!1;switch(n||(r=!0),r&&(e.selectedMode=c.NONE),(n=t.getComponent(cc.Widget))&&n.enabled&&(e._needUpdateWidget=!0),e.selectedMode==c.MULT&&(e.multSelected=[]),e._align){case cc.Layout.Type.HORIZONTAL:e._colLineNum=1,e._sizeType=!1;break;case cc.Layout.Type.VERTICAL:e._colLineNum=1,e._sizeType=!0;break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var o=e.content.width-e._leftGap-e._rightGap;e._colLineNum=Math.floor((o+e._columnGap)/(e._itemSize.width+e._columnGap)),e._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var i=e.content.height-e._topGap-e._bottomGap;e._colLineNum=Math.floor((i+e._lineGap)/(e._itemSize.height+e._lineGap)),e._sizeType=!1}}}},e.prototype.checkInited=function(t){return void 0===t&&(t=!0),!!this._inited||(t&&cc.error("List initialization not completed!"),!1)},e.prototype._resizeContent=function(){var t,e=this;switch(e._align){case cc.Layout.Type.HORIZONTAL:if(e._customSize){var n=e._getFixedSize(null);t=e._leftGap+n.val+e._itemSize.width*(e._numItems-n.count)+e._columnGap*(e._numItems-1)+e._rightGap}else t=e._leftGap+e._itemSize.width*e._numItems+e._columnGap*(e._numItems-1)+e._rightGap;break;case cc.Layout.Type.VERTICAL:e._customSize?(n=e._getFixedSize(null),t=e._topGap+n.val+e._itemSize.height*(e._numItems-n.count)+e._lineGap*(e._numItems-1)+e._bottomGap):t=e._topGap+e._itemSize.height*e._numItems+e._lineGap*(e._numItems-1)+e._bottomGap;break;case cc.Layout.Type.GRID:switch(e.lackCenter&&(e.lackCenter=!1),e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var r=Math.ceil(e._numItems/e._colLineNum);t=e._topGap+e._itemSize.height*r+e._lineGap*(r-1)+e._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:var o=Math.ceil(e._numItems/e._colLineNum);t=e._leftGap+e._itemSize.width*o+e._columnGap*(o-1)+e._rightGap}}var i=e.content.getComponent(cc.Layout);if(i&&(i.enabled=!1),e._allItemSize=t,e._allItemSizeNoEdge=e._allItemSize-(e._sizeType?e._topGap+e._bottomGap:e._leftGap+e._rightGap),e.cyclic){var a=e._sizeType?e.node.height:e.node.width;e._cyclicPos1=0,a-=e._cyclicPos1,e._cyclicNum=Math.ceil(a/e._allItemSizeNoEdge)+1;var s=e._sizeType?e._lineGap:e._columnGap;e._cyclicPos2=e._cyclicPos1+e._allItemSizeNoEdge+s,e._cyclicAllItemSize=e._allItemSize+e._allItemSizeNoEdge*(e._cyclicNum-1)+s*(e._cyclicNum-1),e._cycilcAllItemSizeNoEdge=e._allItemSizeNoEdge*e._cyclicNum,e._cycilcAllItemSizeNoEdge+=s*(e._cyclicNum-1)}e._lack=!e.cyclic&&e._allItemSize<(e._sizeType?e.node.height:e.node.width);var c=e._lack&&e.lackCenter||!e.lackSlide?.1:0,u=e._lack?(e._sizeType?e.node.height:e.node.width)-c:e.cyclic?e._cyclicAllItemSize:e._allItemSize;u<0&&(u=0),e._sizeType?e.content.height=u:e.content.width=u},e.prototype._onScrolling=function(t){if(void 0===t&&(t=null),null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&t&&"scroll-ended"!=t.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){if(this.cyclic){var e=this.content.getPosition();e=this._sizeType?e.y:e.x;var n=this._allItemSizeNoEdge+(this._sizeType?this._lineGap:this._columnGap),r=this._sizeType?cc.v2(0,n):cc.v2(n,0);switch(this._alignCalcType){case 1:e>-this._cyclicPos1?(this.content.x=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(r))):e<-this._cyclicPos2&&(this.content.x=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(r)));break;case 2:e<this._cyclicPos1?(this.content.x=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(r))):e>this._cyclicPos2&&(this.content.x=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(r)));break;case 3:e<this._cyclicPos1?(this.content.y=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(r))):e>this._cyclicPos2&&(this.content.y=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(r)));break;case 4:e>-this._cyclicPos1?(this.content.y=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(r))):e<-this._cyclicPos2&&(this.content.y=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(r)))}}var o,i,a,s;if(this._calcViewPos(),this._sizeType?(o=this.viewTop,a=this.viewBottom):(i=this.viewRight,s=this.viewLeft),this._virtual){this.displayData=[];var c=void 0,u=0,l=this._numItems-1;if(this._customSize)for(var h=!1;u<=l&&!h;u++)switch(c=this._calcItemPos(u),this._align){case cc.Layout.Type.HORIZONTAL:c.right>=s&&c.left<=i?this.displayData.push(c):0!=u&&this.displayData.length>0&&(h=!0);break;case cc.Layout.Type.VERTICAL:c.bottom<=o&&c.top>=a?this.displayData.push(c):0!=u&&this.displayData.length>0&&(h=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:c.bottom<=o&&c.top>=a?this.displayData.push(c):0!=u&&this.displayData.length>0&&(h=!0);break;case cc.Layout.AxisDirection.VERTICAL:c.right>=s&&c.left<=i?this.displayData.push(c):0!=u&&this.displayData.length>0&&(h=!0)}}else{var p=this._itemSize.width+this._columnGap,f=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:u=(s-this._leftGap)/p,l=(i-this._leftGap)/p;break;case 2:u=(-i-this._rightGap)/p,l=(-s-this._rightGap)/p;break;case 3:u=(-o-this._topGap)/f,l=(-a-this._topGap)/f;break;case 4:u=(a-this._bottomGap)/f,l=(o-this._bottomGap)/f}for(u=Math.floor(u)*this._colLineNum,l=Math.ceil(l)*this._colLineNum,u<0&&(u=0),--l>=this._numItems&&(l=this._numItems-1);u<=l;u++)this.displayData.push(this._calcItemPos(u))}if(this._delRedundantItem(),this.displayData.length<=0||!this._numItems)return void(this._lastDisplayData=[]);this.firstListId=this.displayData[0].id,this.displayItemNum=this.displayData.length;var d=this._lastDisplayData.length,_=this.displayItemNum!=d;if(_&&(this.frameByFrameRenderNum>0&&this._lastDisplayData.sort(function(t,e){return t-e}),_=this.firstListId!=this._lastDisplayData[0]||this.displayData[this.displayItemNum-1].id!=this._lastDisplayData[d-1]),this._forceUpdate||_)if(this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._updateCounter=0,this._updateDone=!0);else{this._lastDisplayData=[];for(var y=0;y<this.displayItemNum;y++)this._createOrUpdateItem(this.displayData[y]);this._forceUpdate=!1}this._calcNearestItem()}}},e.prototype._calcViewPos=function(){var t=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=t.x>0?t.x:0,this.viewLeft=(t.x<0?-t.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=t.x<0?-t.x:0,this.viewRight=(t.x>0?-t.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=t.y<0?Math.abs(t.y):0,this.viewTop=(t.y>0?-t.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=t.y>0?Math.abs(t.y):0,this.viewBottom=(t.y<0?-t.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},e.prototype._calcItemPos=function(t){var e,n,r,o,i,a,s,c;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:if(this._customSize){var u=this._getFixedSize(t);i=this._leftGap+(this._itemSize.width+this._columnGap)*(t-u.count)+(u.val+this._columnGap*u.count),e=(l=this._customSize[t])>0?l:this._itemSize.width}else i=this._leftGap+(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;return this.lackCenter&&(i-=this._leftGap,i+=this.content.width/2-this._allItemSizeNoEdge/2),{id:t,left:i,right:a=i+e,x:i+this._itemTmp.anchorX*e,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:return this._customSize?(u=this._getFixedSize(t),a=-this._rightGap-(this._itemSize.width+this._columnGap)*(t-u.count)-(u.val+this._columnGap*u.count),e=(l=this._customSize[t])>0?l:this._itemSize.width):(a=-this._rightGap-(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width),this.lackCenter&&(a+=this._rightGap,a-=this.content.width/2-this._allItemSizeNoEdge/2),{id:t,right:a,left:i=a-e,x:i+this._itemTmp.anchorX*e,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:return this._customSize?(u=this._getFixedSize(t),r=-this._topGap-(this._itemSize.height+this._lineGap)*(t-u.count)-(u.val+this._lineGap*u.count),n=(l=this._customSize[t])>0?l:this._itemSize.height):(r=-this._topGap-(this._itemSize.height+this._lineGap)*t,n=this._itemSize.height),this.lackCenter&&(r+=this._topGap,r-=this.content.height/2-this._allItemSizeNoEdge/2),{id:t,top:r,bottom:o=r-n,x:this._itemTmp.x,y:o+this._itemTmp.anchorY*n};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:var l;if(this._customSize)u=this._getFixedSize(t),o=this._bottomGap+(this._itemSize.height+this._lineGap)*(t-u.count)+(u.val+this._lineGap*u.count),n=(l=this._customSize[t])>0?l:this._itemSize.height;else o=this._bottomGap+(this._itemSize.height+this._lineGap)*t,n=this._itemSize.height;return this.lackCenter&&(o-=this._bottomGap,o+=this.content.height/2-this._allItemSizeNoEdge/2),{id:t,top:r=o+n,bottom:o,x:this._itemTmp.x,y:o+this._itemTmp.anchorY*n}}case cc.Layout.Type.GRID:var h=Math.floor(t/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c=(o=(r=-this._topGap-(this._itemSize.height+this._lineGap)*h)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:r=(o=this._bottomGap+(this._itemSize.height+this._lineGap)*h)+this._itemSize.height,c=o+this._itemTmp.anchorY*this._itemSize.height}switch(s=this._leftGap+t%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:s+=this._itemTmp.anchorX*this._itemSize.width,s-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:s+=(1-this._itemTmp.anchorX)*this._itemSize.width,s-=(1-this.content.anchorX)*this.content.width,s*=-1}return{id:t,top:r,bottom:o,x:s,y:c};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:a=(i=this._leftGap+(this._itemSize.width+this._columnGap)*h)+this._itemSize.width,s=i+this._itemTmp.anchorX*this._itemSize.width,s-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:s=(i=(a=-this._rightGap-(this._itemSize.width+this._columnGap)*h)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,s+=(1-this.content.anchorX)*this.content.width}switch(c=-this._topGap-t%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c-=(1-this._itemTmp.anchorY)*this._itemSize.height,c+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:c-=this._itemTmp.anchorY*this._itemSize.height,c+=this.content.anchorY*this.content.height,c*=-1}return{id:t,left:i,right:a,x:s,y:c}}}},e.prototype._calcExistItemPos=function(t){var e=this.getItemByListId(t);if(!e)return null;var n={id:t,x:e.x,y:e.y};return this._sizeType?(n.top=e.y+e.height*(1-e.anchorY),n.bottom=e.y-e.height*e.anchorY):(n.left=e.x-e.width*e.anchorX,n.right=e.x+e.width*(1-e.anchorX)),n},e.prototype.getItemPos=function(t){return this._virtual?this._calcItemPos(t):this.frameByFrameRenderNum?this._calcItemPos(t):this._calcExistItemPos(t)},e.prototype._getFixedSize=function(t){if(!this._customSize)return null;null==t&&(t=this._numItems);var e=0,n=0;for(var r in this._customSize)parseInt(r)<t&&(e+=this._customSize[r],n++);return{val:e,count:n}},e.prototype._onScrollBegan=function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},e.prototype._onScrollEnded=function(){var t=this;if(t.curScrollIsTouch=!1,null!=t.scrollToListId){var e=t.getItemByListId(t.scrollToListId);t.scrollToListId=null,e&&cc.tween(e).to(.1,{scale:1.06}).to(.1,{scale:1}).start()}t._onScrolling(),t._slideMode!=s.ADHERING||t.adhering?t._slideMode==s.PAGE&&(null!=t._beganPos&&t.curScrollIsTouch?this._pageAdhere():t.adhere()):t.adhere()},e.prototype._onTouchStart=function(t,e){if(!this._scrollView.hasNestedViewGroup(t,e)&&(this.curScrollIsTouch=!0,t.eventPhase!==cc.Event.AT_TARGET||t.target!==this.node)){for(var n=t.target;null==n._listId&&n.parent;)n=n.parent;this._scrollItem=null!=n._listId?n:t.target}},e.prototype._onTouchUp=function(){var t=this;t._scrollPos=null,t._slideMode==s.ADHERING?(this.adhering&&(this._adheringBarrier=!0),t.adhere()):t._slideMode==s.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere()),this._scrollItem=null},e.prototype._onTouchCancelled=function(t,e){var n=this;n._scrollView.hasNestedViewGroup(t,e)||t.simulate||(n._scrollPos=null,n._slideMode==s.ADHERING?(n.adhering&&(n._adheringBarrier=!0),n.adhere()):n._slideMode==s.PAGE&&(null!=n._beganPos?n._pageAdhere():n.adhere()),this._scrollItem=null)},e.prototype._onSizeChanged=function(){this.checkInited(!1)&&this._onScrolling()},e.prototype._onItemAdaptive=function(t){if(!this._sizeType&&t.width!=this._itemSize.width||this._sizeType&&t.height!=this._itemSize.height){this._customSize||(this._customSize={});var e=this._sizeType?t.height:t.width;this._customSize[t._listId]!=e&&(this._customSize[t._listId]=e,this._resizeContent(),this.updateAll(),null!=this._scrollToListId&&(this._scrollPos=null,this.unschedule(this._scrollToSo),this.scrollTo(this._scrollToListId,Math.max(0,this._scrollToEndTime-(new Date).getTime()/1e3))))}},e.prototype._pageAdhere=function(){var t=this;if(t.cyclic||!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){var e=t._sizeType?t.viewTop:t.viewLeft,n=(t._sizeType?t.node.height:t.node.width)*t.pageDistance;if(Math.abs(t._beganPos-e)>n)switch(t._alignCalcType){case 1:case 4:t._beganPos>e?t.prePage(.5):t.nextPage(.5);break;case 2:case 3:t._beganPos<e?t.prePage(.5):t.nextPage(.5)}else t.elasticTop<=0&&t.elasticRight<=0&&t.elasticBottom<=0&&t.elasticLeft<=0&&t.adhere();t._beganPos=null}},e.prototype.adhere=function(){var t=this;if(t.checkInited()&&!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){t.adhering=!0,t._calcNearestItem();var e=(t._sizeType?t._topGap:t._leftGap)/(t._sizeType?t.node.height:t.node.width);t.scrollTo(t.nearestListId,.7,e)}},e.prototype.update=function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var t=this._updateCounter+this.frameByFrameRenderNum>this.displayItemNum?this.displayItemNum:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++){var n=this.displayData[e];n&&this._createOrUpdateItem(n)}this._updateCounter>=this.displayItemNum-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._doneAfterUpdate=!1):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem(),this.slideMode==s.PAGE&&(this.curPageNum=this.nearestListId)):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(t=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++)this._createOrUpdateItem2(e);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem(),this.slideMode==s.PAGE&&(this.curPageNum=this.nearestListId)},e.prototype._createOrUpdateItem=function(t){var e=this.getItemByListId(t.id);if(e)this._forceUpdate&&this.renderEvent&&(e.setPosition(cc.v2(t.x,t.y)),this._resetItemSize(e),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id%this._actualNumItems));else{var n=this._pool.size()>0;if(e=n?this._pool.get():cc.instantiate(this._itemTmp),n&&cc.isValid(e)||(e=cc.instantiate(this._itemTmp),n=!1),e._listId!=t.id&&(e._listId=t.id,e.setContentSize(this._itemSize)),e.setPosition(cc.v2(t.x,t.y)),this._resetItemSize(e),this.content.addChild(e),n&&this._needUpdateWidget){var r=e.getComponent(cc.Widget);r&&r.updateAlignment()}e.setSiblingIndex(this.content.childrenCount-1);var o=e.getComponent(y.default);e.listItem=o,o&&(o.listId=t.id,o.list=this,o._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id%this._actualNumItems)}this._resetItemSize(e),this._updateListItem(e.listItem),this._lastDisplayData.indexOf(t.id)<0&&this._lastDisplayData.push(t.id)},e.prototype._createOrUpdateItem2=function(t){var e,n=this.content.children[t];n?this._forceUpdate&&this.renderEvent&&(n._listId=t,e&&(e.listId=t),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,t%this._actualNumItems)):((n=cc.instantiate(this._itemTmp))._listId=t,this.content.addChild(n),e=n.getComponent(y.default),n.listItem=e,e&&(e.listId=t,e.list=this,e._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,t%this._actualNumItems)),this._updateListItem(e),this._lastDisplayData.indexOf(t)<0&&this._lastDisplayData.push(t)},e.prototype._updateListItem=function(t){if(t&&this.selectedMode>c.NONE){var e=t.node;switch(this.selectedMode){case c.SINGLE:t.selected=this.selectedId==e._listId;break;case c.MULT:t.selected=this.multSelected.indexOf(e._listId)>=0}}},e.prototype._resetItemSize=function(){},e.prototype._updateItemPos=function(t){var e=isNaN(t)?t:this.getItemByListId(t),n=this.getItemPos(e._listId);e.setPosition(n.x,n.y)},e.prototype.setMultSelected=function(t,e){var n=this;if(n.checkInited()){if(Array.isArray(t)||(t=[t]),null==e)n.multSelected=t;else{var r=void 0,o=void 0;if(e)for(var i=t.length-1;i>=0;i--)r=t[i],(o=n.multSelected.indexOf(r))<0&&n.multSelected.push(r);else for(i=t.length-1;i>=0;i--)r=t[i],(o=n.multSelected.indexOf(r))>=0&&n.multSelected.splice(o,1)}n._forceUpdate=!0,n._onScrolling()}},e.prototype.getMultSelected=function(){return this.multSelected},e.prototype.hasMultSelected=function(t){return this.multSelected&&this.multSelected.indexOf(t)>=0},e.prototype.updateItem=function(t){if(this.checkInited()){Array.isArray(t)||(t=[t]);for(var e=0,n=t.length;e<n;e++){var r=t[e],o=this.getItemByListId(r);o&&cc.Component.EventHandler.emitEvents([this.renderEvent],o,r%this._actualNumItems)}}},e.prototype.updateAll=function(){this.checkInited()&&(this.numItems=this.numItems)},e.prototype.getItemByListId=function(t){if(this.content)for(var e=this.content.childrenCount-1;e>=0;e--){var n=this.content.children[e];if(n._listId==t)return n}},e.prototype._getOutsideItem=function(){for(var t,e=[],n=this.content.childrenCount-1;n>=0;n--)t=this.content.children[n],this.displayData.find(function(e){return e.id==t._listId})||e.push(t);return e},e.prototype._delRedundantItem=function(){if(this._virtual)for(var t=this._getOutsideItem(),e=t.length-1;e>=0;e--){var n=t[e];if(!this._scrollItem||n._listId!=this._scrollItem._listId){n.isCached=!0,this._pool.put(n);for(var r=this._lastDisplayData.length-1;r>=0;r--)if(this._lastDisplayData[r]==n._listId){this._lastDisplayData.splice(r,1);break}}}else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},e.prototype._delSingleItem=function(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null},e.prototype.aniDelItem=function(t,e,n){var r=this;if(!r.checkInited()||r.cyclic||!r._virtual)return cc.error("This function is not allowed to be called!");if(!e)return cc.error("CallFunc are not allowed to be NULL, You need to delete the corresponding index in the data array in the CallFunc!");if(r._aniDelRuning)return cc.warn("Please wait for the current deletion to finish!");var o,i=r.getItemByListId(t);if(i){o=i.getComponent(y.default),r._aniDelRuning=!0,r._aniDelCB=e,r._aniDelItem=i,r._aniDelBeforePos=i.position,r._aniDelBeforeScale=i.scale;var a=r.displayData[r.displayData.length-1].id,s=o.selected;o.showAni(n,function(){var n,o,u;if(a<r._numItems-2&&(n=a+1),null!=n){var l=r._calcItemPos(n);r.displayData.push(l),r._virtual?r._createOrUpdateItem(l):r._createOrUpdateItem2(n)}else r._numItems--;if(r.selectedMode==c.SINGLE)s?r._selectedId=-1:r._selectedId-1>=0&&r._selectedId--;else if(r.selectedMode==c.MULT&&r.multSelected.length){var h=r.multSelected.indexOf(t);h>=0&&r.multSelected.splice(h,1);for(var p=r.multSelected.length-1;p>=0;p--)(_=r.multSelected[p])>=t&&r.multSelected[p]--}if(r._customSize){r._customSize[t]&&delete r._customSize[t];var f={},d=void 0;for(var _ in r._customSize){d=r._customSize[_];var y=parseInt(_);f[y-(y>=t?1:0)]=d}r._customSize=f}for(p=null!=n?n:a;p>=t+1;p--)if(i=r.getItemByListId(p)){var v=r._calcItemPos(p-1);o=cc.tween(i).to(.2333,{position:cc.v2(v.x,v.y)}),p<=t+1&&(u=!0,o.call(function(){r._aniDelRuning=!1,e(t),delete r._aniDelCB})),o.start()}u||(r._aniDelRuning=!1,e(t),r._aniDelCB=null)},!0)}else e(t)},e.prototype.scrollTo=function(t,e,n,r){void 0===e&&(e=.5),void 0===n&&(n=null),void 0===r&&(r=!1);var o=this;if(o.checkInited(!1)){null==e?e=.5:e<0&&(e=0),t<0?t=0:t>=o._numItems&&(t=o._numItems-1),!o._virtual&&o._layout&&o._layout.enabled&&o._layout.updateLayout();var i,a,s=o.getItemPos(t);if(!s)return!1;switch(o._alignCalcType){case 1:i=s.left,i-=null!=n?o.node.width*n:o._leftGap,s=cc.v2(i,0);break;case 2:i=s.right-o.node.width,i+=null!=n?o.node.width*n:o._rightGap,s=cc.v2(i+o.content.width,0);break;case 3:a=s.top,a+=null!=n?o.node.height*n:o._topGap,s=cc.v2(0,-a);break;case 4:a=s.bottom+o.node.height,a-=null!=n?o.node.height*n:o._bottomGap,s=cc.v2(0,-a+o.content.height)}var c=o.content.getPosition();c=Math.abs(o._sizeType?c.y:c.x);var u=o._sizeType?s.y:s.x;Math.abs((null!=o._scrollPos?o._scrollPos:c)-u)>.5&&(o._scrollView.scrollToOffset(s,e),o._scrollToListId=t,o._scrollToEndTime=(new Date).getTime()/1e3+e,o._scrollToSo=o.scheduleOnce(function(){if(o._adheringBarrier||(o.adhering=o._adheringBarrier=!1),o._scrollPos=o._scrollToListId=o._scrollToEndTime=o._scrollToSo=null,r){var e=o.getItemByListId(t);e&&cc.tween(e).to(.1,{scale:1.05}).to(.1,{scale:1}).start()}},e+.1),e<=0&&o._onScrolling())}},e.prototype._calcNearestItem=function(){var t,e,n,r,o,i,a=this;a.nearestListId=null,a._virtual&&a._calcViewPos(),n=a.viewTop,r=a.viewRight,o=a.viewBottom,i=a.viewLeft;for(var s=!1,c=0;c<a.content.childrenCount&&!s;c+=a._colLineNum)if(t=a._virtual?a.displayData[c]:a._calcExistItemPos(c))switch(e=a._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,a._alignCalcType){case 1:t.right>=i&&(a.nearestListId=t.id,i>e&&(a.nearestListId+=a._colLineNum),s=!0);break;case 2:t.left<=r&&(a.nearestListId=t.id,r<e&&(a.nearestListId+=a._colLineNum),s=!0);break;case 3:t.bottom<=n&&(a.nearestListId=t.id,n<e&&(a.nearestListId+=a._colLineNum),s=!0);break;case 4:t.top>=o&&(a.nearestListId=t.id,o>e&&(a.nearestListId+=a._colLineNum),s=!0)}if((t=a._virtual?a.displayData[a.displayItemNum-1]:a._calcExistItemPos(a._numItems-1))&&t.id==a._numItems-1)switch(e=a._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,a._alignCalcType){case 1:r>e&&(a.nearestListId=t.id);break;case 2:i<e&&(a.nearestListId=t.id);break;case 3:o<e&&(a.nearestListId=t.id);break;case 4:n>e&&(a.nearestListId=t.id)}},e.prototype.prePage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum-1,t)},e.prototype.nextPage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum+1,t)},e.prototype.skipPage=function(t,e){var n=this;if(n.checkInited())return n._slideMode!=s.PAGE?cc.error("This function is not allowed to be called, Must SlideMode = PAGE!"):void(t<0||t>=n._numItems||n.curPageNum!=t&&(n.curPageNum=t,n.pageChangeEvent&&cc.Component.EventHandler.emitEvents([n.pageChangeEvent],t),n.scrollTo(t,e)))},e.prototype.calcCustomSize=function(t){var e=this;if(e.checkInited()){if(!e._itemTmp)return cc.error("Unset template item!");if(!e.renderEvent)return cc.error("Unset Render-Event!");e._customSize={};var n=cc.instantiate(e._itemTmp);e.content.addChild(n);for(var r=0;r<t;r++)cc.Component.EventHandler.emitEvents([e.renderEvent],n,r),n.height==e._itemSize.height&&n.width==e._itemSize.width||(e._customSize[r]=e._sizeType?n.height:n.width);return Object.keys(e._customSize).length||(e._customSize=null),n.removeFromParent(),n.destroy&&n.destroy(),e._customSize}},i([h({type:cc.Enum(a),tooltip:!1})],e.prototype,"templateType",void 0),i([h({type:cc.Node,tooltip:!1,visible:function(){return this.templateType==a.NODE}})],e.prototype,"tmpNode",void 0),i([h({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType==a.PREFAB}})],e.prototype,"tmpPrefab",void 0),i([h()],e.prototype,"_slideMode",void 0),i([h({type:cc.Enum(s),tooltip:!1})],e.prototype,"slideMode",null),i([h({type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this._slideMode==s.PAGE}})],e.prototype,"pageDistance",void 0),i([h({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this._slideMode==s.PAGE}})],e.prototype,"pageChangeEvent",void 0),i([h()],e.prototype,"_virtual",void 0),i([h({type:cc.Boolean,tooltip:!1})],e.prototype,"virtual",null),i([h({tooltip:!1,visible:function(){var t=this.slideMode==s.NORMAL;return t||(this.cyclic=!1),t}})],e.prototype,"cyclic",void 0),i([h({tooltip:!1,visible:function(){return this.virtual}})],e.prototype,"lackCenter",void 0),i([h({tooltip:!1,visible:function(){var t=this.virtual&&!this.lackCenter;return t||(this.lackSlide=!1),t}})],e.prototype,"lackSlide",void 0),i([h({type:cc.Integer})],e.prototype,"_updateRate",void 0),i([h({type:cc.Integer,range:[0,6,1],tooltip:!1,slide:!0})],e.prototype,"updateRate",null),i([h({type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0})],e.prototype,"frameByFrameRenderNum",void 0),i([h({type:cc.Component.EventHandler,tooltip:!1})],e.prototype,"renderEvent",void 0),i([h({type:cc.Enum(c),tooltip:!1})],e.prototype,"selectedMode",void 0),i([h({tooltip:!1,visible:function(){return this.selectedMode==c.SINGLE}})],e.prototype,"repeatEventSingle",void 0),i([h({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this.selectedMode>c.NONE}})],e.prototype,"selectedEvent",void 0),i([h({serializable:!1})],e.prototype,"_numItems",void 0),i([l,p(),f("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List"),_(cc.ScrollView),d(-5e3)],e)}(cc.Component);n.default=v,cc._RF.pop()},{"./ListItem":"ListItem"}],Main:[function(t,e,n){"use strict";cc._RF.push(e,"e1b90/rohdEk4SdmmEZANaD","Main");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./Common/Components/PropController"),s=t("./UIScript/UIHome"),c=cc._decorator,u=c.ccclass,l=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.building=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){s.default.open()},e.prototype.onDestroy=function(){},i([l(a.default)],e.prototype,"building",void 0),i([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"./Common/Components/PropController":"PropController","./UIScript/UIHome":"UIHome"}],MaskPlus:[function(t,e,n){"use strict";cc._RF.push(e,"a1aa9cyaadEZ67qCIT1FuzO","MaskPlus");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.MaskPlusType=void 0;var a,s=t("../Utils/CommonUtils");(function(t){t[t.RECT=0]="RECT",t[t.ELLIPSE=1]="ELLIPSE",t[t.IMAGE_STENCIL=2]="IMAGE_STENCIL",t[t.Polygon=3]="Polygon"})(a=n.MaskPlusType||(n.MaskPlusType={}));var c=new cc.Vec2,u=new cc.Mat4,l=[];function h(t,e,n){l.length=0;for(var r=2*Math.PI/n,o=0;o<n;++o)l.push(cc.v2(e.x*Math.cos(r*o)+t.x,e.y*Math.sin(r*o)+t.y));return l}var p=function(){},f=cc._decorator,d=f.ccclass,_=f.property,y=f.executeInEditMode,v=f.menu,g=f.help,m=f.inspector,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._type=0,e._polygon=[],e.ellipse=new p,e}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){if(this._type!==t&&this._resetAssembler(),this._type=t,this._type===a.Polygon&&0===this._polygon.length){var e=this.getNodeRect(),n=e[0],r=e[1],o=e[2],i=e[3];this._polygon.push(cc.v2(n,r),cc.v2(n+o,r),cc.v2(n+o,r+i),cc.v2(n,r+i))}this._type!==a.IMAGE_STENCIL&&(this.spriteFrame=null,this.alphaThreshold=0,this._updateGraphics()),this._activateMaterial()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygon",{get:function(){return this._polygon},set:function(t){this._polygon=t,this._updateGraphics()},enumerable:!1,configurable:!0}),e.prototype.setEllipse=function(t,e,n){this.ellipse.center=t,this.ellipse.r=e,this.ellipse.segments=n||this.segements},e.prototype._updateGraphics=function(){this.node;var t=this._graphics;t.clear(!1);var e=this.getNodeRect(),n=e[0],r=e[1],o=e[2],i=e[3];if(this._type===a.RECT)t.rect(n,r,o,i);else if(this._type===a.ELLIPSE){for(var s=h(this.ellipse.center||cc.v2(n+o/2,r+i/2),this.ellipse.r||{x:o/2,y:i/2},this.ellipse.segments||this._segments),c=0;c<s.length;++c){var u=s[c];0===c?t.moveTo(u.x,u.y):t.lineTo(u.x,u.y)}t.close()}else if(this._type===a.Polygon){for(0===this._polygon.length&&this._polygon.push(cc.v2(0,0)),t.moveTo(this._polygon[0].x,this._polygon[0].y),c=1;c<this._polygon.length;c++)t.lineTo(this._polygon[c].x,this._polygon[c].y);t.lineTo(this._polygon[0].x,this._polygon[0].y)}cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?t.stroke():t.fill()},e.prototype._hitTest=function(t){var e=this.node,n=e.getContentSize(),r=n.width,o=n.height,i=c;if(e._updateWorldMatrix(),!cc.Mat4.invert(u,e._worldMatrix))return!1;var l=cc.v2(0,0);cc.Vec2.transformMat4(l,t,u),i.x=l.x+e._anchorPoint.x*r,i.y=l.y+e._anchorPoint.y*o;var h=!1;if(this.type===a.RECT||this.type===a.IMAGE_STENCIL)h=i.x>=0&&i.y>=0&&i.x<=r&&i.y<=o;else if(this.type===a.ELLIPSE){var p=r/2,f=o/2,d=i.x-.5*r,_=i.y-.5*o;h=d*d/(p*p)+_*_/(f*f)<1}else this.type===a.Polygon&&(h=s.CommonUtils.isInPolygon(l,this.polygon));return this.inverted&&(h=!h),h},e.prototype.getNodeRect=function(){var t=this.node._contentSize.width,e=this.node._contentSize.height;return[-t*this.node._anchorPoint.x,-e*this.node._anchorPoint.y,t,e]},e.Type=a,i([_({type:cc.Enum(a),override:!0})],e.prototype,"_type",void 0),i([_({type:cc.Enum(a),override:!0})],e.prototype,"type",null),i([_({type:[cc.Vec2],serializable:!0})],e.prototype,"_polygon",void 0),i([_({type:[cc.Vec2],serializable:!0})],e.prototype,"polygon",null),i([d,v("i18n:MAIN_MENU.component.renderers/MaskPlus"),y,g("i18n:COMPONENT.help_url.mask"),m("packages://maskplus/inspector.js")],e)}(cc.Mask);n.default=b,cc.MaskPlus=b,cc._RF.pop()},{"../Utils/CommonUtils":"CommonUtils"}],MatchUtils:[function(t,e,n){"use strict";cc._RF.push(e,"ce2a5iLaMdGPJK3POfEqDgZ","MatchUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.MathUtils=void 0;var r=function(){function t(){}return t.clamp=function(t,e,n){if(t>e){var r=t;t=e,e=r}return n<t?t:n>e?e:n},t.getAngle=function(t){return 180*t/Math.PI},t.getRadian=function(t){return t/180*Math.PI},t.getRadian2=function(t,e,n,r){var o=n-t,i=r-e;return Math.atan2(i,o)},t.getDistance=function(t,e,n,r){var o=n-t,i=r-e,a=o*o+i*i;return Math.sqrt(a)},t.toFixedStr=function(t,e){return t.toFixed(e).replace(/\.?0*$/,"")},t.toPercentStr=function(t,e){return this.toFixedStr(100*t,e)+"%"},t.toFixedWan=function(e){var n=1e4*Math.floor(e/1e4);return e>1e5?t.toFixedStr(n/1e5*10,1)+"\u4e07":e.toString()},t.getFinalValueBasedOnParams=function(t,e,n){if(e.length<5)return 0;var r=e[4]*(e[0]*Math.pow(t,e[3])+e[1]*t+e[2]);return n&&(r=Math.ceil(r)),r},t.limit=function(t,e){t=Math.min(t,e);var n=(e=Math.max(t,e))-t;return t+Math.random()*n},t.limitInteger=function(e,n){return Math.round(t.limit(e,n))},t.randomArray=function(t){return t[Math.floor(Math.random()*t.length)]},t}();n.MathUtils=r,cc._RF.pop()},{}],Measure:[function(t,e,n){"use strict";cc._RF.push(e,"88f3djvTDJHMY+UnVZdcrvg","Measure"),Object.defineProperty(n,"__esModule",{value:!0}),n.measure=void 0,n.measure=function(t,e,n){var r=n.value;return n.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=performance.now(),i=r.apply(this,t),a=performance.now();return console.log(e+" Execution time: "+(a-o).toFixed(2)+" milliseconds"),i},n},cc._RF.pop()},{}],MenuItem:[function(t,e,n){"use strict";cc._RF.push(e,"8f753evmXpEpJHipBbmNcOy","MenuItem");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../UIScript/UIWorkDesk"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.desk=null,e.itemData=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(t){this.desk=t},e.prototype.start=function(){this.registerEvent()},e.prototype.registerEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.desk.dragMove.bind(this.desk),this),this.node.on(cc.Node.EventType.TOUCH_END,this.desk.dragEnd.bind(this.desk),this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.desk.dragEnd.bind(this.desk),this)},e.prototype.unRegisterEvent=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.desk.dragMove.bind(this.desk),this),this.node.off(cc.Node.EventType.TOUCH_END,this.desk.dragEnd.bind(this.desk),this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.desk.dragEnd.bind(this.desk),this)},e.prototype.touchStart=function(t){this.desk.dragNode(t,this,a.DragType.Menu)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.unRegisterEvent()},i([u({type:cc.Sprite,tooltip:!1})],e.prototype,"icon",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../UIScript/UIWorkDesk":"UIWorkDesk"}],MeshAssembler:[function(t,e,n){"use strict";cc._RF.push(e,"9ba87xSitVM9boajZ/wQdaJ","MeshAssembler");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=cc.gfx,a=new i.VertexFormat([{name:i.ATTR_POSITION,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_UV0,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_COLOR,type:i.ATTR_TYPE_UINT8,num:4,normalize:!0}]),s=function(t){function e(){var e=t.call(this)||this;return e.row=0,e.col=0,e._realRow=0,e._realCol=0,e.stepRow=0,e.StepCol=0,e.verticesCount=4,e.indicesCount=6,e.floatsPerVert=5,e.uvOffset=2,e.colorOffset=4,e._renderData=null,e._local=null,e._renderData=new cc.RenderData,e._renderData.init(e),e.initData(),e.initLocal(),e}return o(e,t),Object.defineProperty(e.prototype,"verticesFloats",{get:function(){return this.verticesCount*this.floatsPerVert},enumerable:!1,configurable:!0}),e.prototype.getTriangleCount=function(){return(this.row-1)*(this.col-1)*2},e.prototype.getTriangle=function(t){if(t<0||t>=this.getTriangleCount())return null;var e=this._renderData.vDatas[0],n=Math.floor(t/this._realCol)*this._realCol*2+t;return t%2==0?[cc.v2(e[n*this.floatsPerVert],e[n*this.floatsPerVert+1]),cc.v2(e[(n+1)*this.floatsPerVert],e[(n+1)*this.floatsPerVert+1]),cc.v2(e[(n+this._realCol)*this.floatsPerVert],e[(n+this._realCol)*this.floatsPerVert+1])]:[cc.v2(e[n*this.floatsPerVert],e[n*this.floatsPerVert+1]),cc.v2(e[(n+this._realCol)*this.floatsPerVert],e[(n+this._realCol)*this.floatsPerVert+1]),cc.v2(e[(n+this._realCol-1)*this.floatsPerVert],e[(n+this._realCol-1)*this.floatsPerVert+1])]},e.prototype.setTriangle=function(t,e,n){if(!(t<0||t>=this.getTriangleCount())){var r=this._renderData.vDatas[0],o=Math.floor(t/this._realCol)*this._realCol*2+t;t%2==0?(r[o*this.floatsPerVert]=e[0].x,r[o*this.floatsPerVert+1]=e[0].y,r[(o+1)*this.floatsPerVert]=e[1].x,r[(o+1)*this.floatsPerVert+1]=e[1].y,r[(o+this._realCol)*this.floatsPerVert]=e[2].x,r[(o+this._realCol)*this.floatsPerVert+1]=e[2].y):(r[o*this.floatsPerVert]=e[0].x,r[o*this.floatsPerVert+1]=e[0].y,r[(o+this._realCol)*this.floatsPerVert]=e[1].x,r[(o+this._realCol)*this.floatsPerVert+1]=e[1].y,r[(o+this._realCol-1)*this.floatsPerVert]=e[2].x,r[(o+this._realCol-1)*this.floatsPerVert+1]=e[2].y),n._vertsDirty=!0}},e.prototype.getRectCount=function(){return(this.row-1)*(this.col-1)},e.prototype.getRect=function(t){if(t<0||t>=this.getRectCount())return null;var e=this._renderData.vDatas[0],n=Math.floor(2*t/this._realCol)*this._realCol*2+2*t%this._realCol;return[cc.v2(e[n*this.floatsPerVert],e[n*this.floatsPerVert+1]),cc.v2(e[(n+1)*this.floatsPerVert],e[(n+1)*this.floatsPerVert+1]),cc.v2(e[(n+this._realCol)*this.floatsPerVert],e[(n+this._realCol)*this.floatsPerVert+1]),cc.v2(e[(n+this._realCol+1)*this.floatsPerVert],e[(n+this._realCol+1)*this.floatsPerVert+1])]},e.prototype.setRect=function(t,e){if(!(t<0||t>=this.getRectCount())){var n=this._renderData.vDatas[0],r=Math.floor(2*t/this._realCol)*this._realCol*2+2*t%this._realCol;n[r*this.floatsPerVert]=e[0].x,n[r*this.floatsPerVert+1]=e[0].y,n[(r+1)*this.floatsPerVert]=e[1].x,n[(r+1)*this.floatsPerVert+1]=e[1].y,n[(r+this._realCol)*this.floatsPerVert]=e[2].x,n[(r+this._realCol)*this.floatsPerVert+1]=e[2].y,n[(r+this._realCol+1)*this.floatsPerVert]=e[3].x,n[(r+this._realCol+1)*this.floatsPerVert+1]=e[3].y}},e.prototype.resetData=function(t){if(t.texture){var e=t.texture.width,n=t.texture.height,r=t.step;this.row=Math.floor(n/r)+1,this.col=Math.floor(e/r)+1,this.stepRow=n/(this.row-1),this.StepCol=e/(this.col-1),this._realRow=2+2*(this.row-2),this._realCol=2+2*(this.col-2),cc.log(this.row,this.col),this.verticesCount=this._realRow*this._realCol,this.indicesCount=(this.row-1)*(this.col-1)*6,this._renderData.clear(),this.initData()}},e.prototype.getVfmt=function(){return a},e.prototype.getBuffer=function(){return cc.renderer._handle.getBuffer("mesh",this.getVfmt())},e.prototype.initData=function(){this._renderData.createQuadData(0,this.verticesFloats,this.indicesCount);for(var t=this._renderData.iDatas[0],e=0,n=0;n<this.row-1;++n)for(var r=0;r<this.col-1;++r){var o=2*n*this._realCol+2*r;t[e++]=o,t[e++]=o+1,t[e++]=o+this._realCol,t[e++]=o+1,t[e++]=o+this._realCol+1,t[e++]=o+this._realCol}},e.prototype.initLocal=function(){this._local=[],this._local.length=4},e.prototype.updateColor=function(t,e){var n=this._renderData.uintVDatas[0];if(n){e=null!=e?e:t.node.color._val;for(var r=this.floatsPerVert,o=this.colorOffset,i=0;i<this.verticesCount;i++)n[o+i*r]=e}},e.prototype.updateUVs=function(){for(var t=this,e=this.uvOffset,n=this.floatsPerVert,r=this._renderData.vDatas[0],o=0,i=function(t,o,i){var a=i*n;r[a+e]=t,r[a+e+1]=o},a=function(e){for(var n=0;n<t.col;n++){var r=n/(t.col-1);i(r,e,o++),0!==n&&n!==t.col-1&&i(r,e,o++)}},s=0;s<this.row;s++){var c=1-s/(this.row-1);a(c),0!==s&&s!==this.row-1&&a(c)}},e.prototype.updateWorldVertsWebGL=function(t){var e=this,n=this._local,r=this._renderData.vDatas[0],o=t.node._worldMatrix.m,i=o[0],a=o[1],s=o[4],c=o[5],u=o[12],l=o[13],h=n[0],p=n[2],f=n[1],d=n[3],_=1===i&&0===a&&0===s&&1===c,y=this.floatsPerVert,v=0,g=function(t,e,n){var o=y*n;r[o]=t+u,r[o+1]=e+l},m=function(t,e,n){var o=n*y;r[o]=t*i+e*s+u,r[o+1]=t*a+e*c+l},b=function(t,n){for(var r=0;r<e.col;r++){var o=r==e.col-1?p:h+r*e.StepCol;n(o,t,v++),0!==r&&r!==e.col-1&&n(o,t,v++)}};if(_)for(var w=0;w<this.row;w++)b(T=w==this.row-1?d:f+w*this.stepRow,g),0!==w&&w!==this.row-1&&b(T,g);else for(w=0;w<this.row;w++){var T;b(T=w==this.row-1?d:f+w*this.stepRow,m),0!==w&&w!==this.row-1&&b(T,m)}},e.prototype.updateWorldVertsNative=function(){var t=this._local,e=this._renderData.vDatas[0],n=this.floatsPerVert,r=t[0],o=t[2],i=t[1],a=t[3],s=0;e[s]=r,e[s+1]=i,e[s+=n]=o,e[s+1]=i,e[s+=n]=r,e[s+1]=a,e[s+=n]=o,e[s+1]=a},e.prototype.updateWorldVerts=function(t){this.updateWorldVertsWebGL(t)},e.prototype.updateVerts=function(t){var e,n,r,o,i=t.node,a=i.width,s=i.height,c=i.anchorX*a,u=i.anchorY*s;e=-c,n=-u,r=a-c,o=s-u;var l=this._local;l[0]=e,l[1]=n,l[2]=r,l[3]=o,this.updateWorldVerts(t)},e.prototype.updateRenderData=function(t){t._vertsDirty&&(this.resetData(t),this.updateUVs(t),this.updateVerts(t),t._vertsDirty=!1)},e.prototype.fillBuffers=function(t,e){e.worldMatDirty&&this.updateWorldVerts(t);var n=this._renderData,r=n.vDatas[0],o=n.iDatas[0],i=this.getBuffer(),a=i.request(this.verticesCount,this.indicesCount),s=a.byteOffset>>2,c=i._vData;r.length+s>c.length?c.set(r.subarray(0,c.length-s),s):c.set(r,s);for(var u=i._iData,l=a.indiceOffset,h=a.vertexOffset,p=0,f=o.length;p<f;p++)u[l++]=h+o[p]},e.prototype.packToDynamicAtlas=function(t,e){if(!e._original&&cc.dynamicAtlasManager&&e._texture.packable){var n=cc.dynamicAtlasManager.insertSpriteFrame(e);n&&e._setDynamicAtlasFrame(n)}var r=t._materials[0];r&&r.getProperty("texture")!==e._texture&&(t._vertsDirty=!0,t._updateMaterial())},e}(cc.Assembler);n.default=s,cc._RF.pop()},{}],MeshTexture:[function(t,e,n){"use strict";cc._RF.push(e,"1acd7QWgaNGAIz6Mkh6ICTD","MeshTexture");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Assemblers/MeshAssembler"),u=cc._decorator,l=u.ccclass,h=u.menu,p=u.executeInEditMode,f=u.mixins,d=u.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._texture=null,e.step=10,e.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,e.dstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA,e._assembler=null,e}return o(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this.node.width=t.width,this.node.height=t.height,this._updateMaterial()},enumerable:!1,configurable:!0}),e.prototype._updateVerts=function(){this.setVertsDirty()},e.prototype._updateMaterial=function(){var t=this._texture,e=this.getMaterial(0);e&&(void 0!==e.getDefine("USE_TEXTURE")&&e.define("USE_TEXTURE",!0),e.setProperty("texture",t)),this.__proto__._updateBlendFunc.call(this),this.setVertsDirty()},e.prototype._validateRender=function(){},e.prototype._resetAssembler=function(){(this._assembler=window.textureAssember=new c.default).init(this),this._updateColor(),this.setVertsDirty()},e.prototype.getPolygonCenter=function(t){for(var e=0,n=0,r=0;r<t.length;r++)e+=t[r].x,n+=t[r].y;return e/=t.length,n/=t.length,cc.v2(e,n)},e.prototype.tweenVec2=function(t,e,n,r,o,i){void 0===i&&(i=0);var a={_value:t};Object.defineProperty(a,"position",{get:function(){return a._value},set:function(t){a._value=t,r&&r(a._value)}});var s=cc.tween(a).delay(i).to(n,{position:e}).call(o);return s.start(),s},e.prototype.tweenVec2Bezier=function(t,e,n,r,o,i){void 0===i&&(i=0);var a={_value:t};Object.defineProperty(a,"position",{get:function(){return a._value},set:function(t){a._value=t,r&&r(a._value)}});var s=cc.tween(a).delay(i).bezierTo(n,cc.v2(t.x,t.y+100),cc.v2(e.x,e.y+100),e).call(o);return s.start(),s},e.prototype.doScaleEffect=function(){var t=this;return new Promise(function(e){for(var n=t._assembler.getRectCount(),r=t.node.convertToWorldSpaceAR(cc.v2(0,0)),o=function(o){var i=t._assembler.getRect(o),a=t.getPolygonCenter(i).sub(r).normalize();t.tweenVec2(cc.v2(0,0),a.mul(1.5),.3,function(e){t._assembler.setRect(o,[i[0].addSelf(e),i[1].addSelf(e),i[2].addSelf(e),i[3].addSelf(e)])},function(){o==n-1&&e(!0)})},i=0;i<n;i++)o(i)})},e.prototype.doTextureMove=function(t,e){return a(this,void 0,void 0,function(){var t,n,r,o,i,a=this;return s(this,function(){for(t=cc.v2(-1,0),"right"==e&&(t=cc.v2(1,0)),n=this._assembler.getRectCount(),this.node.convertToWorldSpaceAR(cc.v2(0,0)),r=function(e){var r=n-e-1,i=o._assembler.getRect(r),s=t.mul(400);o.tweenVec2Bezier(cc.v2(0,0),s,1,function(t){a._assembler.setRect(r,[i[0].add(t),i[1].add(t),i[2].add(t),i[3].add(t)])},function(){a._assembler.setRect(r,[i[0].add(s),i[1].add(s),i[2].add(s),i[3].add(s)])},.1*Math.floor(e/40))},o=this,i=0;i<n;i++)r(i);return[2]})})},i([d(cc.Texture2D)],e.prototype,"_texture",void 0),i([d(cc.Texture2D)],e.prototype,"texture",null),i([d({displayName:"\u6b65\u957f"})],e.prototype,"step",void 0),i([d({type:cc.Enum(cc.macro.BlendFactor),override:!0})],e.prototype,"srcBlendFactor",void 0),i([d({type:cc.Enum(cc.macro.BlendFactor),override:!0})],e.prototype,"dstBlendFactor",void 0),i([l,p,h("i18n:MAIN_MENU.component.ui/MeshTexture"),f(cc.BlendFunc)],e)}(cc.RenderComponent);n.default=_,cc._RF.pop()},{"../Assemblers/MeshAssembler":"MeshAssembler"}],MessageInfo:[function(t,e,n){"use strict";cc._RF.push(e,"19cfc8vrhdFtKaKI74EWCyv","MessageInfo"),Object.defineProperty(n,"__esModule",{value:!0}),n.MessageInfo=void 0;var r=function(){function t(){}return t.rawInfo="\u5148\u628a\u539f\u6599\u653e\u5165\u63d2\u69fd",t.makeSucc="\u5236\u4f5c\u6210\u529f",t.checkMenuErrr="\u914d\u65b9\u5339\u914d\u5931\u8d25",t}();n.MessageInfo=r,cc._RF.pop()},{}],MessageType:[function(t,e,n){"use strict";cc._RF.push(e,"64f8ceb62tIyYTl7+o/NdOW","MessageType"),Object.defineProperty(n,"__esModule",{value:!0}),n.TableType=n.RoleType=n.MessageType=void 0,(n.MessageType||(n.MessageType={})).RoleStand="0",function(t){t.COME="come",t.LEAVE="leave",t.SIT="sit",t.WAIT="wait"}(n.RoleType||(n.RoleType={})),function(t){t.NONE="none",t.DRINK="drink",t.TRASH="trash"}(n.TableType||(n.TableType={})),cc._RF.pop()},{}],ModalMgr1:[function(t,e,n){"use strict";cc._RF.push(e,"6c4f4bdEj1Ng5N+KJWsftEv","ModalMgr1");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./UIModalScript"),u=t("./config/SysDefine"),l=cc._decorator,h=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiModal=null,e}var n;return o(e,t),n=e,Object.defineProperty(e,"inst",{get:function(){if(null==this._inst){this._inst=new n;var t=new cc.Node("UIModalNode");n.popUpRoot=u.SysDefine.SYS_UIROOT_NAME+"/"+u.SysDefine.SYS_DRAWER_NODE,cc.find(n.popUpRoot).addChild(t),this._inst.uiModal=t.addComponent(c.default),this._inst.uiModal.init()}return this._inst},enumerable:!1,configurable:!0}),e.prototype.showModal=function(t){return a(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.uiModal.showModal(t.opacity,t.easingTime,t.isEasing,t.dualBlur)];case 1:return e.sent(),[2]}})})},e.prototype.checkModalWindow=function(t){if(t.length<=0)this.uiModal.node.active=!1;else{this.uiModal.node.active=!0,this.uiModal.node.parent&&this.uiModal.node.removeFromParent();for(var e=t.length-1;e>=0;e--)if(t[e].modalType.opacity>0){cc.find(n.popUpRoot).addChild(this.uiModal.node,Math.max(t[e].node.zIndex-1,0)),this.uiModal.fid=t[e].fid,this.showModal(t[e].modalType);break}}},e.popUpRoot="",e._inst=null,n=i([h],e)}(cc.Component));n.default=p,cc._RF.pop()},{"./UIModalScript":"UIModalScript","./config/SysDefine":"SysDefine"}],ModalMgr:[function(t,e,n){"use strict";cc._RF.push(e,"9b75bodHflDGK6GhPrmOvTs","ModalMgr");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./UIModalScript"),u=t("./config/SysDefine"),l=cc._decorator,h=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiModal=null,e}var n;return o(e,t),n=e,Object.defineProperty(e,"inst",{get:function(){if(null==this._inst){this._inst=new n;var t=new cc.Node("UIModalNode");n.popUpRoot=u.SysDefine.SYS_UIROOT_NAME+"/"+u.SysDefine.SYS_POPUP_NODE,cc.find(n.popUpRoot).addChild(t),this._inst.uiModal=t.addComponent(c.default),this._inst.uiModal.init()}return this._inst},enumerable:!1,configurable:!0}),e.prototype.showModal=function(t){return a(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.uiModal.showModal(t.opacity,t.easingTime,t.isEasing,t.dualBlur)];case 1:return e.sent(),[2]}})})},e.prototype.checkModalWindow=function(t){if(t.length<=0)this.uiModal.node.active=!1;else{this.uiModal.node.active=!0,this.uiModal.node.parent&&this.uiModal.node.removeFromParent();for(var e=t.length-1;e>=0;e--)if(t[e].modalType.opacity>0){cc.find(n.popUpRoot).addChild(this.uiModal.node,Math.max(t[e].node.zIndex-1,0)),this.uiModal.fid=t[e].fid,this.showModal(t[e].modalType);break}}},e.popUpRoot="",e._inst=null,n=i([h],e)}(cc.Component));n.default=p,cc._RF.pop()},{"./UIModalScript":"UIModalScript","./config/SysDefine":"SysDefine"}],Obstacle:[function(t,e,n){"use strict";cc._RF.push(e,"eaa90oCwvRPFqm2RBIJWdZL","Obstacle");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Components/QuadTree"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._quadtree=null,e._polygons=cc.js.createMap(),e}return o(e,t),e.prototype.onLoad=function(){var t=cc.view.getVisibleSize();this._quadtree=new a.default({x:0,y:0,width:t.width,height:t.height})},e.prototype.addPolygon=function(t,e){this._polygons[t]=e;var n=this._getBound(e);n.uid=t,this._quadtree.insert(n)},e.prototype.removePolygon=function(){},e.prototype.getPolygons=function(t){for(var e=[],n=0,r=this._quadtree.retrieve(t);n<r.length;n++){var o=r[n];e.push(this._polygons[o.uid])}return e},e.prototype._getBound=function(t){for(var e=t[0],n=e.x,r=e.x,o=e.y,i=e.y,s=0;s<t.length;s++)t[s].x<n&&(n=t[s].x),t[s].x>r&&(r=t[s].x),t[s].y<o&&(o=t[s].y),t[s].y>i&&(i=t[s].y);return new a.Bound(n,o,r-n,i-o)},e.prototype.clear=function(){this._quadtree.clear(),this._polygons={}},i([c],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../Components/QuadTree":"QuadTree"}],PlayerMgr:[function(t,e,n){"use strict";cc._RF.push(e,"bea7406655LzLidqx+dJrtq","PlayerMgr");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onConfigChange=function(){},e}(t("./BaseMgr").BaseMgr);n.default=i,cc._RF.pop()},{"./BaseMgr":"BaseMgr"}],Player:[function(t,e,n){"use strict";cc._RF.push(e,"c6524N6VP9KkIrAUdQgv6Tz","Player");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Extra/Joystick"),s=cc._decorator,c=s.ccclass,u=s.property,l=t("../Extra/Joystick"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rigidbody=!1,e.moveDir=cc.v2(0,1),e._speedType=a.SpeedType.STOP,e._moveSpeed=0,e.stopSpeed=0,e.normalSpeed=100,e.fastSpeed=200,e.PlayerCamera=null,e}return o(e,t),e.prototype.onLoad=function(){this.rigidbody&&(cc.director.getPhysicsManager().enabled=!0,this._body=this.getComponent(cc.RigidBody)),this._ani=this.getComponent(cc.Animation),l.instance.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),l.instance.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),l.instance.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.start=function(){this._ani.playAdditive("idle")},e.prototype.onTouchStart=function(){},e.prototype.onTouchMove=function(t,e){this._speedType=e.speedType,this.moveDir=e.moveDistance},e.prototype.onTouchEnd=function(t,e){this._speedType=e.speedType},e.prototype.move=function(){if(this.node.scaleX=this.moveDir.x>=0?-1:1,this.rigidbody)this._body.applyForceToCenter(cc.v2(200*this.moveDir.x,200*this.moveDir.y),!0);else{var t=cc.v2();this.node.getPosition(t);var e=t.add(this.moveDir.mul(this._moveSpeed/120));this.node.setPosition(e)}},e.prototype.update=function(){switch(this._speedType){case a.SpeedType.STOP:this._moveSpeed=this.stopSpeed;break;case a.SpeedType.NORMAL:this._moveSpeed=this.normalSpeed;break;case a.SpeedType.FAST:this._moveSpeed=this.fastSpeed}this._speedType!==a.SpeedType.STOP&&this.move()},i([u({displayName:"\u521a\u4f53\u6a21\u5f0f",tooltip:"\u4e0d\u4f1a\u7acb\u5373\u505c\u6b62"})],e.prototype,"rigidbody",void 0),i([u({displayName:"Move Dir",tooltip:"\u79fb\u52a8\u65b9\u5411"})],e.prototype,"moveDir",void 0),i([u({displayName:"Speed Type",tooltip:"\u901f\u5ea6\u7ea7\u522b"})],e.prototype,"_speedType",void 0),i([u({type:cc.Integer,displayName:"Move Speed",tooltip:"\u79fb\u52a8\u901f\u5ea6"})],e.prototype,"_moveSpeed",void 0),i([u({type:cc.Integer,displayName:"Stop Speed",tooltip:"\u505c\u6b62\u65f6\u901f\u5ea6"})],e.prototype,"stopSpeed",void 0),i([u({type:cc.Integer,tooltip:"\u6b63\u5e38\u901f\u5ea6"})],e.prototype,"normalSpeed",void 0),i([u({type:cc.Integer,tooltip:"\u6700\u5feb\u901f\u5ea6"})],e.prototype,"fastSpeed",void 0),i([u(cc.Camera)],e.prototype,"PlayerCamera",void 0),i([c],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../Extra/Joystick":"Joystick"}],PolygonUtil:[function(t,e,n){"use strict";cc._RF.push(e,"97fd0nhC4FP37VI4oHddHl0","PolygonUtil"),Object.defineProperty(n,"__esModule",{value:!0}),n.PolygonUtil=void 0;var r=function(){function t(){}return t.splitPolygonByLine=function(t,e,n,r){void 0===r&&(r=!1);for(var o=[],i=n.length-1;i>=0;i--){var a=n[i],s=0==i?n[n.length-1]:n[i-1],c=this.lineCrossPoint(a,s,t,e),u=c[0],l=c[1];-1!=u&&(n.splice(i,-1,l),o.push(i+1))}return o},t.lineCrossPoint=function(t,e,n,r){var o,i,a,s,c,u,l=t,h=e,p=n,f=r,d=new cc.Vec2(0,0);return a=this.dblcmp(o=this.ab_cross_ac(l,h,p),0),s=this.dblcmp(i=this.ab_cross_ac(l,h,f),0),c=this.dblcmp(this.ab_cross_ac(p,f,l),0),u=this.dblcmp(this.ab_cross_ac(p,f,h),0),-2==(a^s)&&-2==(c^u)?(d.x=(p.x*i-f.x*o)/(i-o),d.y=(p.y*i-f.y*o)/(i-o),[0,d]):0==a&&this.point_on_line(p,l,h)<=0?[1,d=p]:0==s&&this.point_on_line(f,l,h)<=0?[1,d=f]:0==c&&this.point_on_line(l,p,f)<=0?[1,d=l]:0==u&&this.point_on_line(h,p,f)<=0?[1,d=h]:[-1,null]},t.isLineSegmentCross=function(t,e,n,r){return((n.x-t.x)*(n.y-r.y)-(n.y-t.y)*(n.x-r.x))*((n.x-e.x)*(n.y-r.y)-(n.y-e.y)*(n.x-r.x))<0||((t.x-n.x)*(t.y-e.y)-(t.y-n.y)*(t.x-e.x))*((t.x-r.x)*(t.y-e.y)-(t.y-r.y)*(t.x-e.x))<0},t.point_on_line=function(t,e,n){return this.dblcmp(this.dot(e.x-t.x,e.y-t.y,n.x-t.x,n.y-t.y),0)},t.rayPointToLine=function(t,e,n){Math.min(e.x,n.x);var r=Math.max(e.x,n.x),o=Math.min(e.y,n.y),i=Math.max(e.y,n.y);if(t.y<o||t.y>i||t.x>r)return-1;var a=e.x+(n.x-e.x)/(n.y-e.y)*(t.y-e.y);return a>t.x?0:a==t.x?1:-1},t.relationPointToPolygon=function(t,e){for(var n=0,r=0;r<e.length;++r){if(e[r].equals(t))return 2;var o=e[r],i=e[0];r<e.length-1&&(i=e[r+1]);var a=this.rayPointToLine(t,o,i);if(1==a)return 1;0==a&&n++}return n%2==0?-1:0},t.lineCutPolygon=function(t,e,n){for(var r=[],o=[],i=[],a=0;a<n.length;++a){o.push(n[a]);var s=n[a],c=n[0];a<n.length-1&&(c=n[a+1]);var u=this.lineCrossPoint(t,e,s,c);0==u[0]?(i.push(o.length),o.push(u[1])):u[0]>0&&(u[1].equals(s)?i.push(o.length-1):i.push(o.length))}if(i.length>1){var l=o[i[0]],h=o[i[1]],p=this.relationPointToPolygon(new cc.Vec2((l.x+h.x)/2,(l.y+h.y)/2),n),f=p>=0;i.length>2&&l.sub(h).mag()>l.sub(o[i[i.length-1]]).mag()&&(h=o[i[i.length-1]],f=(p=this.relationPointToPolygon(new cc.Vec2((l.x+h.x)/2,(l.y+h.y)/2),n))<0);var d=f,_=0,y=i[_],v=[],g=[],m=0;for(v.push(o[y]),f&&g.push(o[y]),_++,m++,y++;m<o.length;){y==o.length&&(y=0);var b=o[y];_>=0&&y==i[_]?(++_>=i.length&&(_=0),f?(g.push(b),r.push(g),g=[]):(g=[]).push(b),v.push(b),f=!f):f?g.push(b):v.push(b),y++,m++}if(f)if(!d&&g.length>1)g.push(o[i[0]]),r.push(g);else for(a=0;a<g.length;++a)v.push(g[a]);r.push(v)}return r},t.ab_cross_ac=function(t,e,n){return this.cross(e.x-t.x,e.y-t.y,n.x-t.x,n.y-t.y)},t.dot=function(t,e,n,r){return t*n+e*r},t.cross=function(t,e,n,r){return t*r-n*e},t.dblcmp=function(t,e){return Math.abs(t-e)<=1e-6?0:t>e?1:-1},t}();n.PolygonUtil=r,cc._RF.pop()},{}],Pool:[function(t,e,n){"use strict";cc._RF.push(e,"284d8zxqTdJtYjT+CGS5XDE","Pool"),Object.defineProperty(n,"__esModule",{value:!0}),n.Pool=void 0;var r=function(){function t(t,e){this._fn=t,this._idx=e-1,this._frees=new Array(e);for(var n=0;n<e;n++)this._frees[n]=t()}return Object.defineProperty(t.prototype,"freeCount",{get:function(){return this._frees.length},enumerable:!1,configurable:!0}),t.prototype.alloc=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._idx<0&&this._expand(Math.round(1.2*this._frees.length)+1);var n=this._frees[this._idx];return this._frees.splice(this._idx),--this._idx,n.use&&n.use.apply(n,t),n},t.prototype.free=function(t){++this._idx,t.free&&t.free(),this._frees[this._idx]=t},t.prototype.clear=function(t){for(var e=0;e<this._idx;e++)t&&t(this._frees[e]);this._frees.splice(0),this._idx=-1},t.prototype._expand=function(t){var e=this._frees;this._frees=new Array(t);for(var n=t-e.length,r=0;r<n;r++)this._frees[r]=this._fn();r=n;for(var o=0;r<t;++r,++o)this._frees[r]=e[o];this._idx+=n},t}();n.Pool=r,cc._RF.pop()},{}],Printer:[function(t,e,n){"use strict";cc._RF.push(e,"8f39dwNrqdDNaoXE30RfAfY","Printer");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.Priter=void 0;var a,s=cc._decorator,c=s.ccclass,u=s.property;(function(t){t[t.Label=0]="Label",t[t.RichText=1]="RichText"})(a||(a={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelType=a.Label,e.label=null,e.printerTimer=null,e}return o(e,t),e.prototype.onLoad=function(){this.richTextEditBox&&(this.richTextEditBox.string="FF0000")},e.prototype.beforeDestory=function(){this.printerTimer&&clearInterval(this.printerTimer)},e.prototype.showLabelPrinter=function(t){this.label.string="",this.makeLabelPrinter(t)},e.prototype.makeLabelPrinter=function(t){var e=this,n=t.split(""),r=0;this.printerTimer&&clearInterval(this.printerTimer),this.printerTimer=setInterval(function(){r>=n.length?e.printerTimer&&clearInterval(e.printerTimer):(r+=1,e.label.string=n.slice(0,r).join(""))},150)},e.prototype.showRichTextPrinter=function(t){this.richText.string="",this.makeRichTextPrinter(t)},e.prototype.makeRichTextPrinter=function(t){for(var e=this,n=/<.+?\/?>/g,r=t.match(n),o=["\u2701","\u2702","\u2703","\u2704","\u273a","\u273b","\u273c","\u2744","\u2745","\u2746","\u2747","\u2748","\u2749","\u274a"].find(function(e){return-1==t.indexOf(e)}),i=t.replace(n,o),a=[],s=[],c={},u=0,l=0;l<i.length;l++)i[l]==o&&(s.push(l),s.length>=2?(c.endStr=r[2*a.length+1],c.endtIdx=l-u,a.push(c),s=[],c={}):(c.startIdx=l-u,c.startStr=r[2*a.length]),u+=1);var h=t.replace(n,"").split(""),p=[];for(l=1;l<=h.length;l++){for(var f=h.join("").slice(0,l),d=0,_=0;_<a.length;_++){var y=a[_],v=y.startIdx,g=y.endtIdx;l>v&&l<=g?(f=f.slice(0,v+d)+y.startStr+f.slice(v+d)+y.endStr,d+=y.startStr.length+y.endStr.length):l>g&&(f=f.slice(0,v+d)+y.startStr+f.slice(v+d,g+d)+y.endStr+f.slice(g+d),d+=y.startStr.length+y.endStr.length)}p.unshift(f)}this.printerTimer&&clearInterval(this.printerTimer),this.printerTimer=setInterval(function(){p.length?e.richText.string=p.pop():e.printerTimer&&clearInterval(e.printerTimer)},50)},i([u({type:cc.Enum(a),tooltip:!1})],e.prototype,"labelType",void 0),i([u({type:cc.Label,visible:function(){return this.labelType==a.Label}})],e.prototype,"label",void 0),i([u({type:cc.RichText,visible:function(){return this.labelType==a.RichText}})],e.prototype,"richText",void 0),i([u({type:cc.RichText,visible:function(){return this.labelType==a.RichText}})],e.prototype,"richTextEditBox",void 0),i([c("Priter")],e)}(cc.Component);n.Priter=l,cc._RF.pop()},{}],PriorityQueue:[function(t,e,n){"use strict";cc._RF.push(e,"f2318nn5GJChLoRevUhhLkg","PriorityQueue"),Object.defineProperty(n,"__esModule",{value:!0}),n.PriorityElement=void 0;var r=function(t,e){this.data=t,this.priority=e};n.PriorityElement=r;var o=function(){function t(){this.queue=new Array(32),this._size=0}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),t.prototype.hasElement=function(t){for(var e=0,n=this.queue;e<n.length;e++)if(n[e].data===t)return!0;return!1},t.prototype.enqueue=function(t,e){void 0===e&&(e=0),this._size>this.queue.length&&this._expand(),this.queue[this._size++]=new r(t,e),this.upAdjust()},t.prototype.dequeue=function(){if(this._size<=0)return null;var t=this.queue[0];return this.queue[0]=this.queue[--this._size],this.downAdjust(),t.data},t.prototype.clear=function(){this.queue=[],this._size=0},t.prototype.upAdjust=function(){for(var t=this._size-1,e=Math.floor(t/2),n=this.queue[t];t>0&&n.priority>this.queue[e].priority;)this.queue[t]=this.queue[e],t=e,e=Math.floor(e/2);this.queue[t]=n},t.prototype.downAdjust=function(){for(var t=0,e=this.queue[t],n=1;n<this._size&&(n+1<this._size&&this.queue[n+1].priority>this.queue[n].priority&&n++,!(e.priority>=this.queue[n].priority));)this.queue[t]=this.queue[n],t=n,n=2*n+1;this.queue[t]=e},t.prototype._expand=function(){var t=Math.round(1.2*this.queue.length)+1,e=this.queue;this.queue=new Array(t);for(var n=0;n<e.length;n++)this.queue[n]=e[n]},t.prototype.toString=function(){for(var t="",e=0;e<this._size;e++){var n=this.queue[e].data;n.toString?t+=n.toString():t+="object"==typeof n?JSON.stringify(n):n}return t},t}();n.default=o,cc._RF.pop()},{}],PriorityStack:[function(t,e,n){"use strict";cc._RF.push(e,"9ed15uYIzxGna5Bj3+zkuo8","PriorityStack"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./PriorityQueue"),o=function(){function t(t){this.compare=function(t,e){return t===e},this.stack=new Array,this._size=0,this.compare=t}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),t.prototype.clear=function(){return this.stack.length=0,this._size=0,!0},t.prototype.getTopEPriority=function(){return this.stack.length<=0?-1:this.stack[this.stack.length-1].priority},t.prototype.getTopElement=function(){return this.stack.length<=0?null:this.stack[this.stack.length-1].data},t.prototype.getElements=function(){for(var t=[],e=0,n=this.stack;e<n.length;e++){var r=n[e];t.push(r.data)}return t},t.prototype.push=function(t,e){void 0===e&&(e=0),this.stack.push(new r.PriorityElement(t,e)),this._size++,this._adjust()},t.prototype.pop=function(){return this.stack.length<=0?null:(this._size--,this.stack.pop().data)},t.prototype._adjust=function(){for(var t=this.stack.length-1;t>0;t--)this.stack[t].priority<this.stack[t-1].priority&&this._swap(t,t-1)},t.prototype._swap=function(t,e){var n=this.stack[t];this.stack[t]=this.stack[e],this.stack[e]=n},t.prototype.hasElement=function(t){for(var e=0,n=this.stack;e<n.length;e++){var r=n[e];if(this.compare(r.data,t))return!0}return!1},t.prototype.remove=function(t){for(var e=this.stack.length-1;e>=0;e--)if(this.compare(this.stack[e].data,t))return this.stack.splice(e,1),this._size--,!0;return!1},t}();n.default=o,cc._RF.pop()},{"./PriorityQueue":"PriorityQueue"}],PropBind:[function(t,e,n){"use strict";cc._RF.push(e,"2f9f8Tv5WdH8a3E1C7Bm4Ro","PropBind"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.bind=function(){},t}();n.default=r,cc._RF.pop()},{}],PropController:[function(t,e,n){"use strict";cc._RF.push(e,"9c55bh8k9BD0JhzsvfCJYNE","PropController");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.NodePathType=void 0;var a,s=t("./PropSelector");(function(t){t[t.Name=0]="Name",t[t.SiblingIndex=1]="SiblingIndex"})(a=n.NodePathType||(n.NodePathType={})),cc.NodePathType=a;var c=cc._decorator,u=c.ccclass,l=c.executeInEditMode,h=c.menu,p=c.inspector,f=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodePathType=a.SiblingIndex,e.open=!0,e._uid="",e._state=0,e._states=[],e.propertyJson="",e}return o(e,t),Object.defineProperty(e.prototype,"uid",{get:function(){return this._uid},set:function(t){this._uid=t,this._refreshIdEnum()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t,this.doControl(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"states",{get:function(){return this._states},set:function(t){this._states=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.open=!1,this._refresh(),this._refreshIdEnum()},e.prototype.start=function(){},e.prototype.doControl=function(t){var e=t,n=JSON.parse(this.propertyJson)[e];for(var r in n){var o=r.split(":"),i=null;switch(+o[0]){case a.Name:i=cc.find(o[1],this.node);break;case a.SiblingIndex:i=this._getNodeBySiblingIndex(o[1],this.node)}if(i){var s=n[r];for(var c in s){var u=_[c];u&&u(i,s[c])}}else cc.warn("find node faild, path:",r)}},e.prototype._getNodeBySiblingIndex=function(t,e){for(var n=0,r=(t="/"==t[0]?t.substring(1):t).split("/");n<r.length;n++){var o=r[n];e=e.children[+o]}return e},e.prototype._refresh=function(){},e.prototype._refreshIdEnum=function(){},i([f({type:cc.Enum(a),tooltip:"Name: \u6839\u636enode name\u4fdd\u5b58, SiblingIndex: \u6839\u636enode \u5728children\u7684index\u4fdd\u5b58"})],e.prototype,"nodePathType",void 0),i([f({tooltip:"\u662f\u5426\u542f\u7528\u63a7\u5236\u5668"})],e.prototype,"open",void 0),i([f({serializable:!0})],e.prototype,"_uid",void 0),i([f],e.prototype,"uid",null),i([f({type:cc.Enum({})})],e.prototype,"_state",void 0),i([f({type:cc.Enum({})})],e.prototype,"state",null),i([f],e.prototype,"_states",void 0),i([f([cc.String])],e.prototype,"states",null),i([f()],e.prototype,"propertyJson",void 0),i([u,l,h("i18n:\u72b6\u6001\u63a7\u5236/PropController"),p("packages://propcontroller/dist/inspector.js")],e)}(cc.Component);n.default=d;var _={};function y(t,e){_[t]&&cc.warn(""),_[t]=e}y(s.PropEmum.All,function(t,e){var n=e.node;for(var r in t.active=n.active,t.setPosition(n.position),t.angle=n.angle,t.scaleX=n.scale.scaleX,t.scaleY=n.scale.scaleY,t.anchorX=n.anchor.anchorX,t.anchorY=n.anchor.anchorY,t.setContentSize(n.size),t.color=new cc.Color(n.color.r,n.color.g,n.color.b),t.opacity=n.opacity,e.coms){var o=e.coms[r];r=r.replace("_",".");var i=t.getComponent(r);for(var a in o)a.startsWith("_")||(i[a]=o[a])}}),y(s.PropEmum.Active,function(t,e){t.active=e}),y(s.PropEmum.Position,function(t,e){t.setPosition(e)}),y(s.PropEmum.Color,function(t,e){t.color=new cc.Color(e.r,e.g,e.b)}),y(s.PropEmum.Scale,function(t,e){t.scaleX=e.scaleX,t.scaleY=e.scaleY}),y(s.PropEmum.Rotation,function(t,e){t.angle=e}),y(s.PropEmum.Opacity,function(t,e){t.opacity=e}),y(s.PropEmum.Slew,function(t,e){t.skewX=e.skewX,t.skewY=e.skewY}),y(s.PropEmum.Size,function(t,e){t.setContentSize(e)}),y(s.PropEmum.Anchor,function(t,e){t.anchorX=e.anchorX,t.anchorY=e.anchorY}),y(s.PropEmum.Label_String,function(t,e){t.getComponent(cc.Label).string=e}),y(s.PropEmum.Sprite_Texture,function(t,e){var n,r=null!==(n=e.url)&&void 0!==n?n:"";e.uuid,r.includes("resources")&&(r=(r=r.replace("resources/","")).split(".")[0]),cc.resources.load(r,cc.Texture2D,function(e,n){e?Editor.warn("PropController  load sprite texture faild",r,e):t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n)})}),cc._RF.pop()},{"./PropSelector":"PropSelector"}],PropSelector:[function(t,e,n){"use strict";cc._RF.push(e,"95cf9sVxtJHbIz3btfe766G","PropSelector");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.PropEmum=void 0;var a,s=cc._decorator,c=s.ccclass,u=s.executeInEditMode,l=s.menu,h=s.property;(function(t){t[t.All=0]="All",t[t.Active=1]="Active",t[t.Position=2]="Position",t[t.Rotation=3]="Rotation",t[t.Scale=4]="Scale",t[t.Anchor=5]="Anchor",t[t.Size=6]="Size",t[t.Color=7]="Color",t[t.Opacity=8]="Opacity",t[t.Slew=9]="Slew",t[t.Label_String=10]="Label_String",t[t.Sprite_Texture=11]="Sprite_Texture"})(a=n.PropEmum||(n.PropEmum={})),cc.PropEmum=a,cc.Enum({});var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.props=[0],e}return o(e,t),i([h({type:[cc.Enum(a)],tooltip:"\u88ab\u63a7\u5236\u7684\u5c5e\u6027"})],e.prototype,"props",void 0),i([c,l("i18n:\u72b6\u6001\u63a7\u5236/PropSelector"),u],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],QuadTree:[function(t,e,n){"use strict";cc._RF.push(e,"97092zpFuhN/oWHIMkF7jei","QuadTree"),Object.defineProperty(n,"__esModule",{value:!0}),n.Bound=void 0;n.Bound=function(t,e,n,r,o){void 0===o&&(o=""),this.x=t,this.y=e,this.width=n,this.height=r,this.uid=o};var r=function(){function t(t,e,n,r){this._maxObject=10,this._maxLevel=4,this._level=0,this._bound=null,this._objects=[],this._nodes=[],this._bound=t,this._maxObject=e||this._maxObject,this._maxLevel=n||this._maxLevel,this._level=r||this._level}return t.prototype.split=function(){var e=this._level+1,n=this._bound.width/2,r=this._bound.height/2,o=this._bound.x,i=this._bound.y;this._nodes[0]=new t({uid:e+"-top-right",x:o+n,y:i,width:n,height:r},this._maxObject,this._maxLevel,e),this._nodes[1]=new t({uid:e+"-top-left",x:o,y:i,width:n,height:r},this._maxObject,this._maxLevel,e),this._nodes[2]=new t({uid:e+"-bottom-left",x:o,y:i+r,width:n,height:r},this._maxObject,this._maxLevel,e),this._nodes[3]=new t({uid:e+"-bottom-right",x:o+n,y:i+r,width:n,height:r},this._maxObject,this._maxLevel,e)},t.prototype.getIndex=function(t){var e=[],n=this._bound.x+this._bound.width/2,r=this._bound.y+this._bound.height/2,o=t.y<r,i=t.x<n,a=t.x+t.width>n,s=t.y+t.height>r;return o&&a&&e.push(0),i&&o&&e.push(1),i&&s&&e.push(2),a&&s&&e.push(3),e},t.prototype.insert=function(t){var e=0,n=[];if(this._nodes.length)for(n=this.getIndex(t),e=0;e<n.length;e++)this._nodes[n[e]].insert(t);else if(this._objects.push(t),this._objects.length>this._maxObject&&this._level<this._maxLevel){for(this._nodes.length||this.split(),e=0;e<this._objects.length;e++){n=this.getIndex(this._objects[e]);for(var r=0;r<n.length;r++)this._nodes[n[r]].insert(this._objects[e])}this._objects=[]}},t.prototype.retrieve=function(t){var e=this.getIndex(t),n=this._objects;if(this._nodes.length)for(var r=0;r<e.length;r++)n=n.concat(this._nodes[e[r]].retrieve(t));return n=n.filter(function(t,e){return n.indexOf(t)>=e})},t.prototype.clear=function(){this._objects=[];for(var t=0;t<this._nodes.length;t++)this._nodes.length&&this._nodes[t].clear();this._nodes=[]},t}();n.default=r,cc._RF.pop()},{}],Queue:[function(t,e,n){"use strict";cc._RF.push(e,"146d9Q6AJVLm5Z5V9zs9sHL","Queue"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){this.count=0,this.lowestCount=0,this.items={}}return t.prototype.enqueue=function(t){this.items[this.count]=t,this.count++},t.prototype.dequeue=function(){if(!this.isEmpty()){var t=this.items[this.lowestCount];return delete this.items[this.lowestCount],this.lowestCount++,t}},t.prototype.peek=function(){if(!this.isEmpty())return this.items[this.lowestCount]},t.prototype.isEmpty=function(){return 0===this.size()},t.prototype.clear=function(){this.items={},this.count=0,this.lowestCount=0},t.prototype.size=function(){return this.count-this.lowestCount},t.prototype.toString=function(){if(this.isEmpty())return"";for(var t=""+this.items[this.lowestCount],e=this.lowestCount+1;e<this.count;e++)t=t+","+this.items[e];return t},t}();n.default=r,cc._RF.pop()},{}],RawItem:[function(t,e,n){"use strict";cc._RF.push(e,"ba46bd5sDpHoJSuHZGhdI7j","RawItem");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Components/ListItem"),s=t("../../Common/Utils/CommonUtils"),c=t("../../Config/GlobalData"),u=t("../../UIScript/UIWorkDesk"),l=cc._decorator,h=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemData=null,e.desk=null,e}return o(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.start=function(){this.registerEvent()},e.prototype.registerEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.desk.dragMove.bind(this.desk),this),this.node.on(cc.Node.EventType.TOUCH_END,this.desk.dragEnd.bind(this.desk),this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.desk.dragEnd.bind(this.desk),this)},e.prototype.unRegisterEvent=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.desk.dragMove.bind(this.desk),this),this.node.off(cc.Node.EventType.TOUCH_END,this.desk.dragEnd.bind(this.desk),this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.desk.dragEnd.bind(this.desk),this)},e.prototype.touchStart=function(t){this.desk.dragNode(t,this,u.DragType.Raw)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.unRegisterEvent()},e.prototype.onClickThis=function(){t.prototype.onClickThis.call(this),console.log("RawItem onClickThis")},e.prototype.initUi=function(t,e){this.itemData=t,this.desk=e,this.title.getComponent(cc.Label).string=t.name,s.CommonUtils.setItemSpriteFrame(this.icon,""+c.GlobalData.rawPath+t.ID)},i([h],e)}(a.default));n.default=p,cc._RF.pop()},{"../../Common/Components/ListItem":"ListItem","../../Common/Utils/CommonUtils":"CommonUtils","../../Config/GlobalData":"GlobalData","../../UIScript/UIWorkDesk":"UIWorkDesk"}],RawMaterial:[function(t,e,n){"use strict";cc._RF.push(e,"134487N1MJIzIe1T0+0PwIs","RawMaterial"),Object.defineProperty(n,"__esModule",{value:!0}),n.RecipeList=n.RecipeModule=n.RawMaterial=void 0,n.RawMaterial=[{ID:2001,name:"\u6c34",price:0,intro:"\u4e00\u4efd\u7eaf\u51c0\u6c34\uff0c\u4e07\u7269\u7684\u8d77\u6e90,\u4e0d\u53ef\u51fa\u552e",type:"item_raw",sell:0},{ID:2002,name:"\u5496\u5561\u8c46",price:0,intro:"\u70d8\u7119\u597d\u7684\u5496\u5561\u8c46,\u4e0d\u53ef\u51fa\u552e",type:"item_raw",sell:0},{ID:2003,name:"\u51b0",price:0,intro:"\u628a\u90a3\u4e2a\u7eaf\u51c0\u6c34\u653e\u8fdb\u5236\u51b0\u673a\u91cc\u5f97\u6765\u7684,\u4e0d\u53ef\u51fa\u552e",type:"item_raw",sell:0},{ID:2004,name:"\u725b\u5976",price:20,intro:"\u7eaf\u725b\u5976\uff0c\u7edd\u5bf9\u6ca1\u6709\u4efb\u4f55\u6dfb\u52a0\uff0c\u4f60\u9700\u8981\u5c3d\u5feb\u4f7f\u7528,\u4e0d\uff01\u7136\uff01\u5c31\uff01\u4f1a\uff01\u574f\uff01\u6389\uff01,\u4e0d\u53ef\u51fa\u552e",type:"item_raw",sell:0},{ID:2005,name:"\u5de7\u514b\u529b",price:50,intro:"\u7eaf\u53ef\u53ef\u8102\u7684\u5de7\u514b\u529b\uff0c\u5077\u5403\u4e00\u70b9\u6ca1\u4eba\u53d1\u73b0\u5427\uff1f\u4e0d\u53ef\u51fa\u552e",type:"item_raw",sell:0},{ID:2006,name:"\u6930\u5b50",price:80,intro:"\u80af\u5b9a\u662f\u4ece\u5f88\u70ed\u7684\u5730\u65b9\u8fd0\u8fc7\u6765\u7684\uff0c\u4e0a\u9762\u8fd8\u6709\u9633\u5149\u548c\u6d77\u5cb8\u7ebf\u5347\u8d77\u7684\u5473\u9053,\u4e0d\u53ef\u51fa\u552e",type:"item_raw",sell:0},{ID:2007,name:"\u5976\u6cb9\u74f6",price:150,intro:"\u4e00\u74f6\u55b5\u9020\u690d\u7269\u5976\u6cb9,\u4e0d\u53ef\u51fa\u552e",type:"item_raw",sell:0},{ID:2008,name:"\u7126\u7cd6",price:130,intro:"\u767d\u7802\u7cd6\u71ac\u716e\u540e\u7126\u5316\u7684\u996e\u6599\u8c03\u5473\u54c1\uff0c\u5f88\u8bb2\u7a76\u706b\u5019,\u4e0d\u53ef\u51fa\u552e",type:"item_raw",sell:0}],n.RecipeModule=[{name:"\u914d\u65b9",color:"C38460"},{name:"\u914d\u65b91",color:"C36660"},{name:"\u914d\u65b92",color:"6EC360"}],n.RecipeList=[[{ID:1001,name:"$s\u6c34",name_e:"water",raw1:2001,raw2:"",raw3:"",raw4:"",raw5:"",raw6:"",coldDrink:!0,price:2,resPath:1001,cupType:1,tumbler_f:"glass10",tumbler_b:"glass11",intro:"\u4e00\u676f\u6c34","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1002,name:"\u610f\u5f0f\u6d53\u7f29\u5496\u5561",name_e:"Espresso",raw1:2002,raw2:"",raw3:"",raw4:"",raw5:"",raw6:"",coldDrink:"",price:3,resPath:1002,cupType:3,tumbler_f:"glass30",tumbler_b:"glass31",intro:"\u7ecf\u5178\u7684\u6d53\u7f29\u5496\u5561\uff0c\u5982\u679c\u76f4\u996e\u5efa\u8bae\u52a0\u7cd6","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1003,name:"%s\u7f8e\u5f0f\u5496\u5561",name_e:"Americano",raw1:2001,raw2:2002,raw3:"",raw4:"",raw5:"",raw6:"",coldDrink:!0,price:4,resPath:1003,cupType:1,tumbler_f:"glass10",tumbler_b:"glass11",intro:"\u7ecf\u5178\u597d\u559d\uff01","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1004,name:"%s\u62ff\u94c1\u5496\u5561",name_e:"latte",raw1:2004,raw2:2002,raw3:"",raw4:"",raw5:"",raw6:"",coldDrink:!0,price:5,resPath:1004,cupType:1,tumbler_f:"glass10",tumbler_b:"glass11",intro:"\u7ecf\u5178\u7684\u62ff\u94c1\u5496\u5561\uff0c\u5728\u5f88\u591a\u5730\u65b9\u90fd\u662f\u62db\u724c","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1005,name:"\u6469\u5361\u5496\u5561",name_e:"Mocha",raw1:2004,raw2:2002,raw3:2005,raw4:"",raw5:"",raw6:"",coldDrink:"",price:9,resPath:1005,cupType:2,tumbler_f:"glass20",tumbler_b:"glass21",intro:"\u4e00\u79cd\u53e4\u8001\u7684\u5496\u5561","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1006,name:"\u70ed\u5de7\u514b\u529b",name_e:"Hot_chocolate",raw1:2005,raw2:"",raw3:"",raw4:"",raw5:"",raw6:"",coldDrink:"",price:6,resPath:1006,cupType:2,tumbler_f:"glass20",tumbler_b:"glass21",intro:"\u788e\u788e\u7684\u5de7\u514b\u529b\u52a0\u4e0a\u725b\u5976\u540e\u4e00\u8d77\u52a0\u70ed\u5f62\u6210\u4e86\u8fd9\u79cd\u5947\u5999\u4e1d\u6ed1\u7684\u996e\u54c1","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1007,name:"%s\u6930\u6c41",name_e:"Coconut",raw1:2006,raw2:"",raw3:"",raw4:"",raw5:"",raw6:"",coldDrink:!0,price:5,resPath:1007,cupType:1,tumbler_f:"glass10",tumbler_b:"glass11",intro:"\u6930\u5b50~\u597d\u559d\u7684\u6930\u5b50~\n\u800c\u4e14\u7edd\u5bf9\u6ca1\u6709\u5151\u6c34","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1008,name:"\u6930\u6c41%s\u62ff\u94c1",name_e:"Coconut_latte",raw1:2006,raw2:2004,raw3:2002,raw4:"",raw5:"",raw6:"",coldDrink:!0,price:10,resPath:1008,cupType:1,tumbler_f:"glass10",tumbler_b:"glass11",intro:"\u52a0\u5165\u4e86\u5976\u6cb9\u7684\u62ff\u94c1\u5496\u5561\uff0c\u8ba9\u53e3\u611f\u53d8\u5f97\u66f4\u52a0\u6e05\u723d","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1009,name:"\u5976\u6cb9%s\u62ff\u94c1",name_e:"Cream_latte",raw1:2005,raw2:2004,raw3:"",raw4:"",raw5:"",raw6:"",coldDrink:!0,price:13,resPath:1009,cupType:1,tumbler_f:"glass10",tumbler_b:"glass11",intro:"\u52a0\u5165\u4e86\u5976\u6cb9\u7684\u62ff\u94c1\u5496\u5561\uff0c\u8ba9\u53e3\u611f\u53d8\u5f97\u66f4\u52a0\u7ec6\u817b\u9999\u751c","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1010,name:"\u5976\u6cb9\u5de7\u514b\u529b",name_e:"Cream_chocolate",raw1:2004,raw2:2002,raw3:2007,raw4:"",raw5:"",raw6:"",coldDrink:"",price:14,resPath:1010,cupType:2,tumbler_f:"glass20",tumbler_b:"glass21",intro:"\u5947\u5999\u7684\u5e78\u798f\u6ce1\u6ce1","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1011,name:"\u7126\u7cd6\u7f8e\u5f0f",name_e:"Caramel_Americano",raw1:2005,raw2:2004,raw3:2007,raw4:"",raw5:"",raw6:"",coldDrink:"",price:12,resPath:1011,cupType:1,tumbler_f:"glass10",tumbler_b:"glass11",intro:"\u50cf\u8dc3\u52a8\u7740\u7684\u706b\u7cbe\u7075","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1012,name:"\u7126\u7cd6\u739b\u5947\u6735",name_e:"Caramel_macchiato",raw1:2008,raw2:2001,raw3:2002,raw4:"",raw5:"",raw6:"",coldDrink:"",price:12,resPath:1012,cupType:2,tumbler_f:"glass20",tumbler_b:"glass21",intro:"\u751c\u871c\u7684\u5370\u8bb0","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}],[],[]],cc._RF.pop()},{}],RecipeItem:[function(t,e,n){"use strict";cc._RF.push(e,"bbdd70BoJ9NkL0eV9lYN/kX","RecipeItem");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("lodash"),s=t("../../Common/Components/ListItem"),c=t("../../Common/Utils/CommonUtils"),u=t("../../Config/GlobalData"),l=t("../../UIScript/UIRecipeInfo"),h=cc._decorator,p=h.ccclass,f=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemData=null,e.desk=null,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.onEnable=function(){this.registerEvent()},e.prototype.onDisable=function(){this.unRegisterEvent()},e.prototype.registerEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.clickRecipeInfo,this)},e.prototype.unRegisterEvent=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.clickRecipeInfo,this)},e.prototype.initUi=function(t,e){this.itemData=t,this.desk=e,this.title.getComponent(cc.Label).string=1==t.name.includes("%s")?t.name.replace("%s",""):t.name,c.CommonUtils.setItemSpriteFrame(this.icon,""+u.GlobalData.recipePath+t.resPath),"1001"==t.id&&(this.selected=!0)},e.prototype.clickRecipeInfo=function(){var t=this.node.parent;a.forEach(t.children,function(t){t.getComponent(n).selected=!1}),this.selected=!0,l.default.open(this.itemData)},n=i([p],e)}(s.default));n.default=f,cc._RF.pop()},{"../../Common/Components/ListItem":"ListItem","../../Common/Utils/CommonUtils":"CommonUtils","../../Config/GlobalData":"GlobalData","../../UIScript/UIRecipeInfo":"UIRecipeInfo",lodash:1}],RecipeModuleItem:[function(t,e,n){"use strict";cc._RF.push(e,"1cef5Q0QUhHBZGIKgAq798N","RecipeModuleItem");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Components/ListItem"),s=t("../../Config/RawMaterial"),c=cc._decorator,u=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.desk=null,e.itemData=null,e.moduleLength=0,e.viewWidth=750,e}return o(e,t),e.prototype.onEnable=function(){this.registerEvent()},e.prototype.onDisable=function(){this.unRegisterEvent()},e.prototype.initUi=function(t,e){this.itemData=s.RecipeModule[t],this.desk=e,this.node.color=cc.color(this.itemData.color),this.title.getComponent(cc.Label).string=this.itemData.name,this.setNodeSize(),0==t&&(this.node.height=this.desk.nodeHeight[1],this.title.y=this.desk.titlePos[1])},e.prototype.setNodeSize=function(){this.moduleLength=s.RecipeModule.length;for(var t=1;t<this.moduleLength;t++)this.node.width=t>5?this.viewWidth/5:this.viewWidth/this.moduleLength},e.prototype.registerEvent=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.clickModule,this)},e.prototype.unRegisterEvent=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.clickModule,this)},e.prototype.clickModule=function(t){var e=t.target.name;this.desk.curModuleNumber=parseInt(e),this.desk.initAllModule(),this.desk.changeRecipeItem(),this.node.height=this.desk.nodeHeight[1],this.title.y=this.desk.titlePos[1]},i([u],e)}(a.default));n.default=l,cc._RF.pop()},{"../../Common/Components/ListItem":"ListItem","../../Config/RawMaterial":"RawMaterial"}],RecycleScroll:[function(t,e,n){"use strict";cc._RF.push(e,"0d95cDuDTpNHL3GyMiGr8Cr","RecycleScroll");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=a.menu,l=0,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemPrefab=null,e.spacing=cc.Vec2.ZERO,e.offsetContentHeight=0,e.parentContent=null,e._numItems=0,e._tempContentHeight=0,e.isDown=!0,e._viewCol=0,e._viewRow=0,e._viewW=0,e._viewH=0,e._itemW=0,e._itemH=0,e._lastPosY=0,e._isInit=!1,e._itemsUUIDToIndex={},e._fleshInterval=.2,e._fleshCounter=0,e._initTimer=.05,e._initCounter=0,e._isResize=!1,e._itemStartPos=cc.Vec2.ZERO,e._isResizeFinish=!1,e._lineIndex=-1,e.itemList=[],e.content=null,e}return o(e,t),Object.defineProperty(e.prototype,"numItems",{get:function(){return this._numItems},set:function(t){this._numItems=t,this._hideAllItems(),this._initialize(),this._updateContentHeight(),this.updateAllItems()},enumerable:!1,configurable:!0}),e.prototype.onItemRender=function(){},e.prototype.onItemClicked=function(){},e.prototype.updateAllItems=function(){var t=this;this.itemList.forEach(function(e){return t._updateItem(t._itemsUUIDToIndex[e.uuid],e,!0)})},e.prototype.scrollToIndexVertical=function(t,e){void 0===e&&(e=.2);var n=this._getContentUTF(),r=this._itemH*t/(n.height-this._viewH);this.node.getComponent(cc.ScrollView).scrollToPercentVertical(1-r,e)},e.prototype.getItemDirPos=function(t){var e=t%this._viewCol*this._itemW,n=-Math.floor(t/this._viewCol)*this._itemH+(this.spacing.y>>1),r=this._getContentUTF().convertToWorldSpaceAR(cc.v3(e,n)),o=this._getContentUTF().parent.convertToNodeSpaceAR(r);return[o.x<-this._viewW/2?-1:o.x>this._viewW/2?1:0,o.y<-this._viewH/2?-1:o.y>this._viewH/2?1:0]},e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.SIZE_CHANGED,this.onSizeChange,this)},e.prototype.onSizeChange=function(){this._isResize=!0,this._initCounter=0,this._itemsUUIDToIndex={},this._getContentUTF().removeAllChildren()},e.prototype.onDestroy=function(){this.node.targetOff(this)},e.prototype._hideAllItems=function(){this.itemList.forEach(function(t){return t.active=!1})},e.prototype._getContentUTF=function(){return this.node.getComponent(cc.ScrollView).content},e.prototype._initialize=function(){var t=this;if(!this._isInit){var e=this.node.getComponent(cc.ScrollView);e.enabled=!1,this._isInit=!0;var n=this._getContentUTF();this.content=n,n.removeAllChildren(),this.itemList=[];var r=n.parent;this._viewW=r.width,this._viewH=r.height;var o=this.itemPrefab.data;this._itemW=o.width+this.spacing.x,this._itemH=o.height+this.spacing.y,this._lastPosY=n.position.y,this._viewRow=Math.ceil(this._viewH/this._itemH)+1,this._viewCol=Math.floor(this._viewW/this._itemW);var i=this._viewW-this._viewCol*this._itemW,a=cc.v2((-this._viewW>>1)+(this._itemW>>1)+(i>>1),-this._itemH>>1);this._itemStartPos=a;var s=this._viewRow*this._viewCol;console.log("\u5b9e\u4f8b\u5316\u6570\u91cf:"+s);var c=0;p(s,function(r){if(cc.isValid(n)){var o=cc.instantiate(t.itemPrefab);o.parent=n;var i=r%t._viewCol*t._itemW,u=-Math.floor(r/t._viewCol)*t._itemH+(t.spacing.y>>1),l=cc.v3(i+a.x,u+a.y);o.setPosition(l),o.on(cc.Node.EventType.TOUCH_END,function(){t.onItemClicked(t._itemsUUIDToIndex[o.uuid],o)},t),t.itemList[r]=o,o.needRender=!0,t._updateItem(r,o),t._itemsUUIDToIndex[o.uuid]=r,++c==s&&(e.enabled=!0)}},16,0,++l)}},e.prototype._updateContentHeight=function(){var t=this._getContentUTF(),e=Math.floor(this._viewW/this._itemW),n=Math.ceil(this.numItems/e);t.height=(n+4)*(this.itemPrefab.data.height+this.spacing.y)-this.spacing.y+this.offsetContentHeight},e.prototype._getPosInView=function(t){var e=this._getContentUTF(),n=e.parent,r=e.convertToWorldSpaceAR(t.position);return n.convertToNodeSpaceAR(r)},e.prototype._updateItem=function(t,e,n){void 0===n&&(n=!1);var r=t>=0&&t<this.numItems;e.active=r,r&&(e.needRender||n)&&(this.onItemRender(t,e),e.needRender=!1)},e.prototype.update=function(t){if(this._isResize)return this._initCounter+=t,void(this._initCounter>=this._initTimer&&(this._isInit=!1,this._isResize=!1,this.numItems=this._numItems,this._isResizeFinish=!0));var e=this._getContentUTF().position.y,n=e-this._lastPosY;if(this._lastPosY=e,this._fleshCounter+=t,0!=n||this._isResizeFinish){var r=n<0;this.isDown=r;var o=this._viewH>>1,i=this._itemH>>1,a=Math.floor((e-o)/this._itemH),s=this._lineIndex!=a;if(s||this._isResizeFinish){this._isResizeFinish=!1,this._lineIndex=a;for(var c=this._itemH*this._viewRow,u=this._viewRow*this._viewCol,l=Math.floor((e-o)/c),h=this.itemList.length,p=0;p<h;++p){var f=p,d=this.itemList[p],_=f%this._viewCol*this._itemW,y=-Math.floor(f/this._viewCol)*this._itemH+(this.spacing.y>>1),v=cc.v3(_+this._itemStartPos.x,y+this._itemStartPos.y-l*c);d.setPosition(v);var g=this._getPosInView(d),m=this._itemsUUIDToIndex[d.uuid],b=l*u+p;r?(g.y>=o+i&&(d.setPosition(cc.v3(d.position.x,d.position.y-this._viewRow*this._itemH)),b+=h),s&&this._getPosInView(d).y<=-(o+i)&&(d.setPosition(cc.v3(d.position.x,d.position.y+this._viewRow*this._itemH)),b-=h)):g.y>=o+i&&(d.setPosition(cc.v3(d.position.x,d.position.y-this._viewRow*this._itemH)),b+=h),b!=m&&(d.needRender=!0,this._updateItem(b,d)),this._itemsUUIDToIndex[d.uuid]=b}}}},i([c(cc.Prefab)],e.prototype,"itemPrefab",void 0),i([c(cc.Vec2)],e.prototype,"spacing",void 0),i([c(Number)],e.prototype,"offsetContentHeight",void 0),i([c(cc.Node)],e.prototype,"parentContent",void 0),i([s("RecycleScroll"),u("\u6027\u80fd\u4f18\u5316/RecycleScroll")],e)}(cc.Component);function p(t,e,n,r,o){void 0===n&&(n=16),void 0===r&&(r=0),void 0===o&&(o=0);for(var i=t,a=(new Date).getTime(),s=0;s<i&&o==l&&!(r>=i);++s){try{e&&e(r)}catch(c){cc.error(c)}if(r++,(new Date).getTime()-a>n){setTimeout(function(){p(i,e,n,r,o)},10);break}}}n.default=h,cc._RF.pop()},{}],RenderUtil:[function(t,e,n){"use strict";cc._RF.push(e,"4bd3bJ9z/JCjJ33ca5fBEZA","RenderUtil"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.getRenderTexture=function(t,e){if(!cc.isValid(t))return null;e&&e instanceof cc.RenderTexture||(e=new cc.RenderTexture);var n=Math.floor(t.width),r=Math.floor(t.height);e.initWithSize(n,r);var o=new cc.Node;o.parent=t;var i=o.addComponent(cc.Camera);return i.clearFlags|=cc.Camera.ClearFlags.COLOR,i.backgroundColor=cc.color(0,0,0,0),i.zoomRatio=cc.winSize.height/r,i.targetTexture=e,i.render(t),o.destroy(),e},t.renderWithMaterial=function(t,e,n){e instanceof cc.Material&&(n=e,e=new cc.RenderTexture);var r=new cc.Node;r.setParent(cc.Canvas.instance.node);var o=r.addComponent(cc.Sprite);o.sizeMode=cc.Sprite.SizeMode.RAW,o.trim=!1,o.spriteFrame=new cc.SpriteFrame(t);var i=t.width,a=t.height;e.initWithSize(i,a),n instanceof cc.Material&&o.setMaterial(0,n);var s=new cc.Node;s.setParent(r);var c=s.addComponent(cc.Camera);return c.clearFlags|=cc.Camera.ClearFlags.COLOR,c.backgroundColor=cc.color(0,0,0,0),c.zoomRatio=cc.winSize.height/a,c.targetTexture=e,c.render(r),s.destroy(),r.destroy(),e},t.getPixelsData=function(t,e){if(void 0===e&&(e=!0),!cc.isValid(t))return null;var n=Math.floor(t.width),r=Math.floor(t.height),o=new cc.Node;o.parent=t;var i=o.addComponent(cc.Camera);i.clearFlags|=cc.Camera.ClearFlags.COLOR,i.backgroundColor=cc.color(0,0,0,0),i.zoomRatio=cc.winSize.height/r;var a=new cc.RenderTexture;a.initWithSize(n,r,cc.RenderTexture.DepthStencilFormat.RB_FMT_S8),i.targetTexture=a,i.render(t);var s=a.readPixels();if(a.destroy(),o.destroy(),e){for(var c=s.length,u=4*n,l=new Uint8Array(c),h=0,p=c-u;h<c;h+=u,p-=u)for(var f=0;f<u;f++)l[h+f]=s[p+f];return l}return s},t.flipY=function(t,e){for(var n=t.length,r=new Uint8Array(n),o=0,i=n-e;o<n;o+=e,i-=e)for(var a=0;a<e;a++)r[o+a]=t[i+a];return r},t}();n.default=r,cc._RF.pop()},{}],ResConfig:[function(t,e,n){"use strict";cc._RF.push(e,"97044gds7tDBJR/h6CihizM","ResConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.RoleState=n.EntityDirection=void 0,function(t){t[t.LEFT_UP=0]="LEFT_UP",t[t.RIGHT_UP=1]="RIGHT_UP",t[t.LEFT_DOWN=2]="LEFT_DOWN",t[t.RIGHT_DOWN=3]="RIGHT_DOWN",t[t.DOWN=4]="DOWN",t[t.UP=5]="UP"}(n.EntityDirection||(n.EntityDirection={})),function(t){t.run="run",t.idle="idle"}(n.RoleState||(n.RoleState={})),cc._RF.pop()},{}],ResMgr:[function(t,e,n){"use strict";cc._RF.push(e,"de5dbVuBfFIMLLJqz5PKFHB","ResMgr");var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./CocosHelper"),a=function(){function t(){this._prefabDepends=cc.js.createMap(),this._dynamicTags=cc.js.createMap(),this._tmpAssetsDepends=[],this._assetsReference=cc.js.createMap(),this._prefabs=cc.js.createMap()}return Object.defineProperty(t,"inst",{get:function(){return null===this.instance&&(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),t.prototype.getFormPrefab=function(t){return this._prefabs[t]},t.prototype.loadFormPrefab=function(t){return r(this,void 0,void 0,function(){var e,n,r;return o(this,function(o){switch(o.label){case 0:return this._prefabs[t]?[2,this._prefabs[t]]:[4,this._loadResWithReference(t,cc.Prefab)];case 1:return e=o.sent(),n=e.res,r=e.deps,this._prefabDepends[t]=r,this._prefabs[t]=n,[2,n]}})})},t.prototype.destoryFormPrefab=function(t){this._prefabs[t]&&(this._prefabs[t].destroy(),this._prefabs[t]=null,delete this._prefabs[t]),this._destoryResWithReference(this._prefabDepends[t]),this._prefabDepends[t]=null,delete this._prefabDepends[t]},t.prototype.loadDynamicRes=function(t,e,n){return r(this,void 0,void 0,function(){var r,i,a,s;return o(this,function(o){switch(o.label){case 0:return[4,this._loadResWithReference(t,e)];case 1:return r=o.sent(),i=r.res,a=r.deps,this._dynamicTags[n]||(this._dynamicTags[n]=[]),(s=this._dynamicTags[n]).push.apply(s,a),[2,i]}})})},t.prototype.destoryDynamicRes=function(t){return!!this._dynamicTags[t]&&(this._destoryResWithReference(this._dynamicTags[t]),this._dynamicTags[t]=null,delete this._dynamicTags[t],!0)},t.prototype._loadResWithReference=function(t,e){return r(this,void 0,void 0,function(){var n,r;return o(this,function(o){switch(o.label){case 0:return[4,i.default.loadResSync(t,e,this._addTmpAssetsDepends.bind(this))];case 1:return(n=o.sent())?(this._clearTmpAssetsDepends(),(r=cc.assetManager.dependUtil.getDepsRecursively(n._uuid)||[]).push(n._uuid),this.addAssetsDepends(r),[2,{res:n,deps:r}]):(this._clearTmpAssetsDepends(),[2,null])}})})},t.prototype._destoryResWithReference=function(t){var e=this.removeAssetsDepends(t);return this._destoryAssets(e),!0},t.prototype.addAssetsDepends=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];this._checkIsBuiltinAssets(r)||(this._assetsReference[r]?this._assetsReference[r]+=1:this._assetsReference[r]=1)}},t.prototype.removeAssetsDepends=function(t){for(var e=[],n=0,r=t;n<r.length;n++){var o=r[n];this._assetsReference[o]&&0!==this._assetsReference[o]&&(this._assetsReference[o]--,0===this._assetsReference[o]&&(e.push(o),delete this._assetsReference[o]))}return e},t.prototype._destoryAssets=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];this._destoryAsset(r)}},t.prototype._destoryAsset=function(t){if(!this._checkIsBuiltinAssets(t)){var e=cc.assetManager.assets.get(t);e&&(e.destroy(),cc.assetManager.assets.remove(t),cc.assetManager.dependUtil.remove(t))}},t.prototype._addTmpAssetsDepends=function(t,e,n){var r,o=cc.assetManager.dependUtil.getDepsRecursively(n.uuid)||[];o.push(n.uuid),this.addAssetsDepends(o),(r=this._tmpAssetsDepends).push.apply(r,o)},t.prototype._clearTmpAssetsDepends=function(){for(var t=0,e=this._tmpAssetsDepends;t<e.length;t++){var n=e[t];this._assetsReference[n]&&0!==this._assetsReference[n]&&(this._assetsReference[n]--,0===this._assetsReference[n]&&delete this._assetsReference[n])}this._tmpAssetsDepends=[]},t.prototype._checkIsBuiltinAssets=function(t){var e=cc.assetManager.assets.get(t);return!(!e||-1==e._name.indexOf("builtin"))},t.prototype.computeTextureCache=function(){var t=cc.assetManager.assets,e=0,n=0;return t.forEach(function(t){if("cc.Texture2D"==(t&&t.__classname__?t.__classname__:"")){var r=t,o=r.width*r.height*((".jpg"===r._native?3:4)/1024/1024);e+=o,n++}}),"\u7f13\u5b58 [\u7eb9\u7406\u603b\u6570:"+n+"][\u7eb9\u7406\u7f13\u5b58:"+e.toFixed(2)+"M]"},t.instance=null,t}();n.default=a,cc._RF.pop()},{"./CocosHelper":"CocosHelper"}],RoleMgr:[function(t,e,n){"use strict";cc._RF.push(e,"3b40fEGK7xLwYO1n0n2/Vh5","RoleMgr");var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../Common/Utils/utils"),a=t("../../Config/GlobalData"),s=function(){function t(){this._waitQueue=new Map,this._home=null,this._pos=null}return Object.defineProperty(t,"ins",{get:function(){return t._ins||(t._ins=new t),t._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(t,e){this._home=t,this._pos=e},t.prototype.welcome=function(t){return this.enqueue(t)},Object.defineProperty(t.prototype,"firstRole",{get:function(){return this._waitQueue.get(1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"waitSize",{get:function(){return this._waitQueue.size},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){var e=this._waitQueue.size,n=e+1;return t.awaitIndex=n,t.toPos(i.getPosByDesign(cc.v2(this._pos.x,this._pos.y-e*a.GlobalData.gameData.waitingSpeedY))),this._waitQueue.set(n,t),!0},t.prototype.updateSpareRoles=function(){return r(this,void 0,void 0,function(){var t,e,n;return o(this,function(){if(!(t=this._waitQueue.size))return[2];for(e=1;e<=t;e++){if(!(n=this._waitQueue.get(e)))return[2];1===e?(this._waitQueue.delete(e),n.awaitIndex=0):(n.awaitIndex=e-1,n.toPos(i.getPosByDesign(cc.v2(this._pos.x,this._pos.y-(e-2)*a.GlobalData.gameData.waitingSpeedY))),this._waitQueue.set(e-1,n))}return this._waitQueue.delete(t),[2]})})},t._ins=null,t}();n.default=s,cc._RF.pop()},{"../../Common/Utils/utils":"utils","../../Config/GlobalData":"GlobalData"}],SceneMgr:[function(t,e,n){"use strict";cc._RF.push(e,"df3116tk7BDOqeyh6sIDQKE","SceneMgr");var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./config/SysDefine"),a=t("./Struct"),s=t("./TipsMgr"),c=t("./UIManager"),u=function(){function t(){this._scenes=[]}return t.prototype.getCurrScene=function(){return c.default.getInstance().getForm(this._currScene.prefabUrl)},t.prototype.open=function(t,e,n){return r(this,void 0,void 0,function(){var r,i,s,u,l;return o(this,function(o){switch(o.label){case 0:return t=a.GetForm(t),r=t.prefabUrl,this._currScene&&this._currScene.prefabUrl==r?(cc.warn("SceneMgr","\u5f53\u524d\u573a\u666f\u548c\u9700\u8981open\u7684\u573a\u666f\u662f\u540c\u4e00\u4e2a"),[2,null]):[4,this.openLoading(null==n?void 0:n.loadingForm,e,n)];case 1:return o.sent(),this._scenes.length>0?(i=this._scenes[this._scenes.length-1],[4,c.default.getInstance().closeForm(i)]):[3,3];case 2:o.sent(),o.label=3;case 3:for(s=-1,u=0;u<this._scenes.length;u++)if(this._scenes[u].prefabUrl===t.prefabUrl){s=u;break}return-1==s?this._scenes.push(t):this._scenes.length=s+1,this._currScene=t,[4,c.default.getInstance().openForm(t,e,n)];case 4:return l=o.sent(),[4,this.closeLoading(null==n?void 0:n.loadingForm)];case 5:return o.sent(),[2,l]}})})},t.prototype.back=function(t,e){return r(this,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:return this._scenes.length<=1?(cc.warn("SceneMgr","\u5df2\u7ecf\u662f\u6700\u540e\u4e00\u4e2a\u573a\u666f\u4e86, \u65e0\u5904\u53ef\u9000"),[2]):[4,this.openLoading(null==e?void 0:e.loadingForm,t,e)];case 1:return r.sent(),n=this._scenes.pop(),[4,c.default.getInstance().closeForm(n)];case 2:return r.sent(),this._currScene=this._scenes[this._scenes.length-1],[4,c.default.getInstance().openForm(this._currScene,t,e)];case 3:return r.sent(),[4,this.closeLoading(null==e?void 0:e.loadingForm)];case 4:return r.sent(),[2]}})})},t.prototype.close=function(t,e,n){return r(this,void 0,void 0,function(){return o(this,function(){return t=a.GetForm(t),[2,c.default.getInstance().closeForm(t,e,n)]})})},t.prototype.openLoading=function(t,e,n){return r(this,void 0,void 0,function(){var r;return o(this,function(o){switch(o.label){case 0:return(r=t||i.SysDefine.defaultLoadingForm)?[4,s.default.open(r.prefabUrl,e,n)]:[2];case 1:return o.sent(),[2]}})})},t.prototype.closeLoading=function(t){return r(this,void 0,void 0,function(){var e;return o(this,function(n){switch(n.label){case 0:return(e=t||i.SysDefine.defaultLoadingForm)?[4,s.default.close(e.prefabUrl)]:[2];case 1:return n.sent(),[2]}})})},t}();n.default=new u,cc._RF.pop()},{"./Struct":"Struct","./TipsMgr":"TipsMgr","./UIManager":"UIManager","./config/SysDefine":"SysDefine"}],Scene:[function(t,e,n){"use strict";cc._RF.push(e,"b13f3yncLhOvJSRs1QLB0sR","Scene");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Logic/Game"),u=t("../UIFrame/AdapterMgr"),l=t("../UIFrame/EventCenter"),h=t("../UIFrame/EventType"),p=cc._decorator,f=p.ccclass,d=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndBlock=null,e._block=0,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){this.initBlockNode()},e.prototype.initBlockNode=function(){this.ndBlock=new cc.Node("block"),this.ndBlock.addComponent(cc.BlockInputEvents),this.node.addChild(this.ndBlock,cc.macro.MAX_ZINDEX)},e.prototype.start=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return n.inst=this,u.default.inst.adapteByType(u.AdapterType.StretchHeight|u.AdapterType.StretchWidth,this.node),[4,this.onGameInit()];case 1:return t.sent(),this.registerEvent(),[2]}})})},e.prototype.onGameInit=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,c.default.init(this.node)];case 1:return t.sent(),[2]}})})},e.prototype.registerEvent=function(){cc.sys.platform===cc.sys.WECHAT_GAME?(wx.onShow(this.onGameShow.bind(this)),wx.onHide(this.onGameHide.bind(this))):(cc.game.on(cc.game.EVENT_SHOW,this.onGameShow,this),cc.game.on(cc.game.EVENT_HIDE,this.onGameHide,this))},e.prototype.onGameShow=function(t){l.EventCenter.emit(h.EventType.GameShow,t),cc.director.resume()},e.prototype.onGameHide=function(){l.EventCenter.emit(h.EventType.GameHide),cc.director.pause()},e.prototype.update=function(t){c.default.update(t)},e.prototype.lateUpdate=function(){},e.prototype.setInputBlock=function(t){this.ndBlock?(t?++this._block:--this._block,this.ndBlock.active=this._block>0):cc.warn("\u672a\u542f\u7528 block input")},e.inst=null,n=i([f],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../Logic/Game":"Game","../UIFrame/AdapterMgr":"AdapterMgr","../UIFrame/EventCenter":"EventCenter","../UIFrame/EventType":"EventType"}],ScrollViewHelper:[function(t,e,n){"use strict";cc._RF.push(e,"90448z1fXJKVppxfCvCjY6W","ScrollViewHelper");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ScrollViewHelper=n.ScrollViewElementProxy=n.ScrollViewElementProxyState=void 0;var a,s=cc._decorator,c=s.ccclass,u=s.property;(function(t){t[t.NoUI=0]="NoUI",t[t.HaveUI=1]="HaveUI"})(a=n.ScrollViewElementProxyState||(n.ScrollViewElementProxyState={}));var l=function(){this.state=a.NoUI};n.ScrollViewElementProxy=l;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.syncInterval=.05,e._proxys=[],e._syncCounter=0,e._lastCheckX=0,e}return o(e,t),Object.defineProperty(e.prototype,"scrollView",{get:function(){return this._svCachedScrollView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"datas",{get:function(){return this._proxys},enumerable:!1,configurable:!0}),e.prototype.clearData=function(){for(var t=0,e=this._proxys;t<e.length;t++){var n=e[t];n.ui&&this.onFreeUI&&this.onFreeUI(n)}this._proxys.length=0},e.prototype.addData=function(t){this._initializeProxy(t),this._proxys.push(t)},e.prototype.setDebug=function(t){t&&!this._debugNode?(this._debugNode=(new cc.Node).addComponent(cc.Graphics),this.scrollView.content.addChild(this._debugNode.node),this._debugNode.node.setPosition(cc.v2(0,0))):!t&&this._debugNode&&(this._debugNode.node.removeFromParent(),this._debugNode.node.destroy()),this._refreshDebug()},e.prototype.checkUI=function(){this._checkUIState(),this._syncingUI=!0},e.prototype.setLoopHorizontal=function(t){if(t!=this._horizontalLoop){if(t){for(var e=this._proxys.length-1;e>=0;e--)if(!(r=this._proxys[e]).horizontalLoop){var n=new l;this._initializeProxy(n),n.src=r.src,n.region=new cc.Rect(r.region.x,r.region.y,r.region.width,r.region.height),n.horizontalLoop=!0,n.verticalLoop=r.verticalLoop,n.region.x+=this.scrollView.content.width,this._proxys.push(n)}this.scrollView.content.setContentSize(2*this.scrollView.content.width,this.scrollView.content.height)}else{for(e=this._proxys.length-1;e>=0;e--){var r;(r=this._proxys[e]).horizontalLoop&&r.ui&&(this.onFreeUI(r),r.ui=null,this._proxys.splice(e,1))}this.scrollView.content.setContentSize(this.scrollView.content.width/2,this.scrollView.content.height)}this._horizontalLoop=t}},e.prototype.onLoad=function(){this._bindScrollView(this.getComponent(cc.ScrollView))},e.prototype.update=function(t){this._syncingUI&&(this._syncCounter+=t,this._syncCounter>=this.syncInterval&&(this._syncCounter=0,this._syncUIState(1)))},e.prototype._initializeProxy=function(t){t.horizontalLoop=!1,t.src=t,t.state=a.NoUI,t.ui=null,t.verticalLoop=!1},e.prototype._checkLoopHorizontal=function(){var t=this.scrollView.getScrollOffset(),e=t.x-this._lastCheckX;if(Math.abs(e)>2){this._lastCheckX=t.x;var n=this.scrollView.content.width/2;e<0&&t.x<-n?(t.x+=n,this._lastCheckX=t.x,t.x=-t.x,this.scrollView.scrollToOffset(t)):e>0&&t.x>0&&(t.x-=n,this._lastCheckX=t.x,t.x=-t.x,this.scrollView.scrollToOffset(t))}},e.prototype._bindScrollView=function(){this._svCachedScrollView=this.getComponent(cc.ScrollView);var t=new cc.Component.EventHandler;t.target=this.node,t.component="ScrollViewHelper",t.handler="_onScroll",this._svCachedScrollView.scrollEvents.push(t),this._svCachedScrollView.node.on(cc.Node.EventType.SIZE_CHANGED,this._refreshViewportRect,this),this._svCachedScrollView.content.on(cc.Node.EventType.ANCHOR_CHANGED,this._refreshViewportRect,this),this._svCachedScrollView.content.on(cc.Node.EventType.SIZE_CHANGED,this._refreshViewportRect,this),this._refreshViewportRect()},e.prototype._refreshViewportRect=function(){this._rectCachedViewport=cc.rect(),this._rectCachedViewport.size=this._svCachedScrollView.node.getContentSize(),this._rectCachedViewport.origin=cc.v2(-this._svCachedScrollView.content.anchorX*this._svCachedScrollView.content.width,(1-this._svCachedScrollView.content.anchorY)*this._svCachedScrollView.content.height-this._rectCachedViewport.size.height),this._checkUIState(),this._syncingUI=!0},e.prototype._checkUIState=function(){for(var t=this._svCachedScrollView.getScrollOffset(),e=this._rectCachedViewport.width,n=this._rectCachedViewport.height,r=-t.x+this._rectCachedViewport.x,o=-t.y+this._rectCachedViewport.y,i=0,s=this._proxys;i<s.length;i++){var c=s[i],u=c.region,l=u.x,h=u.y;l>r-u.width&&l<r+e&&h>o-u.height&&h<o+n?c.state=a.HaveUI:c.state=a.NoUI}},e.prototype._syncUIState=function(t){for(var e=0,n=0,r=this._proxys;n<r.length;n++)(s=r[n]).state==a.NoUI&&s.ui&&(this.onFreeUI(s),e++,this._debugNode&&cc.log("ScrollViewHelper._syncUIState ----\x3e free ui"));for(var o=0,i=this._proxys;o<i.length;o++){var s;if((s=i[o]).state==a.HaveUI&&!s.ui){var c=this.isUIPooled&&this.isUIPooled(s);this.onAllocUI(s),e++,c||t--,this._debugNode&&cc.log("ScrollViewHelper._syncUIState ----\x3e alloc ui")}if(t<=0)break}e<=0&&(this._syncingUI=!1)},e.prototype._onScroll=function(){this._horizontalLoop&&this._checkLoopHorizontal(),this._checkUIState(),this._syncingUI=!0},e.prototype._refreshDebug=function(){if(this._debugNode){this._debugNode.clear(),this._debugNode.fillColor=cc.color(255,0,0,255);for(var t=0;t<this._proxys.length;t++)this._debugNode.fillRect(this._proxys[t].region.x,this._proxys[t].region.y,this._proxys[t].region.width,this._proxys[t].region.height)}},i([u()],e.prototype,"syncInterval",void 0),i([c],e)}(cc.Component);n.ScrollViewHelper=h,cc._RF.pop()},{}],Shake:[function(t,e,n){"use strict";cc._RF.push(e,"50dd1CK5CZDxKf4hgecFu92","Shake");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._initial_x=0,e._initial_y=0,e._strength_x=0,e._strength_y=0,e}var n;return o(e,t),n=e,e.create=function(t,e,r){var o=new n;return o.initWithDuration(t,e,r),o},e.prototype.initWithDuration=function(t,e,n){return cc.ActionInterval.prototype.initWithDuration.apply(this,arguments),this._strength_x=e,this._strength_y=n,!0},e.prototype.fgRangeRand=function(t,e){return Math.random()*(e-t)+t},e.prototype.update=function(){var t=this.fgRangeRand(-this._strength_x,this._strength_x),e=this.fgRangeRand(-this._strength_y,this._strength_y);this.getTarget().setPosition(t+this._initial_x,e+this._initial_y)},e.prototype.startWithTarget=function(t){cc.ActionInterval.prototype.startWithTarget.apply(this,arguments),this._initial_x=t.x,this._initial_y=t.y},e.prototype.stop=function(){this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y)),cc.ActionInterval.prototype.stop.apply(this)},n=i([s],e)}(cc.ActionInterval));n.default=c,cc._RF.pop()},{}],SoundMgr:[function(t,e,n){"use strict";cc._RF.push(e,"53a8cu6MiRDyaBRISmEhgTZ","SoundMgr");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./CocosHelper"),u=t("./config/SysDefine"),l=cc._decorator,h=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioCache=cc.js.createMap(),e.currEffectId=-1,e.currMusicId=-1,e.volume=new f,e}return o(e,t),Object.defineProperty(e,"inst",{get:function(){return null==this._inst&&(this._inst=cc.find(u.SysDefine.SYS_UIROOT_NAME).addComponent(this)),this._inst},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t=this.getVolumeToLocal();t?this.volume=t:(this.volume.musicVolume=1,this.volume.effectVolume=1),this.setVolumeToLocal(),cc.game.on(cc.game.EVENT_HIDE,function(){cc.audioEngine.pauseAll()},this),cc.game.on(cc.game.EVENT_SHOW,function(){cc.audioEngine.resumeAll()},this)},e.prototype.getVolume=function(){return this.volume},e.prototype.start=function(){},e.prototype.setMusicVolume=function(t){this.volume.musicVolume=t,this.setVolumeToLocal()},e.prototype.setEffectVolume=function(t){this.volume.effectVolume=t,this.setVolumeToLocal()},e.prototype.playMusic=function(t,e){return void 0===e&&(e=!0),a(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:return t&&""!==t?this.audioCache[t]?(cc.audioEngine.playMusic(this.audioCache[t],e),[2]):[4,c.default.loadResSync(t,cc.AudioClip)]:[2];case 1:return n=r.sent(),this.audioCache[t]=n,this.currMusicId=cc.audioEngine.playMusic(n,e),[2]}})})},e.prototype.playEffect=function(t,e){return void 0===e&&(e=!1),a(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:return t&&""!==t?this.audioCache[t]?(cc.audioEngine.playEffect(this.audioCache[t],e),[2]):[4,c.default.loadResSync(t,cc.AudioClip)]:[2];case 1:return n=r.sent(),this.audioCache[t]=n,this.currEffectId=cc.audioEngine.playEffect(n,e),[2]}})})},e.prototype.getVolumeToLocal=function(){var t=cc.sys.localStorage.getItem("Volume_For_Creator");return t?JSON.parse(t):null},e.prototype.setVolumeToLocal=function(){cc.audioEngine.setMusicVolume(this.volume.musicVolume),cc.audioEngine.setEffectsVolume(this.volume.effectVolume),cc.sys.localStorage.setItem("Volume_For_Creator",JSON.stringify(this.volume))},e.prototype.setEffectActive=function(t,e){void 0===e&&(e=-1),t?cc.audioEngine.stop(e<0?this.currEffectId:e):cc.audioEngine.resume(e<0?this.currEffectId:e)},e._inst=null,i([h],e)}(cc.Component));n.default=p;var f=function(){};cc._RF.pop()},{"./CocosHelper":"CocosHelper","./config/SysDefine":"SysDefine"}],SpinePlus:[function(t,e,n){"use strict";cc._RF.push(e,"30062r80kNGeKSQLxsTnRWf","SpinePlus");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=a.executeInEditMode,l=a.menu,h=a.help,p=a.inspector,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.paused=!1,e}return o(e,t),e.prototype.start=function(){},e.prototype.update=function(e){t.prototype.update.call(this,e)},i([c({override:!0,visible:!0})],e.prototype,"paused",void 0),i([s,l("i18n:MAIN_MENU.component.ui/SpinePlus"),u,h("app://docs/html/components/spine.html"),p("packages://custom-inspector/inspector/spine.js")],e)}(sp.Skeleton);n.default=f,cc._RF.pop()},{}],StateMachine:[function(t,e,n){"use strict";var r;cc._RF.push(e,"a7054SKrgdF4Z4s5xp++8qZ","StateMachine"),r={VERSION:"2.4.0",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(t,e){var n="string"==typeof t.initial?{state:t.initial}:t.initial,o=t.terminal||t.final,i=e||t.target||{},a=t.events||[],s=t.callbacks||{},c={},u={},l=function(t){var e=Array.isArray(t.from)?t.from:t.from?[t.from]:[r.WILDCARD];c[t.name]=c[t.name]||{};for(var n=0;n<e.length;n++)u[e[n]]=u[e[n]]||[],u[e[n]].push(t.name),c[t.name][e[n]]=t.to||e[n];t.to&&(u[t.to]=u[t.to]||[])};n&&(n.event=n.event||"startup",l({name:n.event,from:"none",to:n.state}));for(var h=0;h<a.length;h++)l(a[h]);for(var p in c)c.hasOwnProperty(p)&&(i[p]=r.buildEvent(p,c[p]));for(var p in s)s.hasOwnProperty(p)&&(i[p]=s[p]);return i.current="none",i.is=function(t){return Array.isArray(t)?t.indexOf(this.current)>=0:this.current===t},i.can=function(t){return!this.transition&&void 0!==c[t]&&(c[t].hasOwnProperty(this.current)||c[t].hasOwnProperty(r.WILDCARD))},i.cannot=function(t){return!this.can(t)},i.transitions=function(){return(u[this.current]||[]).concat(u[r.WILDCARD]||[])},i.isFinished=function(){return this.is(o)},i.error=t.error||function(t,e,n,r,o,i,a){throw a||i},i.states=function(){return Object.keys(u).sort()},n&&!n.defer&&i[n.event](),i},doCallback:function(t,e,n,o,i,a){if(e)try{return e.apply(t,[n,o,i].concat(a))}catch(s){return t.error(n,o,i,a,r.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",s)}},beforeAnyEvent:function(t,e,n,o,i){return r.doCallback(t,t.onbeforeevent,e,n,o,i)},afterAnyEvent:function(t,e,n,o,i){return r.doCallback(t,t.onafterevent||t.onevent,e,n,o,i)},leaveAnyState:function(t,e,n,o,i){return r.doCallback(t,t.onleavestate,e,n,o,i)},enterAnyState:function(t,e,n,o,i){return r.doCallback(t,t.onenterstate||t.onstate,e,n,o,i)},changeState:function(t,e,n,o,i){return r.doCallback(t,t.onchangestate,e,n,o,i)},beforeThisEvent:function(t,e,n,o,i){return r.doCallback(t,t["onbefore"+e],e,n,o,i)},afterThisEvent:function(t,e,n,o,i){return r.doCallback(t,t["onafter"+e]||t["on"+e],e,n,o,i)},leaveThisState:function(t,e,n,o,i){return r.doCallback(t,t["onleave"+n],e,n,o,i)},enterThisState:function(t,e,n,o,i){return r.doCallback(t,t["onenter"+o]||t["on"+o],e,n,o,i)},beforeEvent:function(t,e,n,o,i){if(!1===r.beforeThisEvent(t,e,n,o,i)||!1===r.beforeAnyEvent(t,e,n,o,i))return!1},afterEvent:function(t,e,n,o,i){r.afterThisEvent(t,e,n,o,i),r.afterAnyEvent(t,e,n,o,i)},leaveState:function(t,e,n,o,i){var a=r.leaveThisState(t,e,n,o,i),s=r.leaveAnyState(t,e,n,o,i);return!1!==a&&!1!==s&&(r.ASYNC===a||r.ASYNC===s?r.ASYNC:void 0)},enterState:function(t,e,n,o,i){r.enterThisState(t,e,n,o,i),r.enterAnyState(t,e,n,o,i)},buildEvent:function(t,e){return function(){var n=this.current,o=e[n]||(e[r.WILDCARD]!=r.WILDCARD?e[r.WILDCARD]:n)||n,i=Array.prototype.slice.call(arguments);if(this.transition)return this.error(t,n,o,i,r.Error.PENDING_TRANSITION,"event "+t+" inappropriate because previous transition did not complete");if(this.cannot(t))return this.error(t,n,o,i,r.Error.INVALID_TRANSITION,"event "+t+" inappropriate in current state "+this.current);if(!1===r.beforeEvent(this,t,n,o,i))return r.Result.CANCELLED;if(n===o)return r.afterEvent(this,t,n,o,i),r.Result.NOTRANSITION;var a=this;this.transition=function(){return a.transition=null,a.current=o,r.enterState(a,t,n,o,i),r.changeState(a,t,n,o,i),r.afterEvent(a,t,n,o,i),r.Result.SUCCEEDED},this.transition.cancel=function(){a.transition=null,r.afterEvent(a,t,n,o,i)};var s=r.leaveState(this,t,n,o,i);return!1===s?(this.transition=null,r.Result.CANCELLED):r.ASYNC===s?r.Result.PENDING:this.transition?this.transition():void 0}}},void 0!==n?(void 0!==e&&e.exports&&(n=e.exports=r),n.StateMachine=r):"function"==typeof define&&define.amd?define(function(){return r}):"undefined"!=typeof window?window.StateMachine=r:"undefined"!=typeof self&&(self.StateMachine=r),cc._RF.pop()},{}],Struct:[function(t,e,n){"use strict";cc._RF.push(e,"10f94bOjGlIYIzXaowVjrbs","Struct"),Object.defineProperty(n,"__esModule",{value:!0}),n.ECloseType=n.EPriority=n.GetForm=n.ModalType=void 0;var r=t("./config/SysDefine"),o=function(){function t(t,e,n,o){void 0===t&&(t=r.ModalOpacity.OpacityHalf),void 0===e&&(e=!1),void 0===n&&(n=!0),void 0===o&&(o=.2),this.opacity=r.ModalOpacity.OpacityHalf,this.clickMaskClose=!1,this.isEasing=!0,this.easingTime=.2,this.dualBlur=!1,this.opacity=t,this.clickMaskClose=e,this.isEasing=n,this.easingTime=o}return t.prototype.useBlur=function(){return this.dualBlur=!0,this},t}();n.ModalType=o,n.GetForm=function(t,e){return void 0===e&&(e=r.FormType.Screen),"string"==typeof t?{prefabUrl:t,type:e}:t},function(t){t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.TWO=2]="TWO",t[t.THREE=3]="THREE",t[t.FOUR=4]="FOUR",t[t.FIVE=5]="FIVE",t[t.SIX=6]="SIX",t[t.SEVEN=7]="SEVEN",t[t.EIGHT=8]="EIGHT",t[t.NINE=9]="NINE"}(n.EPriority||(n.EPriority={})),function(t){t[t.CloseAndHide=0]="CloseAndHide",t[t.CloseAndDestory=1]="CloseAndDestory",t[t.LRU=2]="LRU"}(n.ECloseType||(n.ECloseType={})),cc._RF.pop()},{"./config/SysDefine":"SysDefine"}],SysConfig:[function(t,e,n){"use strict";cc._RF.push(e,"9963eJiicZFX5wMEhMsIL+C","SysConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.SysConfig=void 0;var r=function(){function t(){}return t.useLRUCache=!1,t}();n.SysConfig=r,cc._RF.pop()},{}],SysDefine:[function(t,e,n){"use strict";cc._RF.push(e,"7ef5dNjssZO34e85HHLM2ES","SysDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.SysDefine=n.UIState=n.ModalOpacity=n.FormType=void 0;var r=t("../../UIConfig");(function(t){t.Screen="UIScreen",t.Drawer="UIDrawer",t.Fixed="UIFixed",t.Window="UIWindow",t.Toast="UIToast",t.Tips="UITips"})(n.FormType||(n.FormType={})),function(t){t[t.None=0]="None",t[t.OpacityZero=1]="OpacityZero",t[t.OpacityLow=2]="OpacityLow",t[t.OpacityHalf=3]="OpacityHalf",t[t.OpacityHigh=4]="OpacityHigh",t[t.OpacityFull=5]="OpacityFull",t[t.GuassBlur=6]="GuassBlur"}(n.ModalOpacity||(n.ModalOpacity={})),function(t){t[t.None=0]="None",t[t.Loading=1]="Loading",t[t.Showing=2]="Showing",t[t.Hiding=3]="Hiding"}(n.UIState||(n.UIState={}));var o=function(){function t(){}return t.defaultLoadingForm=r.default.UILoading,t.SYS_PATH_CANVAS="Canvas",t.SYS_PATH_UIFORMS_CONFIG_INFO="UIFormsConfigInfo",t.SYS_PATH_CONFIG_INFO="SysConfigInfo",t.SYS_UIROOT_NAME="Canvas/Scene/UIROOT",t.SYS_UIMODAL_NAME="Canvas/Scene/UIROOT/UIModalManager",t.SYS_UIAdapter_NAME="Canvas/Scene/UIROOT/UIAdapterManager",t.SYS_SCENE_NODE="Scene",t.SYS_UIROOT_NODE="UIROOT",t.SYS_SCREEN_NODE="Screen",t.SYS_DRAWER_NODE="Drawer",t.SYS_FIXED_NODE="FixedUI",t.SYS_POPUP_NODE="PopUp",t.SYS_TOPTIPS_NODE="TopTips",t.SYS_TOAST_NODE="Toast",t.SYS_MODAL_NODE="UIModalNode",t.SYS_STANDARD_Prefix="_",t.SYS_STANDARD_Separator="$",t.SYS_STANDARD_End="#",t.UI_PATH_ROOT="UIForms/",t.SeparatorMap={_Node:"cc.Node",_Label:"cc.Label",_Button:"cc.Button",_Sprite:"cc.Sprite",_RichText:"cc.RichText",_Mask:"cc.Mask",_MotionStreak:"cc.MotionStreak",_TiledMap:"cc.TiledMap",_TiledTile:"cc.TiledTile",_Spine:"sp.Skeleton",_Graphics:"cc.Graphics",_Animation:"cc.Animation",_WebView:"cc.WebView",_EditBox:"cc.EditBox",_ScrollView:"cc.ScrollView",_VideoPlayer:"cc.VideoPlayer",_ProgressBar:"cc.ProgressBar",_PageView:"cc.PageView",_Slider:"cc.Slider",_Toggle:"cc.Toggle",_ButtonPlus:"ButtonPlus"},t}();n.SysDefine=o,cc._RF.pop()},{"../../UIConfig":"UIConfig"}],TableMgr:[function(t,e,n){"use strict";cc._RF.push(e,"9d6darNywdMQb+BzcUyTUVK","TableMgr"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../Config/GlobalData"),o=t("../../Enum/MessageType"),i=t("../base/BaseTable"),a=function(){function t(){this._home=null,this._tableArr=[]}return Object.defineProperty(t,"ins",{get:function(){return t._ins||(t._ins=new t),t._ins},enumerable:!1,configurable:!0}),t.prototype.queryNullTable=function(){return this._tableArr.find(function(t){return t.state===o.TableType.NONE})},t.prototype.init=function(t){this._home=t},t.prototype.addTable=function(){for(var t,e=0,n=r.GlobalData.tableData;e<n.length;e++){var o=n[e],a=this._home.tablePool.get();if(!a)return;a.setPosition(cc.v2(o.x,o.y)),this._home.view.Obs.addChild(a);var s=a.getComponent(i.default);s.init(this._home),this._tableArr.push(s)}(t=this._home).updateMap.apply(t,this._home.view.Obs.children)},t._ins=null,t}();n.default=a,cc._RF.pop()},{"../../Config/GlobalData":"GlobalData","../../Enum/MessageType":"MessageType","../base/BaseTable":"BaseTable"}],TaskMgr:[function(t,e,n){"use strict";cc._RF.push(e,"a001c6UsFtNA5aXLrNhEDJy","TaskMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.Command=n.CommandType=void 0;var r=t("./PriorityQueue");n.CommandType||(n.CommandType={});n.Command=function(){};var o=function(){function t(){this._cmdMap=cc.js.createMap(),this._debugHistory=[],this._debug=!1}return Object.defineProperty(t,"inst",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.setDebug=function(t){void 0===t&&(t=!0),this._debug=t},t.prototype.pushCommand=function(t,e,n){void 0===n&&(n=0),this._debug&&this._debugHistory.push(e);var o=this._cmdMap[t];o||(o=this._cmdMap[t]=new r.default),o.enqueue(e,n)},t.prototype.popCommand=function(t){var e=this._cmdMap[t];return e?e.dequeue():null},t.prototype.hasCommand=function(t,e){if(e)return this._cmdMap[e].hasElement(t);for(var n in this._cmdMap)if(this._cmdMap[n].hasElement(t))return!0;return!1},t._instance=null,t}();n.default=o,cc._RF.pop()},{"./PriorityQueue":"PriorityQueue"}],TextureAssembler:[function(t,e,n){"use strict";cc._RF.push(e,"e0687tDW69CxalPcgT1Omra","TextureAssembler");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Utils/CommonUtils"),a=cc.gfx,s=new a.VertexFormat([{name:a.ATTR_POSITION,type:a.ATTR_TYPE_FLOAT32,num:2},{name:a.ATTR_UV0,type:a.ATTR_TYPE_FLOAT32,num:2},{name:a.ATTR_COLOR,type:a.ATTR_TYPE_UINT8,num:4,normalize:!0}]),c=function(t){function e(){var e=t.call(this)||this;return e.verticesCount=4,e.indicesCount=6,e.floatsPerVert=5,e.uvOffset=2,e.colorOffset=4,e._renderData=null,e._renderData=new cc.RenderData,e._renderData.init(e),e.initData(),e}return o(e,t),Object.defineProperty(e.prototype,"verticesFloats",{get:function(){return this.verticesCount*this.floatsPerVert},enumerable:!1,configurable:!0}),e.prototype.getVfmt=function(){return s},e.prototype.getBuffer=function(){return cc.renderer._handle.getBuffer("mesh",this.getVfmt())},e.prototype.initData=function(){this._renderData.createQuadData(0,this.verticesFloats,this.indicesCount)},e.prototype.resetData=function(t){var e=t.polygon;!e||e.length<3||(this.verticesCount=e.length,this.indicesCount=this.verticesCount+2*(this.verticesCount-3),this._renderData.clear(),this.initData())},e.prototype.initQuadIndices=function(t,e){for(var n=0;n<e.length;n++)t[n]=e[n]},e.prototype.updateColor=function(t,e){var n=this._renderData.uintVDatas[0];if(n){e=null!=e?e:t.node.color._val;for(var r=this.floatsPerVert,o=this.colorOffset,i=t.polygon,a=0;a<i.length;a++)n[o+a*r]=e}},e.prototype.updateUVs=function(t){for(var e=this.uvOffset,n=this.floatsPerVert,r=this._renderData.vDatas[0],o=i.CommonUtils.computeUv(t.polygon,t.node.width,t.node.height),a=t.polygon,s=0;s<a.length;s++){var c=n*s+e;r[c]=o[s].x,r[c+1]=o[s].y}},e.prototype.updateWorldVertsWebGL=function(t){var e=this._renderData.vDatas[0],n=t.node._worldMatrix.m,r=n[0],o=n[1],i=n[4],a=n[5],s=n[12],c=n[13],u=1===r&&0===o&&0===i&&1===a,l=this.floatsPerVert;if(u)for(var h=t.polygon,p=0;p<h.length;p++)e[p*l]=h[p].x+s,e[p*l+1]=h[p].y+c;else for(h=t.polygon,p=0;p<h.length;p++)e[p*l]=r*h[p].x+i*h[p].y+s,e[p*l+1]=o*h[p].x+a*h[p].y+c},e.prototype.updateWorldVertsNative=function(t){for(var e=this._renderData.vDatas[0],n=this.floatsPerVert,r=t.polygon,o=0;o<r.length;o++)e[o*n]=r[o].x,e[o*n+1]=r[o].y},e.prototype.updateWorldVerts=function(t){this.updateWorldVertsWebGL(t)},e.prototype.updateVerts=function(t){var e=i.CommonUtils.splitePolygon(t.polygon);this.initQuadIndices(this._renderData.iDatas[0],e),this.updateWorldVerts(t)},e.prototype.updateRenderData=function(t){t._vertsDirty&&(this.resetData(t),this.updateUVs(t),this.updateVerts(t),this.updateColor(t,null),t._vertsDirty=!1)},e.prototype.fillBuffers=function(t,e){e.worldMatDirty&&this.updateWorldVerts(t);var n=this._renderData,r=n.vDatas[0],o=n.iDatas[0],i=this.getBuffer(),a=i.request(this.verticesCount,this.indicesCount),s=a.byteOffset>>2,c=i._vData;r.length+s>c.length?c.set(r.subarray(0,c.length-s),s):c.set(r,s);for(var u=i._iData,l=a.indiceOffset,h=a.vertexOffset,p=0,f=o.length;p<f;p++)u[l++]=h+o[p]},e.prototype.packToDynamicAtlas=function(t,e){if(!e._original&&cc.dynamicAtlasManager&&e._texture.packable){var n=cc.dynamicAtlasManager.insertSpriteFrame(e);n&&e._setDynamicAtlasFrame(n)}var r=t._materials[0];r&&r.getProperty("texture")!==e._texture&&(t._vertsDirty=!0,t._updateMaterial())},e}(cc.Assembler);n.default=c,cc._RF.pop()},{"../Utils/CommonUtils":"CommonUtils"}],TexturePlus:[function(t,e,n){"use strict";cc._RF.push(e,"58ad8KR/hRJi7EtoZ+PAyOU","TexturePlus");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,s=t("../Assemblers/TextureAssembler"),c=t("../Utils/CommonUtils");cc.renderer.renderEngine,function(t){t[t.Cut=0]="Cut",t[t.Stretch=1]="Stretch"}(a||(a={}));var u=new cc.Vec2,l=new cc.Mat4,h=cc._decorator,p=h.ccclass,f=h.menu,d=h.executeInEditMode,_=h.mixins,y=h.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._texture=null,e._polygon=[],e.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,e.dstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA,e.editing=!1,e._assembler=null,e}return o(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t;var e=-t.width/2,n=-t.height/2,r=t.height/2,o=t.width/2;this.polygon=[cc.v2(e,n),cc.v2(o,n),cc.v2(o,r),cc.v2(e,r)],this.node.width=t.width,this.node.height=t.height,this._updateMaterial()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygon",{get:function(){return this._polygon},set:function(t){this._polygon=t,this._updateVerts()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.node._hitTest=this._hitTest.bind(this)},e.prototype.start=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(){console.log("click texture plus")},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){t.node.x+=e.getDeltaX(),t.node.y+=e.getDeltaY()},this)},e.prototype._updateVerts=function(){this.setVertsDirty()},e.prototype._updateMaterial=function(){var t=this._texture,e=this.getMaterial(0);e&&(void 0!==e.getDefine("USE_TEXTURE")&&e.define("USE_TEXTURE",!0),e.setProperty("texture",t)),this.__proto__._updateBlendFunc.call(this),this.setVertsDirty()},e.prototype._validateRender=function(){},e.prototype._resetAssembler=function(){(this._assembler=new s.default).init(this),this._updateColor(),this.setVertsDirty()},e.prototype._hitTest=function(t){var e=this.node,n=e.getContentSize(),r=(n.width,n.height,u);return e._updateWorldMatrix(),!!cc.Mat4.invert(l,e._worldMatrix)&&(cc.Vec2.transformMat4(r,t,l),c.CommonUtils.isInPolygon(r,this.polygon))},e.Type=a,i([y(cc.Texture2D)],e.prototype,"_texture",void 0),i([y(cc.Texture2D)],e.prototype,"texture",null),i([y({type:[cc.Vec2],serializable:!0})],e.prototype,"_polygon",void 0),i([y({type:[cc.Vec2],serializable:!0})],e.prototype,"polygon",null),i([y({type:cc.Enum(cc.macro.BlendFactor),override:!0})],e.prototype,"srcBlendFactor",void 0),i([y({type:cc.Enum(cc.macro.BlendFactor),override:!0})],e.prototype,"dstBlendFactor",void 0),i([y(cc.Boolean)],e.prototype,"editing",void 0),i([p,d,f("i18n:MAIN_MENU.component.ui/TexturePlus"),_(cc.BlendFunc)],e)}(cc.RenderComponent);n.default=v,cc._RF.pop()},{"../Assemblers/TextureAssembler":"TextureAssembler","../Utils/CommonUtils":"CommonUtils"}],TipsMgr:[function(t,e,n){"use strict";cc._RF.push(e,"f0adbheCVRBErVSp07wosNT","TipsMgr");var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./config/SysDefine"),a=t("./Struct"),s=t("./UIManager"),c=function(){function t(){}return t.prototype.open=function(t,e,n){return r(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return t=a.GetForm(t,i.FormType.Tips),[4,s.default.getInstance().openForm(t,e,n)];case 1:return[2,r.sent()]}})})},t.prototype.close=function(t,e,n){return r(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return t=a.GetForm(t,i.FormType.Tips),[4,s.default.getInstance().closeForm(t,e,n)];case 1:return[2,r.sent()]}})})},t}();n.default=new c,cc._RF.pop()},{"./Struct":"Struct","./UIManager":"UIManager","./config/SysDefine":"SysDefine"}],ToastMgr:[function(t,e,n){"use strict";cc._RF.push(e,"68e22m/kRFCA4LrPLsSxzY9","ToastMgr");var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Common/Utils/Pool"),a=t("./config/SysDefine"),s=t("./EventCenter"),c=t("./ResMgr"),u=t("./Struct"),l=t("./UIForm"),h=t("./UIManager"),p=function(){function t(){this._pools=cc.js.createMap(),this._showingToast=cc.js.createMap()}return t.prototype.open=function(t,e){return r(this,void 0,void 0,function(){var n,r,i;return o(this,function(o){switch(o.label){case 0:return t=u.GetForm(t,a.FormType.Toast),n=this._pools[t.prefabUrl],console.log(n,t.prefabUrl),n?[3,2]:[4,this.genPool(t.prefabUrl)];case 1:n=o.sent(),o.label=2;case 2:return r=n.alloc(),[4,h.default.getInstance().enterToToast(r,e)];case 3:return o.sent(),(i=this._showingToast[t.prefabUrl])||(i=this._showingToast[t.prefabUrl]=new Array),i.push(r),[2,r]}})})},t.prototype.close=function(t,e){return r(this,void 0,void 0,function(){var n,r;return o(this,function(o){switch(o.label){case 0:return[4,h.default.getInstance().exitToToast(t,e)];case 1:if(o.sent(),console.log(t.fid),!this._pools[t.fid])return[2];if(this._pools[t.fid].free(t),!(n=this._showingToast[t.fid]))return[2];for(r=n.length-1;r>=0;r--)if(n[r].uuid===t.uuid){n.splice(r,1);break}return[2]}})})},t.prototype.genPool=function(t){return r(this,void 0,void 0,function(){var e;return o(this,function(n){switch(n.label){case 0:return[4,c.default.inst.loadFormPrefab(t)];case 1:return e=n.sent(),[2,this._pools[t]=new i.Pool(function(){var n=cc.instantiate(e);h.default.getInstance().addNode(n);var r=n.getComponent(l.UIToast);return r.fid=t,r},3)]}})})},t.prototype.clearToasts=function(t){var e=this._pools[t];if(e){var n=this._showingToast[t];if(n){for(var r=0,o=n;r<o.length;r++){var i=o[r];e.free(i)}e.clear(function(t){t.node.destroy(),s.EventCenter.targetOff(t)}),c.default.inst.destoryFormPrefab(t),this._pools[t]=null,delete this._pools[t],this._showingToast[t]=null,delete this._showingToast[t]}}},t.prototype.checkHasShowingToast=function(t){return this._showingToast[t].length>0},t}();n.default=new p,cc._RF.pop()},{"../Common/Utils/Pool":"Pool","./EventCenter":"EventCenter","./ResMgr":"ResMgr","./Struct":"Struct","./UIForm":"UIForm","./UIManager":"UIManager","./config/SysDefine":"SysDefine"}],TouchPlus:[function(t,e,n){"use strict";cc._RF.push(e,"1c88eM+YFpH45yVr93vRF2l","TouchPlus");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offset=15,e.isTouch=!1,e.isClick=!0,e}return o(e,t),e.prototype.addEvent=function(t,e){this.clickEvent=t,this.slideEvent=e},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this)},e.prototype.touchStart=function(t){this.isTouch=!0,this.startPosition=t.getLocation()},e.prototype.touchMove=function(t){this.isTouch&&t.getLocation().sub(this.startPosition).mag()>this.offset&&(this.isClick=!1,this.slideEvent&&this.slideEvent(t))},e.prototype.touchEnd=function(t){this.isTouch&&(this.isTouch=!1,this.isClick&&this.clickEvent&&this.clickEvent(t),this.isClick=!0)},e.prototype.touchCancel=function(){this.isTouch&&(this.isTouch=!1,this.isClick=!0)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this)},i([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],UIBase:[function(t,e,n){"use strict";cc._RF.push(e,"e39bcXBPZZJwbPmOzg0+yw0","UIBase");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./Struct"),c=t("./AdapterMgr"),u=t("./ResMgr"),l=t("./FormMgr"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fid="",e.formData=null,e.formType=null,e.closeType=null,e._inited=!1,e.view=null,e.model=null,e._blocker=null,e}return o(e,t),e.open=function(t,e){var n=this.UIConfig;n?l.default.open(n,t,e):cc.warn("sorry UIConfig is null, please check AutoConfig")},e.close=function(){l.default.close(this.UIConfig)},e.prototype._preInit=function(t){return i(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return this._inited?[2]:(this._inited=!0,this.view=this.getComponent(this.node.name+"_Auto"),[4,this.load(t)]);case 1:return(e=n.sent())?(cc.error(e),this.closeSelf(),[2]):(this.onInit(t),[2])}})})},e.prototype.load=function(){return i(this,void 0,Promise,function(){return a(this,function(){return[2,null]})})},e.prototype.onInit=function(){},e.prototype.onShow=function(){},e.prototype.onAfterShow=function(){},e.prototype.onHide=function(){},e.prototype.onAfterHide=function(){},e.prototype.closeSelf=function(t){return i(this,void 0,Promise,function(){return a(this,function(e){switch(e.label){case 0:return[4,l.default.close(s.GetForm(this.fid,this.formType),t)];case 1:return[2,e.sent()]}})})},e.prototype.showEffect=function(){return i(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.hideEffect=function(){return i(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.setBlockInput=function(t){if(!this._blocker){var e=new cc.Node("block_input_events");this._blocker=e.addComponent(cc.BlockInputEvents),this._blocker.node.setContentSize(c.default.inst.visibleSize),this.node.addChild(this._blocker.node,cc.macro.MAX_ZINDEX)}this._blocker.node.active=t},e.prototype.loadRes=function(t,e){return i(this,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return[4,u.default.inst.loadDynamicRes(t,e,this.fid)];case 1:return[2,n.sent()]}})})},e}(cc.Component);n.default=h,cc.UIBase=h,cc._RF.pop()},{"./AdapterMgr":"AdapterMgr","./FormMgr":"FormMgr","./ResMgr":"ResMgr","./Struct":"Struct"}],UIConfig:[function(t,e,n){"use strict";cc._RF.push(e,"146c1Cgz6VBgbdJJq7LiwWK","UIConfig"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.UIHome={prefabUrl:"Prefab/Screen/UIHome",type:"UIScreen"},t.UIRecipe={prefabUrl:"Prefab/Screen/UIRecipe",type:"UIWindow"},t.UIRecipeInfo={prefabUrl:"Prefab/Screen/UIRecipeInfo",type:"UIWindow"},t.UITop={prefabUrl:"Prefab/Screen/UITop",type:"UIFixed"},t.UIWorkDesk={prefabUrl:"Prefab/Screen/UIWorkDesk",type:"UIDrawer"},t.UILoading={prefabUrl:"Prefab/Tips/UILoading",type:"UITips"},t.UIToast1={prefabUrl:"Prefab/Toast/UIToast1",type:"UIToast"},t}();n.default=r,cc.game.on(cc.game.EVENT_GAME_INITED,function(){for(var t in r){var e=cc.js.getClassByName(t);if(!e){var n=r[t].prefabUrl.split("/");if(!n||n.length<=0)continue;var o=n[n.length-1];e=cc.js.getClassByName(o)}e.UIConfig=r[t]}}),cc._RF.pop()},{}],UIForm:[function(t,e,n){"use strict";cc._RF.push(e,"c37basMGP5Pc7Er41uB3gdC","UIForm");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.UIToast=n.UITips=n.UIFixed=n.UIDrawer=n.UIWindow=n.UIScreen=void 0;var s=t("./CocosHelper"),c=t("./config/SysDefine"),u=t("./FormMgr"),l=t("./Struct"),h=t("./UIBase"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formType=c.FormType.Screen,e.closeType=l.ECloseType.CloseAndDestory,e}return o(e,t),e}(h.default);n.UIScreen=p;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formType=c.FormType.Window,e.modalType=new l.ModalType(c.ModalOpacity.OpacityFull),e.closeType=l.ECloseType.LRU,e}return o(e,t),e.prototype.showEffect=function(){return i(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.node.scale=0,[4,s.default.runTweenSync(this.node,cc.tween().to(.3,{scale:1},cc.easeBackOut()))];case 1:return t.sent(),[2]}})})},e}(h.default);n.UIWindow=f;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formType=c.FormType.Drawer,e.modalType=new l.ModalType(c.ModalOpacity.OpacityFull),e.closeType=l.ECloseType.LRU,e}return o(e,t),e.prototype.showEffect=function(){return i(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.node.scale=0,[4,s.default.runTweenSync(this.node,cc.tween().to(.3,{scale:1},cc.easeBackOut()))];case 1:return t.sent(),[2]}})})},e}(h.default);n.UIDrawer=d;var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formType=c.FormType.Fixed,e.closeType=l.ECloseType.LRU,e}return o(e,t),e}(h.default);n.UIFixed=_;var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formType=c.FormType.Tips,e.closeType=l.ECloseType.CloseAndHide,e}return o(e,t),e}(h.default);n.UITips=y;var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formType=c.FormType.Toast,e}return o(e,t),e.prototype.use=function(){},e.prototype.free=function(){},e.prototype.closeSelf=function(){return i(this,void 0,Promise,function(){return a(this,function(t){switch(t.label){case 0:return[4,u.default.close({prefabUrl:this.fid,type:this.formType})];case 1:return[2,t.sent()]}})})},e}(h.default);n.UIToast=v,cc.UIScreen=p,cc.UIWindow=f,cc.UIFixed=_,cc.UITips=y,cc.UIToast=v,cc._RF.pop()},{"./CocosHelper":"CocosHelper","./FormMgr":"FormMgr","./Struct":"Struct","./UIBase":"UIBase","./config/SysDefine":"SysDefine"}],UIHome_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"d0e1bIfKq5LxI9rGB9rijU4","UIHome_Auto");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Home=null,e.Player=null,e.Joystick=null,e.Setting=null,e.Coin=null,e.Gift=null,e.Backpack=null,e.Recipe=null,e.Map=null,e.Obs=null,e.Start=null,e.End=null,e}return o(e,t),i([c(cc.Node)],e.prototype,"Home",void 0),i([c(cc.Node)],e.prototype,"Player",void 0),i([c(cc.Node)],e.prototype,"Joystick",void 0),i([c(cc.Node)],e.prototype,"Setting",void 0),i([c(cc.Node)],e.prototype,"Coin",void 0),i([c(cc.Node)],e.prototype,"Gift",void 0),i([c(cc.Node)],e.prototype,"Backpack",void 0),i([c(cc.Node)],e.prototype,"Recipe",void 0),i([c(cc.Node)],e.prototype,"Map",void 0),i([c(cc.Node)],e.prototype,"Obs",void 0),i([c(cc.Node)],e.prototype,"Start",void 0),i([c(cc.Node)],e.prototype,"End",void 0),i([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],UIHome:[function(t,e,n){"use strict";cc._RF.push(e,"b0a0dOekNZK/7MwbDKjiuCe","UIHome");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Common/Utils/utils"),u=t("../Config/GlobalData"),l=t("../Enum/MessageType"),h=t("../Extra/AutoFindPath"),p=t("../Extra/Joystick"),f=t("../Game/Manager/RoleMgr"),d=t("../Game/Manager/TableMgr"),_=t("../Game/base/BaseRole"),y=t("../Game/base/BaseTable"),v=t("../UIFrame/UIForm"),g=t("./UITop"),m=t("./UIWorkDesk"),b=cc._decorator,w=b.ccclass,T=(b.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rolePool=null,e.tablePool=null,e.model=5,e}return o(e,t),e.prototype.load=function(){return a(this,void 0,void 0,function(){return s(this,function(){return[2,null]})})},e.prototype.refreshView=function(){console.log(this.model)},e.prototype.onLoad=function(){this.onGameInit()},e.prototype.start=function(){return a(this,void 0,void 0,function(){return s(this,function(){return this.homeInit(),this.initMap(),this.autoCreatRole(),[2]})})},e.prototype.onShow=function(){g.default.open({home:this,callBack:this.getTop.bind(this)})},e.prototype.getTop=function(t){this.top=t},e.prototype.onGameInit=function(){this.rolePool=new cc.NodePool,this.tablePool=new cc.NodePool,this.initRolePool(),this.initTablePool()},e.prototype.homeInit=function(){},e.prototype.clickDesk=function(){this.top.toggleHome(!0),m.default.open(this.top)},e.prototype.initMap=function(){this.view.Map.setContentSize(cc.winSize),this.view.Obs.setContentSize(cc.winSize);var t=h.AutoFindPath.formatToMapData(this.view.Map,15);new h.AutoFindPath(t)},e.prototype.leave=function(t){t||(t=f.default.ins.firstRole),t.state=l.RoleType.LEAVE;var e=c.getOddsByNum(1),n=d.default.ins.queryNullTable();e&&n?(n.node.parent.zIndex=990,t.toPos(c.getPosByDesign(cc.v2(n.node.x+10,n.node.y+70))),t.state=l.RoleType.SIT):t.toPos(c.getPosByDesign(cc.v2(this.view.Start.position))),f.default.ins.updateSpareRoles()},e.prototype.autoCreatRole=function(){this.schedule(this.createRole,u.GlobalData.gameData.roleCreateTime)},e.prototype.useFixedType=function(){p.instance.emit("set_joystick_type",p.JoystickType.FIXED)},e.prototype.useFollowType=function(){p.instance.emit("set_joystick_type",p.JoystickType.FOLLOW)},e.prototype.createRole=function(){if(!(f.default.ins.waitSize>=u.GlobalData.gameData.waitMaxNumber)){var t=this.rolePool.get();if(t){t.setPosition(c.getPosByDesign(cc.v2(this.view.Start.position))),this.node.addChild(t);var e=t.getComponent(_.default);e.init(this),f.default.ins.welcome(e)}}},e.prototype.initRolePool=function(){return a(this,void 0,void 0,function(){var t,e,n,r;return s(this,function(o){switch(o.label){case 0:t=0,o.label=1;case 1:return t<24?[4,this.loadRes(_.default.prefabPath,cc.Prefab)]:[3,4];case 2:e=o.sent(),n=cc.instantiate(e),this.rolePool.put(n),o.label=3;case 3:return t++,[3,1];case 4:return r=this.view.End.position,f.default.ins.init(this,cc.v2(r)),[2,null]}})})},e.prototype.initTablePool=function(){return a(this,void 0,void 0,function(){var t,e,n;return s(this,function(r){switch(r.label){case 0:t=0,r.label=1;case 1:return t<24?[4,this.loadRes(y.default.prefabPath,cc.Prefab)]:[3,4];case 2:e=r.sent(),n=cc.instantiate(e),this.tablePool.put(n),r.label=3;case 3:return t++,[3,1];case 4:return d.default.ins.init(this),d.default.ins.addTable(),[2,null]}})})},e.prototype.updateMap=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];(t=h.AutoFindPath.ins).updateMap.apply(t,e)},e.prototype.updateNodeZindex=function(t){h.AutoFindPath.ins.setNodeZindex(t)},e.prototype.updateObsZindex=function(t){h.AutoFindPath.ins.setNodeZindex(t),this.updateMap(t)},i([w],e)}(v.UIScreen));n.default=T,cc._RF.pop()},{"../Common/Utils/utils":"utils","../Config/GlobalData":"GlobalData","../Enum/MessageType":"MessageType","../Extra/AutoFindPath":"AutoFindPath","../Extra/Joystick":"Joystick","../Game/Manager/RoleMgr":"RoleMgr","../Game/Manager/TableMgr":"TableMgr","../Game/base/BaseRole":"BaseRole","../Game/base/BaseTable":"BaseTable","../UIFrame/UIForm":"UIForm","./UITop":"UITop","./UIWorkDesk":"UIWorkDesk"}],UILoading:[function(t,e,n){"use strict";cc._RF.push(e,"f5535NOnxVA4oA5HsMZ5MRw","UILoading");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../UIFrame/UIForm"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.start=function(){},i([c],e)}(a.UITips));n.default=u,cc._RF.pop()},{"../UIFrame/UIForm":"UIForm"}],UIManager:[function(t,e,n){"use strict";cc._RF.push(e,"e31dcGQp2pBEaii62Cywsyt","UIManager");var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Common/Utils/LRUCache"),a=t("../Scene/Scene"),s=t("./AdapterMgr"),c=t("./EventCenter"),u=t("./EventType"),l=t("./ModalMgr"),h=t("./ModalMgr1"),p=t("./ResMgr"),f=t("./Struct"),d=t("./config/SysDefine"),_="UIManager",y=function(){function t(){this._UIROOT=null,this._ndScreen=null,this._ndDrawer=null,this._ndFixed=null,this._ndPopUp=null,this._ndToast=null,this._ndTips=null,this._windows=[],this._drawers=[],this._allForms=cc.js.createMap(),this._showingForms=cc.js.createMap(),this._tipsForms=cc.js.createMap(),this._loadingForm=cc.js.createMap(),this._closingForm=cc.js.createMap(),this._LRUCache=new i.LRUCache(3)}return t.getInstance=function(){var e=this;if(null==this.instance){this.instance=new t;var n=cc.director.getScene().getChildByName("Canvas"),r=n.getChildByName(d.SysDefine.SYS_SCENE_NODE);r?!r.getComponent(a.default)&&r.addComponent(a.default):((r=new cc.Node(d.SysDefine.SYS_SCENE_NODE)).addComponent(a.default),r.parent=n);var o=this.instance._UIROOT=new cc.Node(d.SysDefine.SYS_UIROOT_NODE);r.addChild(o),o.addChild(this.instance._ndScreen=new cc.Node(d.SysDefine.SYS_SCREEN_NODE)),o.addChild(this.instance._ndDrawer=new cc.Node(d.SysDefine.SYS_DRAWER_NODE)),o.addChild(this.instance._ndFixed=new cc.Node(d.SysDefine.SYS_FIXED_NODE)),o.addChild(this.instance._ndPopUp=new cc.Node(d.SysDefine.SYS_POPUP_NODE)),o.addChild(this.instance._ndToast=new cc.Node(d.SysDefine.SYS_TOAST_NODE)),o.addChild(this.instance._ndTips=new cc.Node(d.SysDefine.SYS_TOPTIPS_NODE)),cc.director.once(cc.Director.EVENT_BEFORE_SCENE_LAUNCH,function(){e.instance=null})}return this.instance},t.prototype.loadUIForm=function(t){return r(this,void 0,Promise,function(){var e;return o(this,function(n){switch(n.label){case 0:return[4,this._loadForm(t)];case 1:return(e=n.sent())?[2,e]:(console.warn(e+"\u6ca1\u6709\u88ab\u6210\u529f\u52a0\u8f7d"),[2,null])}})})},t.prototype.openForm=function(t,e,n){return r(this,void 0,Promise,function(){var r,i;return o(this,function(o){switch(o.label){case 0:return!(r=t.prefabUrl)||r.length<=0?(cc.warn(r+", \u53c2\u6570\u9519\u8bef"),[2]):this.checkFormShowing(r)?(cc.warn(r+", \u7a97\u4f53\u6b63\u5728\u663e\u793a\u4e2d"),[2,null]):[4,this._loadForm(r)];case 1:if(!(i=o.sent()))return cc.warn(r+" \u52a0\u8f7d\u5931\u8d25\u4e86!"),[2,null];switch(i.fid=r,i.formData=n,i.formType){case d.FormType.Screen:return[3,2];case d.FormType.Fixed:return[3,4];case d.FormType.Window:return[3,6];case d.FormType.Drawer:return[3,8];case d.FormType.Tips:return[3,10]}return[3,12];case 2:return[4,this.enterToScreen(i.fid,e)];case 3:return o.sent(),[3,12];case 4:return[4,this.enterToFixed(i.fid,e)];case 5:return o.sent(),[3,12];case 6:return[4,this.enterToPopup(i.fid,e)];case 7:return o.sent(),[3,12];case 8:return[4,this.enterToDrawer(i.fid,e)];case 9:return o.sent(),[3,12];case 10:return[4,this.enterToTips(i.fid,e)];case 11:return o.sent(),[3,12];case 12:return i.closeType===f.ECloseType.LRU&&this._LRUCache.remove(i.fid),[2,i]}})})},t.prototype.closeForm=function(t,e){return r(this,void 0,Promise,function(){var n,r;return o(this,function(o){switch(o.label){case 0:if(!(n=t.prefabUrl)||n.length<=0)return cc.warn(_,n+", \u53c2\u6570\u9519\u8bef"),[2,!1];if(!(r=this._allForms[n]))return[2,!1];if(!this.checkFormShowing(n)&&t.type!==d.FormType.Tips)return cc.warn(_,n+", \u5df2\u7ecf\u5173\u95ed\u4e86, \u8bf7\u4e0d\u8981\u91cd\u590d\u5173\u95ed"),[2,!1];if(this._closingForm[n])return cc.warn(_,n+", form\u6b63\u5728\u5173\u95ed\u4e2d"),[2];switch(this._closingForm[n]=r,r.formType){case d.FormType.Screen:return[3,1];case d.FormType.Fixed:return[3,3];case d.FormType.Drawer:return[3,5];case d.FormType.Window:return[3,7];case d.FormType.Tips:return[3,9]}return[3,11];case 1:return[4,this.exitToScreen(n,e)];case 2:return o.sent(),[3,11];case 3:return[4,this.exitToFixed(n,e)];case 4:return o.sent(),[3,11];case 5:return[4,this.exitToDrawer(n,e)];case 6:return o.sent(),[3,11];case 7:return[4,this.exitToPopup(n,e)];case 8:return o.sent(),c.EventCenter.emit(u.EventType.WindowClosed,n),[3,11];case 9:return[4,this.exitToTips(n,e)];case 10:return o.sent(),[3,11];case 11:switch(c.EventCenter.emit(u.EventType.FormClosed,n),r.formData&&r.formData.onClose&&r.formData.onClose(),r.closeType){case f.ECloseType.CloseAndDestory:this.destoryForm(r);break;case f.ECloseType.LRU:this.putLRUCache(r)}return this._closingForm[n]=null,delete this._closingForm[n],[2,!0]}})})},t.prototype._loadForm=function(t){return r(this,void 0,Promise,function(){var e,n=this;return o(this,function(){return(e=this._allForms[t])?[2,e]:[2,new Promise(function(e){n._loadingForm[t]?n._loadingForm[t].push(e):(n._loadingForm[t]=[e],n._doLoadUIForm(t).then(function(e){for(var r=0,o=n._loadingForm[t];r<o.length;r++)(0,o[r])(e);n._loadingForm[t]=null,delete n._loadingForm[t]}))})]})})},t.prototype._doLoadUIForm=function(t){return r(this,void 0,Promise,function(){var e,n,r;return o(this,function(o){switch(o.label){case 0:return[4,p.default.inst.loadFormPrefab(t)];case 1:return e=o.sent(),n=cc.instantiate(e),r=this.addNode(n),this._allForms[t]=r,[2,r]}})})},t.prototype.addNode=function(t){var e=t.getComponent(cc.UIBase);if(!e)return cc.warn(t.name+" \u7ed3\u70b9\u6ca1\u6709\u7ed1\u5b9aUIBase"),null;switch(t.active=!1,e.formType){case d.FormType.Screen:this._ndScreen.addChild(t);break;case d.FormType.Fixed:this._ndFixed.addChild(t);break;case d.FormType.Window:this._ndPopUp.addChild(t);break;case d.FormType.Drawer:this._ndDrawer.addChild(t);break;case d.FormType.Toast:this._ndToast.addChild(t);break;case d.FormType.Tips:this._ndTips.addChild(t)}return e},t.prototype.enterToScreen=function(t,e){return r(this,void 0,void 0,function(){var n,r,i;return o(this,function(o){switch(o.label){case 0:for(r in n=[],this._showingForms)n.push(this._showingForms[r].closeSelf());return[4,Promise.all(n)];case 1:return o.sent(),(i=this._allForms[t])?(this._showingForms[t]=i,s.default.inst.adapteByType(s.AdapterType.StretchHeight|s.AdapterType.StretchWidth,i.node),[4,i._preInit(e)]):[2];case 2:return o.sent(),i.onShow(e),[4,this.showEffect(i)];case 3:return o.sent(),i.onAfterShow(e),[2]}})})},t.prototype.enterToFixed=function(t,e){return r(this,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:return(n=this._allForms[t])?[4,n._preInit(e)]:[2];case 1:return r.sent(),n.onShow(e),this._showingForms[t]=n,[4,this.showEffect(n)];case 2:return r.sent(),n.onAfterShow(e),[2]}})})},t.prototype.enterToPopup=function(t,e){return r(this,void 0,void 0,function(){var n,r;return o(this,function(o){switch(o.label){case 0:return(n=this._allForms[t])?[4,n._preInit(e)]:[2];case 1:for(o.sent(),this._windows.push(n),r=0;r<this._windows.length;r++)this._windows[r].node.zIndex=r+1;return n.onShow(e),this._showingForms[t]=n,l.default.inst.checkModalWindow(this._windows),[4,this.showEffect(n)];case 2:return o.sent(),n.onAfterShow(e),[2]}})})},t.prototype.enterToDrawer=function(t,e){return r(this,void 0,void 0,function(){var n,r;return o(this,function(o){switch(o.label){case 0:return(n=this._allForms[t])?[4,n._preInit(e)]:[2];case 1:for(o.sent(),this._drawers.push(n),r=0;r<this._drawers.length;r++)this._drawers[r].node.zIndex=r+1;return n.onShow(e),this._showingForms[t]=n,h.default.inst.checkModalWindow(this._drawers),[4,this.showEffect(n)];case 2:return o.sent(),n.onAfterShow(e),[2]}})})},t.prototype.enterToTips=function(t,e){return r(this,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:return(n=this._allForms[t])?[4,n._preInit(e)]:[2];case 1:return r.sent(),this._tipsForms[t]=n,n.onShow(e),[4,this.showEffect(n)];case 2:return r.sent(),n.onAfterShow(e),[2]}})})},t.prototype.enterToToast=function(t,e){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,t._preInit(e)];case 1:return n.sent(),t.onShow(e),[4,this.showEffect(t)];case 2:return n.sent(),t.onAfterShow(e),[2]}})})},t.prototype.exitToScreen=function(t,e){return r(this,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:return(n=this._showingForms[t])?(n.onHide(e),[4,this.hideEffect(n)]):[2];case 1:return r.sent(),n.onAfterHide(e),this._showingForms[t]=null,delete this._showingForms[t],[2]}})})},t.prototype.exitToFixed=function(t,e){return r(this,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:return(n=this._allForms[t])?(n.onHide(e),[4,this.hideEffect(n)]):[2];case 1:return r.sent(),n.onAfterHide(e),this._showingForms[t]=null,delete this._showingForms[t],[2]}})})},t.prototype.exitToPopup=function(t,e){return r(this,void 0,void 0,function(){var n,r;return o(this,function(o){switch(o.label){case 0:if(this._windows.length<=0)return[2];for(n=null,r=this._windows.length-1;r>=0;r--)this._windows[r].fid===t&&(n=this._windows[r],this._windows.splice(r,1));return n?(n.onHide(e),l.default.inst.checkModalWindow(this._windows),[4,this.hideEffect(n)]):[2];case 1:return o.sent(),n.onAfterHide(e),this._showingForms[t]=null,delete this._showingForms[t],[2]}})})},t.prototype.exitToDrawer=function(t,e){return r(this,void 0,void 0,function(){var n,r;return o(this,function(o){switch(o.label){case 0:if(this._drawers.length<=0)return[2];for(n=null,r=this._drawers.length-1;r>=0;r--)this._drawers[r].fid===t&&(n=this._drawers[r],this._drawers.splice(r,1));return n?(n.onHide(e),h.default.inst.checkModalWindow(this._drawers),[4,this.hideEffect(n)]):[2];case 1:return o.sent(),n.onAfterHide(e),this._showingForms[t]=null,delete this._showingForms[t],[2]}})})},t.prototype.exitToTips=function(t,e){return r(this,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:return(n=this._allForms[t])?(n.onHide(e),[4,this.hideEffect(n)]):[2];case 1:return r.sent(),n.onAfterHide(e),this._tipsForms[t]=null,delete this._tipsForms[t],[2]}})})},t.prototype.exitToToast=function(t,e){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return t.onHide(e),[4,this.hideEffect(t)];case 1:return n.sent(),t.onAfterHide(e),[2]}})})},t.prototype.showEffect=function(t){var e;return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return t.node.active=!0,(null===(e=t.formData)||void 0===e?void 0:e.quick)?[3,2]:[4,t.showEffect()];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.hideEffect=function(t){var e;return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return(null===(e=t.formData)||void 0===e?void 0:e.quick)?[3,2]:[4,t.hideEffect()];case 1:n.sent(),n.label=2;case 2:return t.node.active=!1,[2]}})})},t.prototype.destoryForm=function(t){c.EventCenter.targetOff(t),t.node.destroy(),p.default.inst.destoryFormPrefab(t.fid),p.default.inst.destoryDynamicRes(t.fid),this._allForms[t.fid]=null,delete this._allForms[t.fid]},t.prototype.putLRUCache=function(t){if(this._LRUCache.put(t.fid),this._LRUCache.needDelete()){var e=this._LRUCache.deleteLastNode();if(e){var n=this.getForm(e);if(!n||!n.node)return;n&&this.destoryForm(n)}}},t.prototype.checkFormShowing=function(t){return!!this._showingForms[t]},t.prototype.checkFormLoading=function(t){return!!this._loadingForm[t]},t.prototype.getForm=function(t){return this._allForms[t]},t.prototype.getUIROOT=function(){return this._UIROOT},t.instance=null,t}();n.default=y,cc._RF.pop()},{"../Common/Utils/LRUCache":"LRUCache","../Scene/Scene":"Scene","./AdapterMgr":"AdapterMgr","./EventCenter":"EventCenter","./EventType":"EventType","./ModalMgr":"ModalMgr","./ModalMgr1":"ModalMgr1","./ResMgr":"ResMgr","./Struct":"Struct","./config/SysDefine":"SysDefine"}],UIModalScript:[function(t,e,n){"use strict";cc._RF.push(e,"80f365N6pFApJ6MlMUc+H9D","UIModalScript");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Common/Utils/RenderUtil"),u=t("./CocosHelper"),l=t("./UIManager"),h=t("./WindowMgr"),p=t("./config/SysDefine"),f=(cc.RenderFlow.FLAG_RENDER,cc.RenderFlow.FLAG_POST_RENDER,cc._decorator),d=f.ccclass,_=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.camera=null,e._texture=null,e._renderTexture=null,e._renderTextures=[],e}return o(e,t),e.prototype.init=function(){var t=cc.view.getVisibleSize();this.node.height=t.height,this.node.width=t.width,this.node.addComponent(cc.Button),this.node.on("click",this.clickMaskWindow,this),this.sprite=this.node.addComponent(cc.Sprite),this.useNormalSprite(this.sprite),this.node.color=new cc.Color(255,255,255),this.node.opacity=0,this.node.active=!1},e.prototype.showModal=function(t,e,n,r){return void 0===e&&(e=.6),void 0===n&&(n=!0),void 0===r&&(r=!1),a(this,void 0,void 0,function(){var o,i;return s(this,function(a){switch(a.label){case 0:switch(r?(this.camera||(o=new cc.Node("BlurCamera"),this.camera=o.addComponent(cc.Camera),cc.find("Canvas").addChild(o)),this.useDualBlurSprite(this.camera),this.node.color=cc.Color.WHITE):t===p.ModalOpacity.GuassBlur?(this.useBlurSprite(this.sprite),t=p.ModalOpacity.OpacityFull):(this.useNormalSprite(this.sprite),this.node.color=cc.Color.BLACK),i=0,t){case p.ModalOpacity.None:this.node.active=!1;break;case p.ModalOpacity.OpacityZero:i=0;break;case p.ModalOpacity.OpacityLow:i=63;break;case p.ModalOpacity.OpacityHalf:i=126;break;case p.ModalOpacity.OpacityHigh:i=189;break;case p.ModalOpacity.OpacityFull:i=255}return this.node.active?n?[4,u.default.runTweenSync(this.node,cc.tween().to(e,{opacity:i}))]:[3,2]:[2];case 1:return a.sent(),[3,3];case 2:this.node.opacity=i,a.label=3;case 3:return[2]}})})},e.prototype.clickMaskWindow=function(){return a(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return(t=l.default.getInstance().getForm(this.fid))&&t.modalType.clickMaskClose?[4,h.default.close(this.fid)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.getSingleTexture=function(){if(this._texture)return this._texture;for(var t=new Uint8Array(16),e=0;e<2;e++)for(var n=0;n<2;n++)t[8*e+4*n+0]=255,t[8*e+4*n+1]=255,t[8*e+4*n+2]=255,t[8*e+4*n+3]=255;var r=new cc.Texture2D;return r.name="single color",r.initWithData(t,cc.Texture2D.PixelFormat.RGBA8888,2,2),r.handleLoadedTexture(),this._texture=r,r.addRef(),this._texture},e.prototype.useNormalSprite=function(t){t.sizeMode=cc.Sprite.SizeMode.CUSTOM,t.type=cc.Sprite.Type.SIMPLE,t.spriteFrame=new cc.SpriteFrame(this.getSingleTexture())},e.prototype.useBlurSprite=function(t){t.sizeMode=cc.Sprite.SizeMode.CUSTOM,t.type=cc.Sprite.Type.SIMPLE;var e=c.default.getPixelsData(cc.find("Canvas"),!0),n=new cc.Texture2D;n.initWithData(e,cc.Texture2D.PixelFormat.RGBA8888,t.node.width,t.node.height),t.spriteFrame=new cc.SpriteFrame(n)},e.prototype.useDualBlurSprite=function(t){var e=this,n=[];this._renderTexture||(this._renderTexture=new cc.RenderTexture).initWithSize(cc.visibleRect.width,cc.visibleRect.height,cc.game._renderContext.STENCIL_INDEX8),t.enabled=!0,t.targetTexture=this._renderTexture,function(){for(var t=0,r=l.default.getInstance().getUIROOT().getChildByName(p.SysDefine.SYS_TOPTIPS_NODE).children;t<r.length;t++)(a=r[t])._activeInHierarchy&&0!=a.opacity&&(a._dirtyRenderFlag=a._renderFlag,a._renderFlag&=~(cc.RenderFlow.FLAG_CHILDREN|cc.RenderFlow.FLAG_RENDER),n.push(a));e.node._renderFlag&=~cc.RenderFlow.FLAG_RENDER;for(var o=l.default.getInstance().getUIROOT().getChildByName(p.SysDefine.SYS_POPUP_NODE).children,i=o.length-1;i>=0;i--)if(o[i].zIndex>e.node.zIndex){var a;if(!(a=o[i])._activeInHierarchy||0==a.opacity)continue;a._dirtyRenderFlag=a._renderFlag,a._renderFlag&=~(cc.RenderFlow.FLAG_CHILDREN|cc.RenderFlow.FLAG_RENDER),n.push(a)}}(),t.render(),function(){for(var t=0,e=n;t<e.length;t++){var r=e[t];r._renderFlag=r._dirtyRenderFlag}}(),this.sprite.spriteFrame.setTexture(t.targetTexture),this.sprite.markForRender(!0),this.renderDualBlur(t,3),t.enabled=!1},e.prototype.renderDualBlur=function(t,e){var n=cc.view.getVisibleSize();if(this._renderTextures.length<=0)for(var r=0;r<e;r++){var o=Math.pow(2,r),i=new cc.RenderTexture;i.initWithSize(cc.visibleRect.width/o|0,cc.visibleRect.height/o|0),this._renderTextures.push(i)}for(y||((y=this.genMaterial(m)).setProperty("v_halfpixel",[.5/n.width,.5/n.height]),y.setProperty("v_offset",[4,4])),this.sprite.setMaterial(0,y),r=0;r<e;r++)t.targetTexture=this._renderTextures[r],t.render(this.sprite.node),this.sprite.spriteFrame.setTexture(t.targetTexture),this.sprite.markForRender(!0);for(v||((v=this.genMaterial(g)).setProperty("v_halfpixel",[.5/n.width,.5/n.height]),v.setProperty("v_offset",[4,4])),this.sprite.setMaterial(0,v),r=e-1;r>0;r--)t.targetTexture=this._renderTextures[r-1],t.render(this.sprite.node),this.sprite.spriteFrame.setTexture(t.targetTexture),this.sprite.markForRender(!0);this.sprite.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite"))},e.prototype.genMaterial=function(t){var e=cc.deserialize(t,{priority:0,responseType:"json"});return e.onLoad&&e.onLoad(),e.__onLoadInvoked__=!0,cc.Material.create(e,0)},i([d],e)}(cc.Component));n.default=_;var y=null,v=null,g={__type__:"cc.EffectAsset",_name:"BlurUp",_objFlags:0,_native:"",properties:null,techniques:[{passes:[{blendState:{targets:[{blend:!0}]},rasterizerState:{cullMode:0},properties:{texture:{value:"white",type:29},alphaThreshold:{value:[.5],type:13}},program:"BlurUp|vs|fs"}]}],shaders:[{hash:3005313742,glsl3:{vert:"\nprecision highp float;\nuniform CCGlobal {\n  mat4 cc_matView;\n  mat4 cc_matViewInv;\n  mat4 cc_matProj;\n  mat4 cc_matProjInv;\n  mat4 cc_matViewProj;\n  mat4 cc_matViewProjInv;\n  vec4 cc_cameraPos;\n  vec4 cc_time;\n  mediump vec4 cc_screenSize;\n  mediump vec4 cc_screenScale;\n};\nuniform CCLocal {\n  mat4 cc_matWorld;\n  mat4 cc_matWorldIT;\n};\nin vec3 a_position;\nin vec4 a_color;\nout vec4 v_color;\n#if USE_TEXTURE\nin vec2 a_uv0;\nout vec2 v_uv0;\n#endif\nvoid main () {\n  vec4 pos = vec4(a_position, 1);\n  #if CC_USE_MODEL\n  pos = cc_matViewProj * cc_matWorld * pos;\n  #else\n  pos = cc_matViewProj * pos;\n  #endif\n  #if USE_TEXTURE\n  v_uv0 = a_uv0;\n  #endif\n  v_color = a_color;\n  gl_Position = pos;\n}",frag:"\nprecision highp float;\n#if USE_ALPHA_TEST\n  uniform ALPHA_TEST {\n    float alphaThreshold;\n  };\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n  #if USE_ALPHA_TEST\n      if (color.a < alphaThreshold) discard;\n  #endif\n}\nvoid ALPHA_TEST (in float alpha) {\n  #if USE_ALPHA_TEST\n      if (alpha < alphaThreshold) discard;\n  #endif\n}\nin vec4 v_color;\n#if USE_TEXTURE\nin vec2 v_uv0;\nuniform sampler2D texture;\n#endif\nuniform CustomUniform {\n  vec2 v_halfpixel;\n  vec2 v_offset;\n};\nvoid main () {\n  vec4 o = vec4(1, 1, 1, 1);\n  vec4 sum = texture2D(texture, v_uv0) * 4.0;\n  sum += texture2D(texture, v_uv0 - v_halfpixel.xy * v_offset);\n  sum += texture2D(texture, v_uv0 + v_halfpixel.xy * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset);\n  sum += texture2D(texture, v_uv0 - vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset);\n  o = sum / 8.0;\n  o *= v_color;\n  ALPHA_TEST(o);\n  #if USE_BGRA\n    gl_FragColor = o.bgra;\n  #else\n    gl_FragColor = o.rgba;\n  #endif\n}"},glsl1:{vert:"\nprecision highp float;\nuniform mat4 cc_matViewProj;\nuniform mat4 cc_matWorld;\nattribute vec3 a_position;\nattribute vec4 a_color;\nvarying vec4 v_color;\n#if USE_TEXTURE\nattribute vec2 a_uv0;\nvarying vec2 v_uv0;\n#endif\nvoid main () {\n  vec4 pos = vec4(a_position, 1);\n  #if CC_USE_MODEL\n  pos = cc_matViewProj * cc_matWorld * pos;\n  #else\n  pos = cc_matViewProj * pos;\n  #endif\n  #if USE_TEXTURE\n  v_uv0 = a_uv0;\n  #endif\n  v_color = a_color;\n  gl_Position = pos;\n}",frag:"\nprecision highp float;\n#if USE_ALPHA_TEST\n  uniform float alphaThreshold;\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n  #if USE_ALPHA_TEST\n      if (color.a < alphaThreshold) discard;\n  #endif\n}\nvoid ALPHA_TEST (in float alpha) {\n  #if USE_ALPHA_TEST\n      if (alpha < alphaThreshold) discard;\n  #endif\n}\nvarying vec4 v_color;\n#if USE_TEXTURE\nvarying vec2 v_uv0;\nuniform sampler2D texture;\n#endif\nuniform vec2 v_halfpixel;\nuniform vec2 v_offset;\nvoid main () {\n  vec4 o = vec4(1, 1, 1, 1);\n  vec4 sum = texture2D(texture, v_uv0) * 4.0;\n  sum += texture2D(texture, v_uv0 - v_halfpixel.xy * v_offset);\n  sum += texture2D(texture, v_uv0 + v_halfpixel.xy * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset);\n  sum += texture2D(texture, v_uv0 - vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset);\n  o = sum / 8.0;\n  o *= v_color;\n  ALPHA_TEST(o);\n  #if USE_BGRA\n    gl_FragColor = o.bgra;\n  #else\n    gl_FragColor = o.rgba;\n  #endif\n}"},builtins:{globals:{blocks:[{name:"CCGlobal",defines:[]}],samplers:[]},locals:{blocks:[{name:"CCLocal",defines:[]}],samplers:[]}},defines:[{name:"USE_TEXTURE",type:"boolean",defines:[]},{name:"CC_USE_MODEL",type:"boolean",defines:[]},{name:"USE_ALPHA_TEST",type:"boolean",defines:[]},{name:"USE_BGRA",type:"boolean",defines:[]}],blocks:[{name:"ALPHA_TEST",members:[{name:"alphaThreshold",type:13,count:1}],defines:["USE_ALPHA_TEST"],binding:0},{name:"CustomUniform",members:[{name:"v_halfpixel",type:14,count:1},{name:"v_offset",type:14,count:1}],defines:[],binding:1}],samplers:[{name:"texture",type:29,count:1,defines:["USE_TEXTURE"],binding:30}],record:null,name:"BlurUp|vs|fs"}]},m={__type__:"cc.EffectAsset",_name:"BlurDown",_objFlags:0,_native:"",properties:null,techniques:[{passes:[{blendState:{targets:[{blend:!0}]},rasterizerState:{cullMode:0},properties:{texture:{value:"white",type:29},alphaThreshold:{value:[.5],type:13}},program:"BlurDown|vs|fs"}]}],shaders:[{hash:4206633856,glsl3:{vert:"\nprecision highp float;\nuniform CCGlobal {\n  mat4 cc_matView;\n  mat4 cc_matViewInv;\n  mat4 cc_matProj;\n  mat4 cc_matProjInv;\n  mat4 cc_matViewProj;\n  mat4 cc_matViewProjInv;\n  vec4 cc_cameraPos;\n  vec4 cc_time;\n  mediump vec4 cc_screenSize;\n  mediump vec4 cc_screenScale;\n};\nuniform CCLocal {\n  mat4 cc_matWorld;\n  mat4 cc_matWorldIT;\n};\nin vec3 a_position;\nin vec4 a_color;\nout vec4 v_color;\n#if USE_TEXTURE\nin vec2 a_uv0;\nout vec2 v_uv0;\n#endif\nvoid main () {\n  vec4 pos = vec4(a_position, 1);\n  #if CC_USE_MODEL\n  pos = cc_matViewProj * cc_matWorld * pos;\n  #else\n  pos = cc_matViewProj * pos;\n  #endif\n  #if USE_TEXTURE\n  v_uv0 = a_uv0;\n  #endif\n  v_color = a_color;\n  gl_Position = pos;\n}",frag:"\nprecision highp float;\n#if USE_ALPHA_TEST\n  uniform ALPHA_TEST {\n    float alphaThreshold;\n  };\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n  #if USE_ALPHA_TEST\n      if (color.a < alphaThreshold) discard;\n  #endif\n}\nvoid ALPHA_TEST (in float alpha) {\n  #if USE_ALPHA_TEST\n      if (alpha < alphaThreshold) discard;\n  #endif\n}\nin vec4 v_color;\n#if USE_TEXTURE\nin vec2 v_uv0;\nuniform sampler2D texture;\n#endif\nuniform CustomUniform {\n  vec2 v_halfpixel;\n  vec2 v_offset;\n};\nvoid main () {\n  vec4 o = vec4(1, 1, 1, 1);\n  vec4 sum = texture2D(texture, v_uv0 + vec2(-v_halfpixel.x * 2.0, 0.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(-v_halfpixel.x, v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(0.0, v_halfpixel.y * 2.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x * 2.0, 0.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(0.0, -v_halfpixel.y * 2.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(-v_halfpixel.x, -v_halfpixel.y) * v_offset) * 2.0;\n  o = sum / 12.0;\n  o *= v_color;\n  ALPHA_TEST(o);\n  #if USE_BGRA\n    gl_FragColor = o.bgra;\n  #else\n    gl_FragColor = o.rgba;\n  #endif\n}"},glsl1:{vert:"\nprecision highp float;\nuniform mat4 cc_matViewProj;\nuniform mat4 cc_matWorld;\nattribute vec3 a_position;\nattribute vec4 a_color;\nvarying vec4 v_color;\n#if USE_TEXTURE\nattribute vec2 a_uv0;\nvarying vec2 v_uv0;\n#endif\nvoid main () {\n  vec4 pos = vec4(a_position, 1);\n  #if CC_USE_MODEL\n  pos = cc_matViewProj * cc_matWorld * pos;\n  #else\n  pos = cc_matViewProj * pos;\n  #endif\n  #if USE_TEXTURE\n  v_uv0 = a_uv0;\n  #endif\n  v_color = a_color;\n  gl_Position = pos;\n}",frag:"\nprecision highp float;\n#if USE_ALPHA_TEST\n  uniform float alphaThreshold;\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n  #if USE_ALPHA_TEST\n      if (color.a < alphaThreshold) discard;\n  #endif\n}\nvoid ALPHA_TEST (in float alpha) {\n  #if USE_ALPHA_TEST\n      if (alpha < alphaThreshold) discard;\n  #endif\n}\nvarying vec4 v_color;\n#if USE_TEXTURE\nvarying vec2 v_uv0;\nuniform sampler2D texture;\n#endif\nuniform vec2 v_halfpixel;\nuniform vec2 v_offset;\nvoid main () {\n  vec4 o = vec4(1, 1, 1, 1);\n  vec4 sum = texture2D(texture, v_uv0 + vec2(-v_halfpixel.x * 2.0, 0.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(-v_halfpixel.x, v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(0.0, v_halfpixel.y * 2.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x * 2.0, 0.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(0.0, -v_halfpixel.y * 2.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(-v_halfpixel.x, -v_halfpixel.y) * v_offset) * 2.0;\n  o = sum / 12.0;\n  o *= v_color;\n  ALPHA_TEST(o);\n  #if USE_BGRA\n    gl_FragColor = o.bgra;\n  #else\n    gl_FragColor = o.rgba;\n  #endif\n}"},builtins:{globals:{blocks:[{name:"CCGlobal",defines:[]}],samplers:[]},locals:{blocks:[{name:"CCLocal",defines:[]}],samplers:[]}},defines:[{name:"USE_TEXTURE",type:"boolean",defines:[]},{name:"CC_USE_MODEL",type:"boolean",defines:[]},{name:"USE_ALPHA_TEST",type:"boolean",defines:[]},{name:"USE_BGRA",type:"boolean",defines:[]}],blocks:[{name:"ALPHA_TEST",members:[{name:"alphaThreshold",type:13,count:1}],defines:["USE_ALPHA_TEST"],binding:0},{name:"CustomUniform",members:[{name:"v_halfpixel",type:14,count:1},{name:"v_offset",type:14,count:1}],defines:[],binding:1}],samplers:[{name:"texture",type:29,count:1,defines:["USE_TEXTURE"],binding:30}],record:null,name:"BlurDown|vs|fs"}]};cc._RF.pop()},{"../Common/Utils/RenderUtil":"RenderUtil","./CocosHelper":"CocosHelper","./UIManager":"UIManager","./WindowMgr":"WindowMgr","./config/SysDefine":"SysDefine"}],UIRecipeInfo_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"e8b588mKChBlr4fUNYV5uvD","UIRecipeInfo_Auto");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.title=null,e.list=null,e.infoLabel=null,e}return o(e,t),i([c(cc.Node)],e.prototype,"icon",void 0),i([c(cc.Node)],e.prototype,"title",void 0),i([c(cc.Node)],e.prototype,"list",void 0),i([c(cc.Node)],e.prototype,"infoLabel",void 0),i([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],UIRecipeInfo:[function(t,e,n){"use strict";cc._RF.push(e,"4c1bf2Vs3NBGoaQpraELDQE","UIRecipeInfo");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Common/GPDrag"),s=t("../Common/Utils/CommonUtils"),c=t("../Config/GlobalData"),u=t("../Game/Item/MenuItem"),l=t("../UIFrame/Struct"),h=t("../UIFrame/UIForm"),p=t("../UIFrame/config/SysDefine"),f=cc._decorator,d=f.ccclass,_=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.modalType=new l.ModalType(p.ModalOpacity.OpacityHigh,!0),e.menu=null,e._data=null,e.itemMax=6,e.rawArr=[],e._List$RecipeScroll=null,e}var n;return o(e,t),n=e,e.prototype.start=function(){console.log("UIRecipeInfo start...")},e.prototype.onShow=function(t){this._data=t,this.clearMenu()},e.prototype.onEnable=function(){this.rawArr=[],this.initUi(this._data),this.addRecipeItem(this._data),this._List$RecipeScroll=this.node.parent.getChildByName("UIRecipe").getChildByName("bg").getChildByName("_List$RecipeScroll"),this._List$RecipeScroll.getComponent(cc.ScrollView).enabled=!1},e.prototype.onDisable=function(){this._List$RecipeScroll.getComponent(cc.ScrollView).enabled=!0},e.prototype.initUi=function(t){s.CommonUtils.setItemSpriteFrame(this.view.icon.getComponent(cc.Sprite),""+c.GlobalData.recipePath+t.resPath),this.view.title.getComponent(cc.Label).string=1==t.name.includes("%s")?t.name.replace("%s",""):t.name,this.view.infoLabel.getComponent(cc.Label).string=t.intro},e.prototype.clearMenu=function(){this.view.list.removeAllChildren()},e.prototype.addRecipeItem=function(t){for(var e,n,r=1;r<this.itemMax+1;++r)e=t["raw"+r],""!=t["raw"+r]&&"/"!=t["raw"+r]&&((n=cc.instantiate(this.menu)).parent=this.view.list,n.getComponent(u.default).enabled=!1,n.getComponent(a.GPDrag).enabled=!1,n.children[0].active=!0,s.CommonUtils.setItemSpriteFrame(n.children[0].getComponent(cc.Sprite),""+c.GlobalData.rawPath+e))},e.prototype.clickClose=function(){n.close()},i([_(cc.Prefab)],e.prototype,"menu",void 0),n=i([d],e)}(h.UIWindow);n.default=y,cc._RF.pop()},{"../Common/GPDrag":"GPDrag","../Common/Utils/CommonUtils":"CommonUtils","../Config/GlobalData":"GlobalData","../Game/Item/MenuItem":"MenuItem","../UIFrame/Struct":"Struct","../UIFrame/UIForm":"UIForm","../UIFrame/config/SysDefine":"SysDefine"}],UIRecipe_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"7c507WtnXpBuZdXkwVX0sUC","UIRecipe_Auto");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./../Common/Components/List"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.RecipeScroll=null,e.RecipeContent=null,e.RecipeModule=null,e}return o(e,t),i([u(a.default)],e.prototype,"RecipeScroll",void 0),i([u(cc.Node)],e.prototype,"RecipeContent",void 0),i([u(cc.Node)],e.prototype,"RecipeModule",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/List":"List"}],UIRecipe:[function(t,e,n){"use strict";cc._RF.push(e,"9eb62r7nFlCPL9oiiT962Sm","UIRecipe");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Config/RawMaterial"),s=t("../Game/Item/RecipeItem"),c=t("../Game/Item/RecipeModuleItem"),u=t("../UIFrame/Struct"),l=t("../UIFrame/UIForm"),h=t("../UIFrame/config/SysDefine"),p=cc._decorator,f=p.ccclass,d=p.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.modalType=new u.ModalType(h.ModalOpacity.OpacityHigh,!0),e.recipeModuleItem=null,e.curModuleNumber=0,e.nodeHeight=[110,130],e.titlePos=[-50,-60],e}var n;return o(e,t),n=e,e.prototype.start=function(){console.log("UIRecipe start...")},e.prototype.onEnable=function(){this.curModuleNumber=0,this.initUi()},e.prototype.onAfterShow=function(){console.log(a.RecipeList,"------------",a.RecipeList[this.curModuleNumber]),this.view.RecipeScroll.numItems=a.RecipeList[this.curModuleNumber].length,this.view.RecipeScroll.scrollTo(0,0,.1)},e.prototype.onListGridRender=function(t,e){t.getComponent(s.default).initUi(a.RecipeList[this.curModuleNumber][e],this)},e.prototype.initUi=function(){this.initRecipeModule()},e.prototype.clickClose=function(){n.close()},e.prototype.initRecipeModule=function(){this.initAllModule();for(var t=0;t<a.RecipeModule.length;t++)if(this.view.RecipeModule.children[t])this.view.RecipeModule.children[t].getComponent(c.default).initUi(t,this);else{var e=cc.instantiate(this.recipeModuleItem);e.parent=this.view.RecipeModule,e.getComponent(c.default).initUi(t,this),e.name=""+t}},e.prototype.initAllModule=function(){var t=this;this.view.RecipeModule.children.forEach(function(e){e.height=t.nodeHeight[0],e.getComponent(c.default).title.y=t.titlePos[0]})},e.prototype.changeRecipeItem=function(){this.view.RecipeScroll.numItems=a.RecipeList[this.curModuleNumber].length,this.view.RecipeScroll.updateAll()},i([d(cc.Prefab)],e.prototype,"recipeModuleItem",void 0),n=i([f],e)}(l.UIWindow);n.default=_,cc._RF.pop()},{"../Config/RawMaterial":"RawMaterial","../Game/Item/RecipeItem":"RecipeItem","../Game/Item/RecipeModuleItem":"RecipeModuleItem","../UIFrame/Struct":"Struct","../UIFrame/UIForm":"UIForm","../UIFrame/config/SysDefine":"SysDefine"}],UIToast1:[function(t,e,n){"use strict";cc._RF.push(e,"c3d9dX09jlJsYjxJBe9LSud","UIToast1");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../UIFrame/CocosHelper"),u=t("../../UIFrame/ToastMgr"),l=t("../../UIFrame/UIForm"),h=cc._decorator,p=h.ccclass,f=h.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.info=null,e.bg=null,e}return o(e,t),e.prototype.start=function(){},e.prototype.use=function(){},e.prototype.free=function(){},e.prototype.onShow=function(t){var e=this;this.info.string=t.info,this.scheduleOnce(function(){u.default.close(e,null)},t.time||1.5)},e.prototype.onHide=function(){},e.prototype.showEffect=function(){return a(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return this.node.scale=0,this.node.position=cc.v3(0,0,0),[4,c.default.runTweenSync(this.node,cc.tween().to(.3,{scale:1},cc.easeBackOut()))];case 1:return t.sent(),[2]}})})},e.prototype.hideEffect=function(){return a(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return[4,c.default.runTweenSync(this.node,cc.tween().by(.3,{y:100},cc.easeBackOut()))];case 1:return t.sent(),[2]}})})},i([f(cc.Label)],e.prototype,"info",void 0),i([f(cc.Node)],e.prototype,"bg",void 0),i([p],e)}(l.UIToast);n.default=d,cc._RF.pop()},{"../../UIFrame/CocosHelper":"CocosHelper","../../UIFrame/ToastMgr":"ToastMgr","../../UIFrame/UIForm":"UIForm"}],UITop_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"2e06fOXe1xCHJkwgC0IL4pT","UITop_Auto");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Setting=null,e.Coin=null,e.Gift=null,e.Backpack=null,e.Recipe=null,e}return o(e,t),i([c(cc.Node)],e.prototype,"Setting",void 0),i([c(cc.Node)],e.prototype,"Coin",void 0),i([c(cc.Node)],e.prototype,"Gift",void 0),i([c(cc.Node)],e.prototype,"Backpack",void 0),i([c(cc.Node)],e.prototype,"Recipe",void 0),i([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],UITop:[function(t,e,n){"use strict";cc._RF.push(e,"cf0d1QZhShJ+pDPfq1sKLBC","UITop");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Game/Manager/RoleMgr"),s=t("../UIFrame/AdapterMgr"),c=t("../UIFrame/UIForm"),u=t("./UIRecipe"),l=cc._decorator,h=l.ccclass,p=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onShow=function(t){this.home=t.home,t.callBack&&t.callBack(this),s.default.inst.adapteByType(s.AdapterType.FullWidth,this.node)},e.prototype.clickBackpack=function(){},e.prototype.clickRecipe=function(){u.default.open()},e.prototype.toggleHome=function(t){void 0===t&&(t=!1),a.default.ins.waitSize>0&&a.default.ins.firstRole.changeTalk(!t)},e.prototype.showCoffe=function(){a.default.ins.firstRole.getCoffee(),this.home.leave()},i([h],e)}(c.UIFixed));n.default=p,cc._RF.pop()},{"../Game/Manager/RoleMgr":"RoleMgr","../UIFrame/AdapterMgr":"AdapterMgr","../UIFrame/UIForm":"UIForm","./UIRecipe":"UIRecipe"}],UIWorkDesk_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"56ee2Nm2yJEJK0ns2XwnyMc","UIWorkDesk_Auto");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./../Common/Components/List"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Menu=null,e.MenuList=null,e.Scroll=null,e.Content=null,e.Reform=null,e.Ok=null,e.CoffeePos=null,e}return o(e,t),i([u(cc.Node)],e.prototype,"Menu",void 0),i([u(cc.Node)],e.prototype,"MenuList",void 0),i([u(a.default)],e.prototype,"Scroll",void 0),i([u(cc.Node)],e.prototype,"Content",void 0),i([u(cc.Node)],e.prototype,"Reform",void 0),i([u(cc.Node)],e.prototype,"Ok",void 0),i([u(cc.Node)],e.prototype,"CoffeePos",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/List":"List"}],UIWorkDesk:[function(t,e,n){"use strict";cc._RF.push(e,"b0b79n3Ta5Bz7qDiGc5ZdnV","UIWorkDesk");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.DragType=void 0;var c,u=t("lodash"),l=t("../Common/BroadCasts/BroadcastCenter"),h=t("../Common/Components/KawaseBlur"),p=t("../Common/Components/Printer"),f=t("../Common/GPDrag"),d=t("../Config/MessageInfo"),_=t("../Config/RawMaterial"),y=t("../Enum/MessageType"),v=t("../Game/Coffee"),g=t("../Game/Item/MenuItem"),m=t("../Game/Item/RawItem"),b=t("../Game/Manager/RoleMgr"),w=t("../UIFrame/AdapterMgr"),T=t("../UIFrame/CocosHelper"),S=t("../UIFrame/Struct"),O=t("../UIFrame/UIForm"),x=t("../UIFrame/config/SysDefine"),C=t("./toast/UIToast1"),P=cc._decorator,R=P.ccclass,I=P.property;(function(t){t[t.Raw=0]="Raw",t[t.Menu=1]="Menu"})(c=n.DragType||(n.DragType={}));var M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coffee=null,e.menu=null,e.talkNode=null,e.content=null,e.box=null,e.roleNode=null,e.coffeeNode=null,e.menuNode=null,e.modalType=new S.ModalType(x.ModalOpacity.GuassBlur),e.dualBlur=!0,e.menuMaxNum=6,e.dragIndex=-1,e.talkPosY=252,e.boxHeight=51,e.maxBoxWidth=662,e.offsetY=18,e.layoutOffsetY=-5.9,e.dragItem=null,e.dragMenuItem=null,e.menuItemArr=[],e.dragType=null,e.top=null,e.blurComp=null,e.recipeList=null,e.makeRecipe=null,e.makeSucc=!1,e}var n;return o(e,t),n=e,e.prototype.start=function(){console.log("UIBackpack start..."),this.initBg(),this.addCoffe()},e.prototype.initBg=function(){var t=this.node.parent.getChildByName("UIModalNode").getComponent(cc.Sprite);this.blurComp=this.node.getComponent(h.default),this.blurComp.sprite=t,this.blurComp.enabled=!0},e.prototype.addCoffe=function(){this.coffeeNode=cc.instantiate(this.coffee),this.coffeeNode.parent=this.view.CoffeePos,this.coffeComp.initData(this);for(var t=0;t<=this.menuMaxNum;t++){var e=cc.instantiate(this.menu);t<this.menuMaxNum?(e.getComponent(f.GPDrag).enabled=!1,e.getComponent(g.default).init(this),e.parent=this.view.MenuList,this.view.MenuList.getComponent(cc.Layout).updateLayout()):(this.menuNode=e,e.getComponent(g.default).enabled=!1,this.menuComp.succeedCheck=this.succkCheck.bind(this),this.menuComp.succeedCallback=this.succeedCallback.bind(this),this.menuNode.children[0].active=!0,this.menuNode.parent=this.node,this.menuNode.active=!1)}},e.prototype.close=function(){this.content.parent=this.box,this.roleNode.active=!1,this.top.toggleHome(),this.makeSucc&&this.top.showCoffe(),n.close()},e.prototype.onShow=function(t){var e=this;this.top=t,w.default.inst.adapteByType(w.AdapterType.FullWidth,this.node),this.clearMenu(),this.recipeList=u.flatten(_.RecipeList),0===b.default.ins.waitSize||b.default.ins.firstRole.moveing||this.startTalk(),l.BroadcastCenter.buildingState.once(function(t){t.state===y.MessageType.RoleStand&&1===t.id&&e.startTalk()},this)},e.prototype.startTalk=function(){this.roleNode.active=!0,this.talkContent="\u7ed9\u5927\u7237\u6765\u4e00\u676f\u7f8e\u5f0f\u5496\u5561"},e.prototype.clearMenu=function(){this.coffeeNode&&this.coffeComp.init(),this.dragIndex=-1,this.dragMenuItem=null,this.dragItem=null,this.menuItemArr=[],this.view.Reform.active=!1,this.view.Ok.active=!1,this.makeSucc=!1,this.view.Menu.active=!0;for(var t=0,e=this.view.MenuList.children;t<e.length;t++){var n=e[t];n.getComponent(g.default).itemData=null,n.children[0].active=!1}},e.prototype.showEffect=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this.node.scale=0,this.node.position=cc.v3(0,-800),[4,T.default.runTweenSync(this.node,cc.tween().by(.3,{position:cc.v3(0,400),scale:1},cc.easeBackOut()))];case 1:return t.sent(),[2]}})})},e.prototype.hideEffect=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,T.default.runTweenSync(this.node,cc.tween().to(.8,{position:cc.v3(0,-800),scale:0},cc.easeBackOut()))];case 1:return t.sent(),[2]}})})},e.prototype.onAfterShow=function(){this.view.Scroll.numItems=_.RawMaterial.length,this.view.Scroll.scrollTo(0,0,.1)},e.prototype.onListGridRender=function(t,e){t.getComponent(m.default).initUi(_.RawMaterial[e],this)},e.prototype.queryMenu=function(){for(var t=u.map(this.menuItemArr,"ID"),e=!1,n=null,r=["raw1","raw2","raw3","raw4","raw5","raw6"],o=0,i=this.recipeList;o<i.length;o++){var a=i[o],s=u.flatMap(a,function(t,e){if(r.includes(e))return t});s=u.compact(s);var c=u.intersection(t,s);c.length===t.length&&c.length===s.length&&(n=a,e=!0,console.log("\u627e\u5230\u4e86",a,t))}return{isRecipe:e,myRecipe:n}},e.prototype.giveCoffer=function(){this.close()},e.prototype.clickMake=function(){return a(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return 0===this.menuItemArr.length?(C.default.open({info:d.MessageInfo.rawInfo}),[2]):(t=this.queryMenu()).isRecipe?(this.makeSucc=!0,this.makeRecipe=t.myRecipe,b.default.ins.firstRole.makeRecipe=this.makeRecipe,this.coffeeNode.active=!0,this.coffeComp.changeCoffer(this.makeRecipe),[4,T.default.runTweenSync(this.coffeeNode,cc.tween().to(.5,{position:cc.v3(0,0),angle:0}))]):(C.default.open({info:d.MessageInfo.checkMenuErrr}),this.clearMenu(),[2]);case 1:return e.sent(),this.coffeComp.runTopUp(),[2]}})})},Object.defineProperty(e.prototype,"coffeComp",{get:function(){return this.coffeeNode.getComponent(v.default)},enumerable:!1,configurable:!0}),e.prototype.dragNode=function(t,e,n){this.dragType=n,n==c.Raw?this.dragItem=e:this.dragMenuItem=e,this.view.Scroll.node.getComponent(cc.ScrollView).enabled=!1,this.menuNode.setContentSize(cc.size(e.node.width,e.node.height)),this.menuNode.children[0].getComponent(cc.Sprite).spriteFrame=e.icon.spriteFrame;var r=this.node.convertToNodeSpaceAR(t.getLocation());this.menuNode.position=cc.v3(r.x,r.y),this.menuNode.active=!0,t.target=this.menuNode,t.currentTarget=this.menuNode,this.dragIndex=_.RawMaterial.indexOf(e.itemData),this.menuComp.OnDragStart(t)},e.prototype.dragMove=function(t){this.menuNode&&(t.target=this.menuNode,t.currentTarget=this.menuNode,this.menuComp.OnDragMove(t))},e.prototype.dragEnd=function(t){this.menuNode&&(t.target=this.menuNode,t.currentTarget=this.menuNode,this.menuComp.OnDragEnd(t))},e.prototype.succkCheck=function(){var t=this.view.MenuList.getBoundingBoxToWorld();this.dragType==c.Menu&&(t=this.view.Content.getBoundingBoxToWorld());var e=cc.Intersection.rectRect(this.menuNode.getBoundingBoxToWorld(),t);return e||((this.menuComp.backHomeType=f.DragBackHomeType.Tween)?this.scheduleOnce(this.initDragData,this.menuComp.backTweenTime):this.initDragData()),e},e.prototype.succeedCallback=function(){var t=this.queryNullMenu(),e=t.children[0];this.dragType==c.Raw?(e.getComponent(cc.Sprite).spriteFrame=this.dragItem.icon.spriteFrame,t.getComponent(g.default).itemData=this.dragItem.itemData,e.active=!0,this.menuItemArr.push(this.dragItem.itemData)):(u.pull(this.menuItemArr,this.dragMenuItem.itemData),console.log(this.menuItemArr,this.dragMenuItem.itemData),this.dragMenuItem.icon.node.active=!1,this.dragMenuItem.itemData=null),this.initDragData()},e.prototype.queryNullMenu=function(){for(var t=0,e=this.view.MenuList.children;t<e.length;t++){var n=e[t];if(!n.children[0].active)return n}},Object.defineProperty(e.prototype,"menuComp",{get:function(){return this.menuNode.getComponent(f.GPDrag)},enumerable:!1,configurable:!0}),e.prototype.initDragData=function(){this.menuNode.active=!1,this.dragIndex=-1,this.view.Scroll.node.getComponent(cc.ScrollView).enabled=!0},Object.defineProperty(e.prototype,"talkContent",{set:function(t){var e=this;console.log(this);var n=this.talkNode.position,r=this.talkNode.getComponent(cc.Layout);r.spacingY=this.layoutOffsetY,r.updateLayout(),this.talkNode.position=cc.v3(n.x,this.talkPosY,n.z);var o=new cc.Color(255,255,255,255);if(cc.Color.fromHEX(o,"#FEF3DE"),this.content.color=o,this.content.getComponent(cc.Label).overflow=cc.Label.Overflow.RESIZE_HEIGHT,this.content.parent=this.box,this.content.width=this.maxBoxWidth,this.content.getComponent(cc.Label).string=t,this.content.getComponent(cc.Label)._forceUpdateRenderData(),this.content.height<this.boxHeight)this.content.getComponent(cc.Label).overflow=cc.Label.Overflow.NONE;else{var i=Math.floor(this.content.height/this.boxHeight);r.spacingY=(i+1)*this.layoutOffsetY+i+1,r.updateLayout(),this.talkNode.position=cc.v3(n.x,n.y+i*this.offsetY,n.z)}this.scheduleOnce(function(){var n=e.content.convertToWorldSpaceAR(cc.v2(0));e.content.parent=e.node,e.content.position=cc.v3(e.node.convertToNodeSpaceAR(n)),cc.Color.fromHEX(o,"#000000"),e.content.color=o,e.content.getComponent(p.Priter).showLabelPrinter(t)},.3)},enumerable:!1,configurable:!0}),i([I(cc.Prefab)],e.prototype,"coffee",void 0),i([I(cc.Prefab)],e.prototype,"menu",void 0),i([I(cc.Node)],e.prototype,"talkNode",void 0),i([I(cc.Node)],e.prototype,"content",void 0),i([I(cc.Node)],e.prototype,"box",void 0),i([I(cc.Node)],e.prototype,"roleNode",void 0),n=i([R],e)}(O.UIDrawer);n.default=M,cc._RF.pop()},{"../Common/BroadCasts/BroadcastCenter":"BroadcastCenter","../Common/Components/KawaseBlur":"KawaseBlur","../Common/Components/Printer":"Printer","../Common/GPDrag":"GPDrag","../Config/MessageInfo":"MessageInfo","../Config/RawMaterial":"RawMaterial","../Enum/MessageType":"MessageType","../Game/Coffee":"Coffee","../Game/Item/MenuItem":"MenuItem","../Game/Item/RawItem":"RawItem","../Game/Manager/RoleMgr":"RoleMgr","../UIFrame/AdapterMgr":"AdapterMgr","../UIFrame/CocosHelper":"CocosHelper","../UIFrame/Struct":"Struct","../UIFrame/UIForm":"UIForm","../UIFrame/config/SysDefine":"SysDefine","./toast/UIToast1":"UIToast1",lodash:1}],WindowMgr:[function(t,e,n){"use strict";cc._RF.push(e,"3a04aa299JD1rqA2T4NCR4W","WindowMgr");var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Common/Utils/PriorityQueue"),a=t("../Common/Utils/PriorityStack"),s=t("./config/SysDefine"),c=t("./Struct"),u=t("./UIManager"),l=function(){function t(){this._showingList=new a.default(function(t,e){return t.prefabUrl===e.prefabUrl}),this._waitingList=new i.default}return Object.defineProperty(t.prototype,"currWindow",{get:function(){return this._currWindow},enumerable:!1,configurable:!0}),t.prototype.getWindows=function(){return this._showingList.getElements()},t.prototype.open=function(t,e,n){return r(this,void 0,void 0,function(){var r;return o(this,function(o){switch(o.label){case 0:return t=c.GetForm(t,s.FormType.Window),r=t.prefabUrl,n=this._formatFormData(n),this._showingList.size<=0||!n.showWait&&n.priority>=this._showingList.getTopEPriority()?(this._showingList.push(t,n.priority),this._currWindow=this._showingList.getTopElement(),[4,u.default.getInstance().openForm(t,e,n)]):[3,2];case 1:return[2,o.sent()];case 2:return this._waitingList.enqueue({form:t,params:e,formData:n}),[4,u.default.getInstance().loadUIForm(r)];case 3:return[2,o.sent()]}})})},t.prototype.close=function(t,e,n){return r(this,void 0,void 0,function(){var r;return o(this,function(o){switch(o.label){case 0:return t=c.GetForm(t,s.FormType.Window),this._showingList.remove(t)?[4,u.default.getInstance().closeForm(t,e,n)]:[2,!1];case 1:return o.sent(),this._showingList.size<=0&&this._waitingList.size>0&&(r=this._waitingList.dequeue(),this.open(r.form,r.params,r.formData)),[2,!0]}})})},t.prototype.closeAll=function(){return r(this,void 0,void 0,function(){var t,e,n;return o(this,function(r){switch(r.label){case 0:this._waitingList.clear(),t=0,e=this._showingList.getElements(),r.label=1;case 1:return t<e.length?(n=e[t],[4,u.default.getInstance().closeForm(n)]):[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return this._showingList.clear(),[2,!0]}})})},t.prototype._formatFormData=function(t){return Object.assign({showWait:!1,priority:c.EPriority.FIVE},t)},t}();n.default=new l,cc._RF.pop()},{"../Common/Utils/PriorityQueue":"PriorityQueue","../Common/Utils/PriorityStack":"PriorityStack","./Struct":"Struct","./UIManager":"UIManager","./config/SysDefine":"SysDefine"}],adaptToPositionArr:[function(t,e,n){"use strict";cc._RF.push(e,"14f1fZz2sRGxKBTQlGUT+sp","adaptToPositionArr");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.totalPosCount=0,e.xPosCount=0,e.yPosCount=0,e.posArr=[],e.countArr=[],e.nodePrefab=null,e}return o(e,t),e.prototype.onLoad=function(){this.yPosCount=Math.ceil(this.totalPosCount/this.xPosCount),this.initData(12,5)},e.prototype.initData=function(t,e){this.totalPosCount=t,this.xPosCount=e,this.calculatePos()},e.prototype.calculatePos=function(){0!=this.totalPosCount&&(1!=this.totalPosCount?(this.posArr=[],this.countArr=[],this.calculatePosXY(),this.creatreTestPrefab()):this.posArr.push(cc.v2(0,0)))},e.prototype.calculatePosXY=function(){for(var t=this.totalPosCount%this.xPosCount==0?this.xPosCount:this.totalPosCount%this.xPosCount,e=Math.ceil(this.totalPosCount/this.xPosCount),n=0,r=0;r<e;r++)n=r==e-1?t:this.xPosCount,this.countArr.push(n);var o=0,i=0,a=0;for(r=0;r<this.countArr.length;r++){i=this.node.height/2-this.node.height/(this.countArr.length+1)-this.node.height/(this.countArr.length+1)*r,a=this.countArr[0];for(var s=0;s<this.countArr[r];s++)o=-this.node.width/2+this.node.width/(a+1)+this.node.width/(a+1)*s,this.posArr.push(cc.v2(o,i))}},e.prototype.creatreTestPrefab=function(){if(null!=this.nodePrefab)for(var t,e=0;e<this.posArr.length;e++)(t=cc.instantiate(this.nodePrefab)).parent=this.node,t.x=this.posArr[e].x,t.y=this.posArr[e].y},i([c({tooltip:"\u603b\u5750\u6807\u6570"})],e.prototype,"totalPosCount",void 0),i([c({tooltip:"x\u8f74\u603b\u4e2a\u6570"})],e.prototype,"xPosCount",void 0),i([c(cc.Prefab)],e.prototype,"nodePrefab",void 0),i([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],mobx:[function(t,e,n){(function(t){"use strict";cc._RF.push(e,"de3aaq1fItEy5tKcvHOTs15","mobx"),n.__esModule=!0,n.$mobx=void 0,n.FlowCancellationError=Dn,n.Reaction=n.ObservableSet=n.ObservableMap=void 0,n._allowStateChanges=ee,n.runInAction=n._allowStateChangesInsideComputed=function(t){return Qt(t.name||sn,!1,t,this,void 0)},n._allowStateReadsEnd=xe,n._allowStateReadsStart=Oe,n._autoAction=void 0,n._endAction=te,n._getAdministration=Qr,n._getGlobalState=function(){return Ee},n._interceptReads=function(t,e,n){var o;if(Ir(t)||Sr(t)||se(t))o=Qr(t);else if(jr(t)){if("production"!==r&&!T(e))return i("InterceptReads can only be used with a specific property, not with an object in general");o=Qr(t,e)}else if("production"!==r)return i("Expected observable map, object or array as first array");return"production"!==r&&void 0!==o.dehancer?i("An intercept reader was already established"):(o.dehancer="function"==typeof e?e:n,function(){o.dehancer=void 0})},n._isComputingDerivation=function(){return null!==Ee.trackingDerivation},n._resetGlobalState=function(){var t=new Re;for(var e in t)-1===Pe.indexOf(e)&&(Ee[e]=t[e]);Ee.allowStateChanges=!Ee.enforceActions},n._startAction=$t,n.action=void 0,n.autorun=yn,n.computed=n.comparer=void 0,n.configure=function(t){!0===t.isolateGlobalState&&De();var e,n,o=t.useProxies,i=t.enforceActions;if(void 0!==o&&(Ee.useProxies=o===xn||o!==On&&"undefined"!=typeof Proxy),"ifavailable"===o&&(Ee.verifyProxies=!0),void 0!==i){var a=i===xn?xn:i===Cn;Ee.enforceActions=a,Ee.allowStateChanges=!0!==a&&a!==xn}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(e){e in t&&(Ee[e]=!!t[e])}),Ee.allowStateReads=!Ee.observableRequiresReaction,"production"!==r&&!0===Ee.disableErrorBoundaries&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),t.reactionScheduler&&(e=t.reactionScheduler,n=Xe,Xe=function(t){return e(function(){return n(t)})})},n.createAtom=tt,n.defineProperty=function(t,e,n){if(jr(t))return t[Z].defineProperty_(e,n);i(39)},n.entries=function(t){return jr(t)?Hn(t).map(function(e){return[e,t[e]]}):Ir(t)?Hn(t).map(function(e){return[e,t.get(e)]}):Ar(t)?Array.from(t.entries()):Sr(t)?t.map(function(t,e){return[e,t]}):void i(7)},n.extendObservable=Pn,n.flow=void 0,n.flowResult=function(t){return t},n.get=function(t,e){if(zn(t,e))return jr(t)?t[Z].get_(e):Ir(t)?t.get(e):Sr(t)?t[e]:void i(11)},n.getAtom=Zr,n.getDebugName=$r,n.getDependencyTree=Rn,n.getObserverTree=function(t,e){return Mn(Zr(t,e))},n.has=zn,n.intercept=function(t,e,n){return w(n)?jn(t,e,n):Ln(t,e)},n.isAction=_n,n.isBoxedObservable=void 0,n.isComputed=function(t){return"production"!==r&&arguments.length>1?i("isComputed expects only 1 argument. Use isComputedProp to inspect the observability of a property"):Bn(t)},n.isComputedProp=function(t,e){return"production"===r||T(e)?Bn(t,e):i("isComputed expected a property name as second argument")},n.isFlow=Un,n.isFlowCancellationError=function(t){return t instanceof Dn},n.isObservable=Gn,n.isObservableArray=Sr,n.isObservableMap=void 0,n.isObservableObject=jr,n.isObservableProp=function(t,e){return"production"===r||T(e)?Vn(t,e):i("expected a property name as second argument")},n.isObservableSet=void 0,n.keys=Hn,n.makeAutoObservable=function(t,e,n){if("production"!==r&&(O(t)||O(Object.getPrototypeOf(t))||i("'makeAutoObservable' can only be used for classes that don't have a superclass"),jr(t)&&i("makeAutoObservable can only be used on objects not already made observable")),O(t))return Pn(t,t,e,n);var o=kr(t,n)[Z];if(!t[lr]){var a=Object.getPrototypeOf(t),s=new Set([].concat(A(t),A(a)));s.delete("constructor"),s.delete(Z),C(a,lr,s)}Le();try{t[lr].forEach(function(t){return o.make_(t,!e||!(t in e)||e[t])})}finally{je()}return t},n.makeObservable=function(t,e,n){var r=kr(t,n)[Z];Le();try{null!=e||(e=J(t)),A(e).forEach(function(t){return r.make_(t,e[t])})}finally{je()}return t},n.observable=void 0,n.observe=function(t,e,n,r){return w(n)?Yn(t,e,n,r):qn(t,e,n)},n.onBecomeObserved=wn,n.onBecomeUnobserved=Tn,n.onReactionError=function(t){return Ee.globalReactionErrorHandlers.push(t),function(){var e=Ee.globalReactionErrorHandlers.indexOf(t);e>=0&&Ee.globalReactionErrorHandlers.splice(e,1)}},n.override=void 0,n.ownKeys=Wn,n.reaction=function(t,e,n){var o;void 0===n&&(n=f),"production"!==r&&(w(t)&&w(e)||i("First and second argument to reaction should be functions"),O(n)||i("Third argument of reactions should be an object"));var a,s,c,u=null!=(o=n.name)?o:"production"!==r?"Reaction@"+g():"Reaction",l=fn(u,n.onError?(s=n.onError,c=e,function(){try{return c.apply(this,arguments)}catch(t){s.call(this,t)}}):e),h=!n.scheduler&&!n.delay,p=gn(n),d=!0,_=!1,y=void 0,v=n.compareStructural?et.structural:n.equals||et.default,m=new qe(u,function(){d||h?b():_||(_=!0,p(b))},n.onError,n.requiresObservable);function b(){if(_=!1,!m.isDisposed_){var e=!1;m.track(function(){var n=ee(!1,function(){return t(m)});e=d||!v(a,n),y=a,a=n}),d&&n.fireImmediately?l(a,y,m):!d&&e&&l(a,y,m),d=!1}}return m.schedule_(),m.getDisposer_()},n.remove=function(t,e){jr(t)?t[Z].delete_(e):Ir(t)?t.delete(e):Ar(t)?t.delete(e):Sr(t)?("number"!=typeof e&&(e=parseInt(e,10)),t.splice(e,1)):i(9)},n.set=function t(e,n,r){if(2!==arguments.length||Ar(e))jr(e)?e[Z].set_(n,r):Ir(e)?e.set(n,r):Ar(e)?e.add(n):Sr(e)?("number"!=typeof n&&(n=parseInt(n,10)),n<0&&i("Invalid index: '"+n+"'"),Le(),n>=e.length&&(e.length=n+1),e[n]=r,je()):i(8);else{Le();var o=n;try{for(var a in o)t(e,a,o[a])}finally{je()}}},n.spy=rn,n.toJS=function(t,e){return"production"!==r&&e&&i("toJS no longer supports options"),Kn(t,new Map)},n.trace=Jn,n.transaction=Qn,n.untracked=we,n.values=function(t){return jr(t)?Hn(t).map(function(e){return t[e]}):Ir(t)?Hn(t).map(function(e){return t.get(e)}):Ar(t)?Array.from(t.values()):Sr(t)?t.slice():void i(6)},n.when=function(t,e,n){return 1===arguments.length||e&&"object"==typeof e?tr(t,e):$n(t,e,n||{})};var r="production",o="production"!==r?{0:"Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'",1:function(t,e){return"Cannot apply '"+t+"' to '"+e.toString()+"': Field not found."},5:"'keys()' can only be used on observable objects, arrays, sets and maps",6:"'values()' can only be used on observable objects, arrays, sets and maps",7:"'entries()' can only be used on observable objects, arrays and maps",8:"'set()' can only be used on observable objects, arrays and maps",9:"'remove()' can only be used on observable objects, arrays and maps",10:"'has()' can only be used on observable objects, arrays and maps",11:"'get()' can only be used on observable objects, arrays and maps",12:"Invalid annotation",13:"Dynamic observable objects cannot be frozen",14:"Intercept handlers should return nothing or a change object",15:"Observable arrays cannot be frozen",16:"Modification exception: the internal structure of an observable array was changed.",17:function(t,e){return"[mobx.array] Index out of bounds, "+t+" is larger than "+e},18:"mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js",19:function(t){return"Cannot initialize from classes that inherit from Map: "+t.constructor.name},20:function(t){return"Cannot initialize map from "+t},21:function(t){return"Cannot convert to map from '"+t+"'"},22:"mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js",23:"It is not possible to get index atoms from arrays",24:function(t){return"Cannot obtain administration from "+t},25:function(t,e){return"the entry '"+t+"' does not exist in the observable map '"+e+"'"},26:"please specify a property",27:function(t,e){return"no observable property '"+t.toString()+"' found on the observable object '"+e+"'"},28:function(t){return"Cannot obtain atom from "+t},29:"Expecting some object",30:"invalid action stack. did you forget to finish an action?",31:"missing option for computed: get",32:function(t,e){return"Cycle detected in computation "+t+": "+e},33:function(t){return"The setter of computed value '"+t+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"},34:function(t){return"[ComputedValue '"+t+"'] It is not possible to assign a new value to a computed value."},35:"There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`",36:"isolateGlobalState should be called before MobX is running any reactions",37:function(t){return"[mobx] `observableArray."+t+"()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice()."+t+"()` instead"},38:"'ownKeys()' can only be used on observable objects",39:"'defineProperty()' can only be used on observable objects"}:{};function i(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if("production"!==r){var a="string"==typeof t?t:o[t];throw"function"==typeof a&&(a=a.apply(null,n)),new Error("[MobX] "+a)}throw new Error("number"==typeof t?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var a={};function s(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:a}var c=Object.assign,u=Object.getOwnPropertyDescriptor,l=Object.defineProperty,h=Object.prototype,p=[];Object.freeze(p);var f={};Object.freeze(f);var d="undefined"!=typeof Proxy,_=Object.toString();function y(){d||i("production"!==r?"`Proxy` objects are not available in the current environment. Please configure MobX to enable a fallback implementation.`":"Proxy not available")}function v(t){"production"!==r&&Ee.verifyProxies&&i("MobX is currently configured to be able to run in ES5 mode, but in ES5 MobX won't be able to "+t)}function g(){return++Ee.mobxGuid}function m(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var b=function(){};function w(t){return"function"==typeof t}function T(t){switch(typeof t){case"string":case"symbol":case"number":return!0}return!1}function S(t){return null!==t&&"object"==typeof t}function O(t){var e;if(!S(t))return!1;var n=Object.getPrototypeOf(t);return null==n||(null==(e=n.constructor)?void 0:e.toString())===_}function x(t){var e=null==t?void 0:t.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName)}function C(t,e,n){l(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function P(t,e,n){l(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function R(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return S(t)&&!0===t[n]}}function I(t){return t instanceof Map}function M(t){return t instanceof Set}var E=void 0!==Object.getOwnPropertySymbols;function D(t){var e=Object.keys(t);if(!E)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(e){return h.propertyIsEnumerable.call(t,e)})):e}var A="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:E?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function F(t){return"string"==typeof t?t:"symbol"==typeof t?t.toString():new String(t).toString()}function N(t){return null===t?null:"object"==typeof t?""+t:t}function k(t,e){return h.hasOwnProperty.call(t,e)}var U=Object.getOwnPropertyDescriptors||function(t){var e={};return A(t).forEach(function(n){e[n]=u(t,n)}),e};function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t,e,n){return e&&L(t.prototype,e),n&&L(t,n),t}function B(){return(B=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function V(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function G(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(t,e){if(t){if("string"==typeof t)return z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(t,e):void 0}}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function W(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=H(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}var q=Symbol("mobx-stored-annotations");function Y(t){return Object.assign(function(e,n){X(e,n,t)},t)}function X(t,e,n){k(t,q)||C(t,q,B({},t[q])),"production"!==r&&at(n)&&!k(t[q],e)&&i("'"+t.constructor.name+".prototype."+e.toString()+"' is decorated with 'override', but no such decorated member was found on prototype."),K(t,n,e),at(n)||(t[q][e]=n)}function K(t,e,n){if("production"!==r&&!at(e)&&k(t[q],n)){var o=t.constructor.name+".prototype."+n.toString(),a=t[q][n].annotationType_;i("Cannot apply '@"+e.annotationType_+"' to '"+o+"':\nThe field is already decorated with '@"+a+"'.\nRe-decorating fields is not allowed.\nUse '@override' decorator for methods overriden by subclass.")}}function J(t){return k(t,q)||("production"===r||t[q]||i("No annotations were passed to makeObservable, but no decorated members have been found either"),C(t,q,B({},t[q]))),t[q]}var Z=Symbol("mobx administration");n.$mobx=Z;var Q=function(){function t(t){void 0===t&&(t="production"!==r?"Atom@"+g():"Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ce.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(t){return t()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(t){return t()})},e.reportObserved=function(){return Be(this)},e.reportChanged=function(){Le(),Ve(this),je()},e.toString=function(){return this.name_},t}(),$=R("Atom",Q);function tt(t,e,n){void 0===e&&(e=b),void 0===n&&(n=b);var r=new Q(t);return e!==b&&wn(r,e),n!==b&&Tn(r,n),r}var et={identity:function(t,e){return t===e},structural:function(t,e){return eo(t,e)},default:function(t,e){return Object.is(t,e)},shallow:function(t,e){return eo(t,e,1)}};function nt(t,e,n){return Gn(t)?t:Array.isArray(t)?Bt.array(t,{name:n}):O(t)?Bt.object(t,void 0,{name:n}):I(t)?Bt.map(t,{name:n}):M(t)?Bt.set(t,{name:n}):"function"!=typeof t||_n(t)||Un(t)?t:x(t)?Nn(t):dn(n,t)}function rt(t){return t}n.comparer=et;var ot="override",it=Y({annotationType_:ot,make_:function(t,e){return"production"!==r&&t.isPlainObject_&&i("Cannot apply '"+this.annotationType_+"' to '"+t.name_+"."+e.toString()+"':\n'"+this.annotationType_+"' cannot be used on plain objects."),"production"===r||k(t.appliedAnnotations_,e)||i("'"+t.name_+"."+e.toString()+"' is annotated with '"+this.annotationType_+"', but no such annotated member was found on prototype."),0},extend_:function(){i("'"+this.annotationType_+"' can only be used with 'makeObservable'")}});function at(t){return t.annotationType_===ot}function st(t,e){return{annotationType_:t,options_:e,make_:ct,extend_:ut}}function ct(t,e,n,r){var o;if(null==(o=this.options_)?void 0:o.bound)return null===this.extend_(t,e,n,!1)?0:1;if(r===t.target_)return null===this.extend_(t,e,n,!1)?0:2;if(_n(n.value))return 1;var i=ht(t,this,e,n,!1);return l(r,e,i),2}function ut(t,e,n,r){var o=ht(t,this,e,n);return t.defineProperty_(e,o,r)}function lt(t,e,n,o){var a=e.annotationType_,s=o.value;"production"===r||w(s)||i("Cannot apply '"+a+"' to '"+t.name_+"."+n.toString()+"':\n'"+a+"' can only be used on properties with a function value.")}function ht(t,e,n,r,o){var i,a,s,c,u;void 0===o&&(o=Ee.safeDescriptors),lt(t,e,n,r);var l,h=r.value;return(null==(i=e.options_)?void 0:i.bound)&&(h=h.bind(null!=(l=t.proxy_)?l:t.target_)),{value:Zt(null!=(a=null==(s=e.options_)?void 0:s.name)?a:n.toString(),h,null!=(c=null==(u=e.options_)?void 0:u.autoAction)&&c),configurable:!o||t.isPlainObject_,enumerable:!1,writable:!o}}function pt(t,e){return{annotationType_:t,options_:e,make_:ft,extend_:dt}}function ft(t,e,n,r){var o;if(r===t.target_)return null===this.extend_(t,e,n,!1)?0:2;if((null==(o=this.options_)?void 0:o.bound)&&!Un(t.target_[e])&&null===this.extend_(t,e,n,!1))return 0;if(Un(n.value))return 1;var i=yt(t,this,e,n,!1,!1);return l(r,e,i),2}function dt(t,e,n,r){var o,i=yt(t,this,e,n,null==(o=this.options_)?void 0:o.bound);return t.defineProperty_(e,i,r)}function _t(t,e,n,o){var a=e.annotationType_,s=o.value;"production"===r||w(s)||i("Cannot apply '"+a+"' to '"+t.name_+"."+n.toString()+"':\n'"+a+"' can only be used on properties with a generator function value.")}function yt(t,e,n,r,o,i){void 0===i&&(i=Ee.safeDescriptors),_t(t,e,n,r);var a,s=r.value;return o&&(s=s.bind(null!=(a=t.proxy_)?a:t.target_)),{value:Nn(s),configurable:!i||t.isPlainObject_,enumerable:!1,writable:!i}}function vt(t,e){return{annotationType_:t,options_:e,make_:gt,extend_:mt}}function gt(t,e,n){return null===this.extend_(t,e,n,!1)?0:1}function mt(t,e,n,r){return bt(t,this,e,n),t.defineComputedProperty_(e,B({},this.options_,{get:n.get,set:n.set}),r)}function bt(t,e,n,o){var a=e.annotationType_,s=o.get;"production"===r||s||i("Cannot apply '"+a+"' to '"+t.name_+"."+n.toString()+"':\n'"+a+"' can only be used on getter(+setter) properties.")}function wt(t,e){return{annotationType_:t,options_:e,make_:Tt,extend_:St}}function Tt(t,e,n){return null===this.extend_(t,e,n,!1)?0:1}function St(t,e,n,r){var o,i;return Ot(t,this,e,n),t.defineObservableProperty_(e,n.value,null!=(o=null==(i=this.options_)?void 0:i.enhancer)?o:nt,r)}function Ot(t,e,n,o){var a=e.annotationType_;"production"===r||"value"in o||i("Cannot apply '"+a+"' to '"+t.name_+"."+n.toString()+"':\n'"+a+"' cannot be used on getter/setter properties")}n.override=it;var xt="true",Ct=Pt();function Pt(t){return{annotationType_:xt,options_:t,make_:Rt,extend_:It}}function Rt(t,e,n,r){var o,i,a,s;if(n.get)return Wt.make_(t,e,n,r);if(n.set){var c=Zt(e.toString(),n.set);return r===t.target_?null===t.defineProperty_(e,{configurable:!Ee.safeDescriptors||t.isPlainObject_,set:c})?0:2:(l(r,e,{configurable:!0,set:c}),2)}if(r!==t.target_&&"function"==typeof n.value)return x(n.value)?((null==(s=this.options_)?void 0:s.autoBind)?Nn.bound:Nn).make_(t,e,n,r):((null==(a=this.options_)?void 0:a.autoBind)?dn.bound:dn).make_(t,e,n,r);var u,h=!1===(null==(o=this.options_)?void 0:o.deep)?Bt.ref:Bt;return"function"==typeof n.value&&(null==(i=this.options_)?void 0:i.autoBind)&&(n.value=n.value.bind(null!=(u=t.proxy_)?u:t.target_)),h.make_(t,e,n,r)}function It(t,e,n,r){var o,i,a;return n.get?Wt.extend_(t,e,n,r):n.set?t.defineProperty_(e,{configurable:!Ee.safeDescriptors||t.isPlainObject_,set:Zt(e.toString(),n.set)},r):("function"==typeof n.value&&(null==(o=this.options_)?void 0:o.autoBind)&&(n.value=n.value.bind(null!=(a=t.proxy_)?a:t.target_)),(!1===(null==(i=this.options_)?void 0:i.deep)?Bt.ref:Bt).extend_(t,e,n,r))}var Mt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Et(t){return t||Mt}Object.freeze(Mt);var Dt=wt("observable"),At=wt("observable.ref",{enhancer:rt}),Ft=wt("observable.shallow",{enhancer:function(t,e,n){return null==t?t:jr(t)||Sr(t)||Ir(t)||Ar(t)?t:Array.isArray(t)?Bt.array(t,{name:n,deep:!1}):O(t)?Bt.object(t,void 0,{name:n,deep:!1}):I(t)?Bt.map(t,{name:n,deep:!1}):M(t)?Bt.set(t,{name:n,deep:!1}):void("production"!==r&&i("The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets"))}}),Nt=wt("observable.struct",{enhancer:function(t,e){return"production"!==r&&Gn(t)&&i("observable.struct should not be used with observable values"),eo(t,e)?e:t}}),kt=Y(Dt);function Ut(t){return!0===t.deep?nt:!1===t.deep?rt:(e=t.defaultDecorator)&&null!=(n=null==(r=e.options_)?void 0:r.enhancer)?n:nt;var e,n,r}function Lt(t){var e;return t?null!=(e=t.defaultDecorator)?e:Pt(t):void 0}function jt(t,e,n){if(!T(e))return Gn(t)?t:O(t)?Bt.object(t,e,n):Array.isArray(t)?Bt.array(t,e):I(t)?Bt.map(t,e):M(t)?Bt.set(t,e):"object"==typeof t&&null!==t?t:Bt.box(t,e);X(t,e,Dt)}Object.assign(jt,kt);var Bt=c(jt,{box:function(t,e){var n=Et(e);return new ae(t,Ut(n),n.name,!0,n.equals)},array:function(t,e){var n=Et(e);return(!1===Ee.useProxies||!1===n.proxy?Jr:dr)(t,Ut(n),n.name)},map:function(t,e){var n=Et(e);return new Cr(t,Ut(n),n.name)},set:function(t,e){var n=Et(e);return new Dr(t,Ut(n),n.name)},object:function(t,e,n){return Pn(!1===Ee.useProxies||!1===(null==n?void 0:n.proxy)?kr({},n):rr({},n),t,e)},ref:Y(At),shallow:Y(Ft),deep:kt,struct:Y(Nt)});n.observable=Bt;var Vt,Gt,Ht=vt("computed"),zt=vt("computed.struct",{equals:et.structural}),Wt=function(t,e){if(T(e))return X(t,e,Ht);if(O(t))return Y(vt("computed",t));"production"!==r&&(w(t)||i("First argument to `computed` should be an expression."),w(e)&&i("A setter as second argument is no longer supported, use `{ set: fn }` option instead"));var n=O(e)?e:{};return n.get=t,n.name||(n.name=t.name||""),new le(n)};n.computed=Wt,Object.assign(Wt,Ht),Wt.struct=Y(zt);var qt,Yt=0,Xt=1,Kt=null!=(Vt=null==(Gt=u(function(){},"name"))?void 0:Gt.configurable)&&Vt,Jt={value:"action",configurable:!0,writable:!1,enumerable:!1};function Zt(t,e,n,o){function a(){return Qt(t,n,e,o||this,arguments)}return void 0===n&&(n=!1),"production"!==r&&(w(e)||i("`action` can only be invoked on functions"),"string"==typeof t&&t||i("actions should have valid names, got: '"+t+"'")),a.isMobxAction=!0,Kt&&(Jt.value=t,Object.defineProperty(a,"name",Jt)),a}function Qt(t,e,n,r,o){var i=$t(t,e,r,o);try{return n.apply(r,o)}catch(a){throw i.error_=a,a}finally{te(i)}}function $t(t,e,n,o){var i="production"!==r&&Qe()&&!!t,a=0;if("production"!==r&&i){a=Date.now();var s=o?Array.from(o):p;tn({type:on,name:t,object:n,arguments:s})}var c=Ee.trackingDerivation,u=!e||!c;Le();var l=Ee.allowStateChanges;u&&(Te(),l=ne(!0));var h={runAsAction_:u,prevDerivation_:c,prevAllowStateChanges_:l,prevAllowStateReads_:Oe(!0),notifySpy_:i,startTime_:a,actionId_:Xt++,parentActionId_:Yt};return Yt=h.actionId_,h}function te(t){Yt!==t.actionId_&&i(30),Yt=t.parentActionId_,void 0!==t.error_&&(Ee.suppressReactionErrors=!0),re(t.prevAllowStateChanges_),xe(t.prevAllowStateReads_),je(),t.runAsAction_&&Se(t.prevDerivation_),"production"!==r&&t.notifySpy_&&nn({time:Date.now()-t.startTime_}),Ee.suppressReactionErrors=!1}function ee(t,e){var n=ne(t);try{return e()}finally{re(n)}}function ne(t){var e=Ee.allowStateChanges;return Ee.allowStateChanges=t,e}function re(t){Ee.allowStateChanges=t}var oe="create";qt=Symbol.toPrimitive;var ie,ae=function(t){function e(e,n,o,i,a){var s;return void 0===o&&(o="production"!==r?"ObservableValue@"+g():"ObservableValue"),void 0===i&&(i=!0),void 0===a&&(a=et.default),(s=t.call(this,o)||this).enhancer=void 0,s.name_=void 0,s.equals=void 0,s.hasUnreportedChange_=!1,s.interceptors_=void 0,s.changeListeners_=void 0,s.value_=void 0,s.dehancer=void 0,s.enhancer=n,s.name_=o,s.equals=a,s.value_=n(e,void 0,o),"production"!==r&&i&&Qe()&&$e({type:oe,object:G(s),observableKind:"value",debugObjectName:s.name_,newValue:""+s.value_}),s}V(e,t);var n=e.prototype;return n.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},n.set=function(t){var e=this.value_;if((t=this.prepareNewValue_(t))!==Ee.UNCHANGED){var n=Qe();"production"!==r&&n&&tn({type:hr,object:this,observableKind:"value",debugObjectName:this.name_,newValue:t,oldValue:e}),this.setNewValue_(t),"production"!==r&&n&&nn()}},n.prepareNewValue_=function(t){if(_e(this),or(this)){var e=ar(this,{object:this,type:hr,newValue:t});if(!e)return Ee.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value_,this.name_),this.equals(this.value_,t)?Ee.UNCHANGED:t},n.setNewValue_=function(t){var e=this.value_;this.value_=t,this.reportChanged(),sr(this)&&ur(this,{type:hr,object:this,newValue:t,oldValue:e})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(t){return ir(this,t)},n.observe_=function(t,e){return e&&t({observableKind:"value",debugObjectName:this.name_,object:this,type:hr,newValue:this.value_,oldValue:void 0}),cr(this,t)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return N(this.get())},n[qt]=function(){return this.valueOf()},e}(Q),se=R("ObservableValue",ae);n.isBoxedObservable=se,ie=Symbol.toPrimitive;var ce,ue,le=function(){function t(t){this.dependenciesState_=ce.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ce.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new pe(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=ue.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||i(31),this.derivation=t.get,this.name_=t.name||("production"!==r?"ComputedValue@"+g():"ComputedValue"),t.set&&(this.setter_=Zt("production"!==r?this.name_+"-setter":"ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?et.structural:et.default),this.scope_=t.context,this.requiresReaction_=!!t.requiresReaction,this.keepAlive_=!!t.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){He(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(t){return t()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(t){return t()})},e.get=function(){if(this.isComputing_&&i(32,this.name_,this.derivation),0!==Ee.inBatch||0!==this.observers_.size||this.keepAlive_){if(Be(this),de(this)){var t=Ee.trackingContext;this.keepAlive_&&!t&&(Ee.trackingContext=this),this.trackAndCompute()&&Ge(this),Ee.trackingContext=t}}else de(this)&&(this.warnAboutUntrackedRead_(),Le(),this.value_=this.computeValue_(!1),je());var e=this.value_;if(fe(e))throw e.cause;return e},e.set=function(t){if(this.setter_){this.isRunningSetter_&&i(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,t)}finally{this.isRunningSetter_=!1}}else i(34,this.name_)},e.trackAndCompute=function(){var t=this.value_,e=this.dependenciesState_===ce.NOT_TRACKING_,n=this.computeValue_(!0);"production"!==r&&Qe()&&$e({observableKind:"computed",debugObjectName:this.name_,object:this.scope_,type:"update",oldValue:this.value_,newValue:n});var o=e||fe(t)||fe(n)||!this.equals_(t,n);return o&&(this.value_=n),o},e.computeValue_=function(t){this.isComputing_=!0;var e,n=ne(!1);if(t)e=ve(this,this.derivation,this.scope_);else if(!0===Ee.disableErrorBoundaries)e=this.derivation.call(this.scope_);else try{e=this.derivation.call(this.scope_)}catch(r){e=new pe(r)}return re(n),this.isComputing_=!1,e},e.suspend_=function(){this.keepAlive_||(be(this),this.value_=void 0)},e.observe_=function(t,e){var n=this,r=!0,o=void 0;return yn(function(){var i=n.get();if(!r||e){var a=Te();t({observableKind:"computed",debugObjectName:n.name_,type:hr,object:n,newValue:i,oldValue:o}),Se(a)}r=!1,o=i})},e.warnAboutUntrackedRead_=function(){"production"!==r&&(!0===this.requiresReaction_&&i("[mobx] Computed value "+this.name_+" is read outside a reactive context"),this.isTracing_!==ue.NONE&&console.log("[mobx.trace] '"+this.name_+"' is being read outside a reactive context. Doing a full recompute"),Ee.computedRequiresReaction&&console.warn("[mobx] Computed value "+this.name_+" is being read outside a reactive context. Doing a full recompute"))},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return N(this.get())},e[ie]=function(){return this.valueOf()},t}(),he=R("ComputedValue",le);(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(ce||(ce={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(ue||(ue={}));var pe=function(t){this.cause=void 0,this.cause=t};function fe(t){return t instanceof pe}function de(t){switch(t.dependenciesState_){case ce.UP_TO_DATE_:return!1;case ce.NOT_TRACKING_:case ce.STALE_:return!0;case ce.POSSIBLY_STALE_:for(var e=Oe(!0),n=Te(),r=t.observing_,o=r.length,i=0;i<o;i++){var a=r[i];if(he(a)){if(Ee.disableErrorBoundaries)a.get();else try{a.get()}catch(s){return Se(n),xe(e),!0}if(t.dependenciesState_===ce.STALE_)return Se(n),xe(e),!0}}return Ce(t),Se(n),xe(e),!1}}function _e(t){if("production"!==r){var e=t.observers_.size>0;Ee.allowStateChanges||!e&&"always"!==Ee.enforceActions||console.warn("[MobX] "+(Ee.enforceActions?"Since strict-mode is enabled, changing (observed) observable values without using an action is not allowed. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, a computed value or the render function of a React component? You can wrap side effects in 'runInAction' (or decorate functions with 'action') if needed. Tried to modify: ")+t.name_)}}function ye(t){"production"!==r&&!Ee.allowStateReads&&Ee.observableRequiresReaction&&console.warn("[mobx] Observable "+t.name_+" being read outside a reactive context")}function ve(t,e,n){var r=Oe(!0);Ce(t),t.newObserving_=new Array(t.observing_.length+100),t.unboundDepsCount_=0,t.runId_=++Ee.runId;var o,i=Ee.trackingDerivation;if(Ee.trackingDerivation=t,Ee.inBatch++,!0===Ee.disableErrorBoundaries)o=e.call(n);else try{o=e.call(n)}catch(a){o=new pe(a)}return Ee.inBatch--,Ee.trackingDerivation=i,me(t),ge(t),xe(r),o}function ge(t){"production"!==r&&0===t.observing_.length&&(Ee.reactionRequiresObservable||t.requiresObservable_)&&console.warn("[mobx] Derivation "+t.name_+" is created/updated without reading any observable value")}function me(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,r=ce.UP_TO_DATE_,o=0,i=t.unboundDepsCount_,a=0;a<i;a++){var s=n[a];0===s.diffValue_&&(s.diffValue_=1,o!==a&&(n[o]=s),o++),s.dependenciesState_>r&&(r=s.dependenciesState_)}for(n.length=o,t.newObserving_=null,i=e.length;i--;){var c=e[i];0===c.diffValue_&&ke(c,t),c.diffValue_=0}for(;o--;){var u=n[o];1===u.diffValue_&&(u.diffValue_=0,Ne(u,t))}r!==ce.UP_TO_DATE_&&(t.dependenciesState_=r,t.onBecomeStale_())}function be(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)ke(e[n],t);t.dependenciesState_=ce.NOT_TRACKING_}function we(t){var e=Te();try{return t()}finally{Se(e)}}function Te(){var t=Ee.trackingDerivation;return Ee.trackingDerivation=null,t}function Se(t){Ee.trackingDerivation=t}function Oe(t){var e=Ee.allowStateReads;return Ee.allowStateReads=t,e}function xe(t){Ee.allowStateReads=t}function Ce(t){if(t.dependenciesState_!==ce.UP_TO_DATE_){t.dependenciesState_=ce.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=ce.UP_TO_DATE_}}var Pe=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],Re=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Ie=!0,Me=!1,Ee=function(){var t=s();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Ie=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new Re).version&&(Ie=!1),Ie?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Re):(setTimeout(function(){Me||i(35)},1),new Re)}();function De(){if((Ee.pendingReactions.length||Ee.inBatch||Ee.isRunningReactions)&&i(36),Me=!0,Ie){var t=s();0==--t.__mobxInstanceCount&&(t.__mobxGlobals=void 0),Ee=new Re}}function Ae(t){return t.observers_&&t.observers_.size>0}function Fe(t){return t.observers_}function Ne(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function ke(t,e){t.observers_.delete(e),0===t.observers_.size&&Ue(t)}function Ue(t){!1===t.isPendingUnobservation_&&(t.isPendingUnobservation_=!0,Ee.pendingUnobservations.push(t))}function Le(){Ee.inBatch++}function je(){if(0==--Ee.inBatch){Ke();for(var t=Ee.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof le&&n.suspend_())}Ee.pendingUnobservations=[]}}function Be(t){ye(t);var e=Ee.trackingDerivation;return null!==e?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved_&&Ee.trackingContext&&(t.isBeingObserved_=!0,t.onBO())),!0):(0===t.observers_.size&&Ee.inBatch>0&&Ue(t),!1)}function Ve(t){t.lowestObserverState_!==ce.STALE_&&(t.lowestObserverState_=ce.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===ce.UP_TO_DATE_&&("production"!==r&&e.isTracing_!==ue.NONE&&ze(e,t),e.onBecomeStale_()),e.dependenciesState_=ce.STALE_}))}function Ge(t){t.lowestObserverState_!==ce.STALE_&&(t.lowestObserverState_=ce.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===ce.POSSIBLY_STALE_?(e.dependenciesState_=ce.STALE_,"production"!==r&&e.isTracing_!==ue.NONE&&ze(e,t)):e.dependenciesState_===ce.UP_TO_DATE_&&(t.lowestObserverState_=ce.UP_TO_DATE_)}))}function He(t){t.lowestObserverState_===ce.UP_TO_DATE_&&(t.lowestObserverState_=ce.POSSIBLY_STALE_,t.observers_.forEach(function(t){t.dependenciesState_===ce.UP_TO_DATE_&&(t.dependenciesState_=ce.POSSIBLY_STALE_,t.onBecomeStale_())}))}function ze(t,e){if(console.log("[mobx.trace] '"+t.name_+"' is invalidated due to a change in: '"+e.name_+"'"),t.isTracing_===ue.BREAK){var n=[];We(Rn(t),n,1),new Function("debugger;\n/*\nTracing '"+t.name_+"'\n\nYou are entering this break point because derivation '"+t.name_+"' is being traced and '"+e.name_+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof le?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function We(t,e,n){e.length>=1e3?e.push("(and many more)"):(e.push(""+new Array(n).join("\t")+t.name),t.dependencies&&t.dependencies.forEach(function(t){return We(t,e,n+1)}))}var qe=function(){function t(t,e,n,o){void 0===t&&(t="production"!==r?"Reaction@"+g():"Reaction"),void 0===o&&(o=!1),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=ce.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=ue.NONE,this.name_=t,this.onInvalidate_=e,this.errorHandler_=n,this.requiresObservable_=o}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,Ee.pendingReactions.push(this),Ke())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){Le(),this.isScheduled_=!1;var t=Ee.trackingContext;if(Ee.trackingContext=this,de(this)){this.isTrackPending_=!0;try{this.onInvalidate_(),"production"!==r&&this.isTrackPending_&&Qe()&&$e({name:this.name_,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation_(e)}}Ee.trackingContext=t,je()}},e.track=function(t){if(!this.isDisposed_){Le();var e,n=Qe();"production"!==r&&n&&(e=Date.now(),tn({name:this.name_,type:"reaction"})),this.isRunning_=!0;var o=Ee.trackingContext;Ee.trackingContext=this;var i=ve(this,t,void 0);Ee.trackingContext=o,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&be(this),fe(i)&&this.reportExceptionInDerivation_(i.cause),"production"!==r&&n&&nn({time:Date.now()-e}),je()}},e.reportExceptionInDerivation_=function(t){var e=this;if(this.errorHandler_)this.errorHandler_(t,this);else{if(Ee.disableErrorBoundaries)throw t;var n="production"!==r?"[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'":"[mobx] uncaught error in '"+this+"'";Ee.suppressReactionErrors?"production"!==r&&console.warn("[mobx] (error in reaction '"+this.name_+"' suppressed, fix error of causing action below)"):console.error(n,t),"production"!==r&&Qe()&&$e({type:"error",name:this.name_,message:n,error:""+t}),Ee.globalReactionErrorHandlers.forEach(function(n){return n(t,e)})}},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Le(),be(this),je()))},e.getDisposer_=function(){var t=this.dispose.bind(this);return t[Z]=this,t},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(t){void 0===t&&(t=!1),Jn(this,t)},t}();n.Reaction=qe;var Ye=100,Xe=function(t){return t()};function Ke(){Ee.inBatch>0||Ee.isRunningReactions||Xe(Je)}function Je(){Ee.isRunningReactions=!0;for(var t=Ee.pendingReactions,e=0;t.length>0;){++e===Ye&&(console.error("production"!==r?"Reaction doesn't converge to a stable state after "+Ye+" iterations. Probably there is a cycle in the reactive function: "+t[0]:"[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),o=0,i=n.length;o<i;o++)n[o].runReaction_()}Ee.isRunningReactions=!1}var Ze=R("Reaction",qe);function Qe(){return"production"!==r&&!!Ee.spyListeners.length}function $e(t){if("production"!==r&&Ee.spyListeners.length)for(var e=Ee.spyListeners,n=0,o=e.length;n<o;n++)e[n](t)}function tn(t){"production"!==r&&$e(B({},t,{spyReportStart:!0}))}var en={type:"report-end",spyReportEnd:!0};function nn(t){"production"!==r&&$e(t?B({},t,{type:"report-end",spyReportEnd:!0}):en)}function rn(t){return"production"===r?(console.warn("[mobx.spy] Is a no-op in production builds"),function(){}):(Ee.spyListeners.push(t),m(function(){Ee.spyListeners=Ee.spyListeners.filter(function(e){return e!==t})}))}var on="action",an="autoAction",sn="<unnamed action>",cn=st(on),un=st("action.bound",{bound:!0}),ln=st(an,{autoAction:!0}),hn=st("autoAction.bound",{autoAction:!0,bound:!0});function pn(t){return function(e,n){return w(e)?Zt(e.name||sn,e,t):w(n)?Zt(e,n,t):T(n)?X(e,n,t?ln:cn):T(e)?Y(st(t?an:on,{name:e,autoAction:t})):void("production"!==r&&i("Invalid arguments for `action`"))}}var fn=pn(!1);n.action=fn,Object.assign(fn,cn);var dn=pn(!0);function _n(t){return w(t)&&!0===t.isMobxAction}function yn(t,e){var n,o;void 0===e&&(e=f),"production"!==r&&(w(t)||i("Autorun expects a function as first argument"),_n(t)&&i("Autorun does not accept actions since actions are untrackable"));var a,s=null!=(n=null==(o=e)?void 0:o.name)?n:"production"!==r?t.name||"Autorun@"+g():"Autorun";if(e.scheduler||e.delay){var c=gn(e),u=!1;a=new qe(s,function(){u||(u=!0,c(function(){u=!1,a.isDisposed_||a.track(l)}))},e.onError,e.requiresObservable)}else a=new qe(s,function(){this.track(l)},e.onError,e.requiresObservable);function l(){t(a)}return a.schedule_(),a.getDisposer_()}n._autoAction=dn,Object.assign(dn,ln),fn.bound=Y(un),dn.bound=Y(hn);var vn=function(t){return t()};function gn(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:vn}var mn="onBO",bn="onBUO";function wn(t,e,n){return Sn(mn,t,e,n)}function Tn(t,e,n){return Sn(bn,t,e,n)}function Sn(t,e,n,r){var o="function"==typeof r?Zr(e,n):Zr(e),i=w(r)?r:n,a=t+"L";return o[a]?o[a].add(i):o[a]=new Set([i]),function(){var t=o[a];t&&(t.delete(i),0===t.size&&delete o[a])}}var On="never",xn="always",Cn="observed";function Pn(t,e,n,o){"production"!==r&&(arguments.length>4&&i("'extendObservable' expected 2-4 arguments"),"object"!=typeof t&&i("'extendObservable' expects an object as first argument"),Ir(t)&&i("'extendObservable' should not be used on maps, use map.merge instead"),O(e)||i("'extendObservabe' only accepts plain objects as second argument"),(Gn(e)||Gn(n))&&i("Extending an object with another observable (object) is not supported"));var a=U(e),s=kr(t,o)[Z];Le();try{A(a).forEach(function(t){s.extend_(t,a[t],!n||!(t in n)||n[t])})}finally{je()}return t}function Rn(t,e){return In(Zr(t,e))}function In(t){var e,n={name:t.name_};return t.observing_&&t.observing_.length>0&&(n.dependencies=(e=t.observing_,Array.from(new Set(e))).map(In)),n}function Mn(t){var e={name:t.name_};return Ae(t)&&(e.observers=Array.from(Fe(t)).map(Mn)),e}var En=0;function Dn(){this.message="FLOW_CANCELLED"}Dn.prototype=Object.create(Error.prototype);var An=pt("flow"),Fn=pt("flow.bound",{bound:!0}),Nn=Object.assign(function(t,e){if(T(e))return X(t,e,An);"production"!==r&&1!==arguments.length&&i("Flow expects single argument with generator function");var n=t,o=n.name||"<unnamed flow>",a=function(){var t,e=this,r=arguments,i=++En,a=fn(o+" - runid: "+i+" - init",n).apply(e,r),s=void 0,c=new Promise(function(e,n){var r=0;function c(t){var e;s=void 0;try{e=fn(o+" - runid: "+i+" - yield "+r++,a.next).call(a,t)}catch(c){return n(c)}l(e)}function u(t){var e;s=void 0;try{e=fn(o+" - runid: "+i+" - yield "+r++,a.throw).call(a,t)}catch(c){return n(c)}l(e)}function l(t){if(!w(null==t?void 0:t.then))return t.done?e(t.value):(s=Promise.resolve(t.value)).then(c,u);t.then(l,n)}t=n,c(void 0)});return c.cancel=fn(o+" - runid: "+i+" - cancel",function(){try{s&&kn(s);var e=a.return(void 0),n=Promise.resolve(e.value);n.then(b,b),kn(n),t(new Dn)}catch(r){t(r)}}),c};return a.isMobXFlow=!0,a},An);function kn(t){w(t.cancel)&&t.cancel()}function Un(t){return!0===(null==t?void 0:t.isMobXFlow)}function Ln(t,e){return Qr(t).intercept_(e)}function jn(t,e,n){return Qr(t,e).intercept_(n)}function Bn(t,e){if(void 0!==e){if(!1===jr(t))return!1;if(!t[Z].values_.has(e))return!1;var n=Zr(t,e);return he(n)}return he(t)}function Vn(t,e){return!!t&&(void 0!==e?"production"!==r&&(Ir(t)||Sr(t))?i("isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead."):!!jr(t)&&t[Z].values_.has(e):jr(t)||!!t[Z]||$(t)||Ze(t)||he(t))}function Gn(t){return"production"!==r&&1!==arguments.length&&i("isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),Vn(t)}function Hn(t){return jr(t)?t[Z].keys_():Ir(t)||Ar(t)?Array.from(t.keys()):Sr(t)?t.map(function(t,e){return e}):void i(5)}function zn(t,e){return jr(t)?t[Z].has_(e):Ir(t)?t.has(e):Ar(t)?t.has(e):Sr(t)?e>=0&&e<t.length:void i(10)}function Wn(t){if(jr(t))return t[Z].ownKeys_();i(38)}function qn(t,e,n){return Qr(t).observe_(e,n)}function Yn(t,e,n,r){return Qr(t,e).observe_(n,r)}function Xn(t,e,n){return t.set(e,n),n}function Kn(t,e){if(null==t||"object"!=typeof t||t instanceof Date||!Gn(t))return t;if(se(t)||he(t))return Kn(t.get(),e);if(e.has(t))return e.get(t);if(Sr(t)){var n=Xn(e,t,new Array(t.length));return t.forEach(function(t,r){n[r]=Kn(t,e)}),n}if(Ar(t)){var r=Xn(e,t,new Set);return t.forEach(function(t){r.add(Kn(t,e))}),r}if(Ir(t)){var o=Xn(e,t,new Map);return t.forEach(function(t,n){o.set(n,Kn(t,e))}),o}var i=Xn(e,t,{});return Wn(t).forEach(function(n){h.propertyIsEnumerable.call(t,n)&&(i[n]=Kn(t[n],e))}),i}function Jn(){"production"===r&&i("trace() is not available in production builds");for(var t=!1,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];"boolean"==typeof n[n.length-1]&&(t=n.pop());var a=Zn(n);if(!a)return i("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");a.isTracing_===ue.NONE&&console.log("[mobx.trace] '"+a.name_+"' tracing enabled"),a.isTracing_=t?ue.BREAK:ue.LOG}function Zn(t){switch(t.length){case 0:return Ee.trackingDerivation;case 1:return Zr(t[0]);case 2:return Zr(t[0],t[1])}}function Qn(t,e){void 0===e&&(e=void 0),Le();try{return t.apply(e)}finally{je()}}function $n(t,e,n){var o;"number"==typeof n.timeout&&(o=setTimeout(function(){if(!a[Z].isDisposed_){a();var t=new Error("WHEN_TIMEOUT");if(!n.onError)throw t;n.onError(t)}},n.timeout)),n.name="production"!==r?n.name||"When@"+g():"When";var i=Zt("production"!==r?n.name+"-effect":"When-effect",e),a=yn(function(e){ee(!1,t)&&(e.dispose(),o&&clearTimeout(o),i())},n);return a}function tr(t,e){if("production"!==r&&e&&e.onError)return i("the options 'onError' and 'promise' cannot be combined");var n,o=new Promise(function(r,o){var i=$n(t,r,B({},e,{onError:o}));n=function(){i(),o("WHEN_CANCELLED")}});return o.cancel=n,o}function er(t){return t[Z]}n.flow=Nn,Nn.bound=Y(Fn);var nr={has:function(t,e){return"production"!==r&&Ee.trackingDerivation&&v("detect new properties using the 'in' operator. Use 'has' from 'mobx' instead."),er(t).has_(e)},get:function(t,e){return er(t).get_(e)},set:function(t,e,n){var o;return!!T(e)&&("production"===r||er(t).values_.has(e)||v("add a new observable property through direct assignment. Use 'set' from 'mobx' instead."),null==(o=er(t).set_(e,n,!0))||o)},deleteProperty:function(t,e){var n;return"production"!==r&&v("delete properties from an observable object. Use 'remove' from 'mobx' instead."),!!T(e)&&(null==(n=er(t).delete_(e,!0))||n)},defineProperty:function(t,e,n){var o;return"production"!==r&&v("define property on an observable object. Use 'defineProperty' from 'mobx' instead."),null==(o=er(t).defineProperty_(e,n))||o},ownKeys:function(t){return"production"!==r&&Ee.trackingDerivation&&v("iterate keys to detect added / removed properties. Use 'keys' from 'mobx' instead."),er(t).ownKeys_()},preventExtensions:function(){i(13)}};function rr(t,e){var n,r;return y(),null!=(r=(n=(t=kr(t,e))[Z]).proxy_)?r:n.proxy_=new Proxy(t,nr)}function or(t){return void 0!==t.interceptors_&&t.interceptors_.length>0}function ir(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),m(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function ar(t,e){var n=Te();try{for(var r=[].concat(t.interceptors_||[]),o=0,a=r.length;o<a&&((e=r[o](e))&&!e.type&&i(14),e);o++);return e}finally{Se(n)}}function sr(t){return void 0!==t.changeListeners_&&t.changeListeners_.length>0}function cr(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),m(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function ur(t,e){var n=Te(),r=t.changeListeners_;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](e);Se(n)}}var lr=Symbol("mobx-keys"),hr="update",pr={get:function(t,e){var n=t[Z];return e===Z?n:"length"===e?n.getArrayLength_():"string"!=typeof e||isNaN(e)?k(_r,e)?_r[e]:t[e]:n.get_(parseInt(e))},set:function(t,e,n){var r=t[Z];return"length"===e&&r.setArrayLength_(n),"symbol"==typeof e||isNaN(e)?t[e]=n:r.set_(parseInt(e),n),!0},preventExtensions:function(){i(15)}},fr=function(){function t(t,e,n,o){void 0===t&&(t="production"!==r?"ObservableArray@"+g():"ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=o,this.atom_=new Q(t),this.enhancer_=function(n,o){return e(n,o,"production"!==r?t+"[..]":"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.dehanceValues_=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},e.intercept_=function(t){return ir(this,t)},e.observe_=function(t,e){return void 0===e&&(e=!1),e&&t({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),cr(this,t)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(t){("number"!=typeof t||t<0)&&i("Out of range: "+t);var e=this.values_.length;if(t!==e)if(t>e){for(var n=new Array(t-e),r=0;r<t-e;r++)n[r]=void 0;this.spliceWithArray_(e,0,n)}else this.spliceWithArray_(t,e-t)},e.updateArrayLength_=function(t,e){t!==this.lastKnownLength_&&i(16),this.lastKnownLength_+=e,this.legacyMode_&&e>0&&Kr(t+e+1)},e.spliceWithArray_=function(t,e,n){var o=this;_e(this.atom_);var i=this.values_.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:null==e?0:Math.max(0,Math.min(e,i-t)),void 0===n&&(n=p),or(this)){var a=ar(this,{object:this.proxy_,type:"splice",index:t,removedCount:e,added:n});if(!a)return p;e=a.removedCount,n=a.added}if(n=0===n.length?n:n.map(function(t){return o.enhancer_(t,void 0)}),this.legacyMode_||"production"!==r){var s=n.length-e;this.updateArrayLength_(i,s)}var c=this.spliceItemsIntoValues_(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice_(t,n,c),this.dehanceValues_(c)},e.spliceItemsIntoValues_=function(t,e,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[t,e].concat(n));var o=this.values_.slice(t,t+e),i=this.values_.slice(t+e);this.values_.length=t+n.length-e;for(var a=0;a<n.length;a++)this.values_[t+a]=n[a];for(var s=0;s<i.length;s++)this.values_[t+n.length+s]=i[s];return o},e.notifyArrayChildUpdate_=function(t,e,n){var o=!this.owned_&&Qe(),i=sr(this),a=i||o?{observableKind:"array",object:this.proxy_,type:hr,debugObjectName:this.atom_.name_,index:t,newValue:e,oldValue:n}:null;"production"!==r&&o&&tn(a),this.atom_.reportChanged(),i&&ur(this,a),"production"!==r&&o&&nn()},e.notifyArraySplice_=function(t,e,n){var o=!this.owned_&&Qe(),i=sr(this),a=i||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;"production"!==r&&o&&tn(a),this.atom_.reportChanged(),i&&ur(this,a),"production"!==r&&o&&nn()},e.get_=function(t){if(t<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[t]);console.warn("production"!==r?"[mobx] Out of bounds read: "+t:"[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},e.set_=function(t,e){var n=this.values_;if(t<n.length){_e(this.atom_);var r=n[t];if(or(this)){var o=ar(this,{type:hr,object:this.proxy_,index:t,newValue:e});if(!o)return;e=o.newValue}(e=this.enhancer_(e,r))!==r&&(n[t]=e,this.notifyArrayChildUpdate_(t,e,r))}else t===n.length?this.spliceWithArray_(t,0,[e]):i(17,t,n.length)},t}();function dr(t,e,n,o){void 0===n&&(n="production"!==r?"ObservableArray@"+g():"ObservableArray"),void 0===o&&(o=!1),y();var i=new fr(n,e,o,!1);P(i.values_,Z,i);var a=new Proxy(i.values_,pr);if(i.proxy_=a,t&&t.length){var s=ne(!0);i.spliceWithArray_(0,0,t),re(s)}return a}var _r={clear:function(){return this.splice(0)},replace:function(t){var e=this[Z];return e.spliceWithArray_(0,e.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=this[Z];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray_(t);case 2:return i.spliceWithArray_(t,e)}return i.spliceWithArray_(t,e,r)},spliceWithArray:function(t,e,n){return this[Z].spliceWithArray_(t,e,n)},push:function(){for(var t=this[Z],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.spliceWithArray_(t.values_.length,0,n),t.values_.length},pop:function(){return this.splice(Math.max(this[Z].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[Z],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.spliceWithArray_(0,0,n),t.values_.length},reverse:function(){return Ee.trackingDerivation&&i(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Ee.trackingDerivation&&i(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var e=this[Z],n=e.dehanceValues_(e.values_).indexOf(t);return n>-1&&(this.splice(n,1),!0)}};function yr(t,e){"function"==typeof Array.prototype[t]&&(_r[t]=e(t))}function vr(t){return function(){var e=this[Z];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function gr(t){return function(e,n){var r=this,o=this[Z];return o.atom_.reportObserved(),o.dehanceValues_(o.values_)[t](function(t,o){return e.call(n,t,o,r)})}}function mr(t){return function(){var e=this,n=this[Z];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(t,n,r){return o(t,n,r,e)},r[t].apply(r,arguments)}}yr("concat",vr),yr("flat",vr),yr("includes",vr),yr("indexOf",vr),yr("join",vr),yr("lastIndexOf",vr),yr("slice",vr),yr("toString",vr),yr("toLocaleString",vr),yr("every",gr),yr("filter",gr),yr("find",gr),yr("findIndex",gr),yr("flatMap",gr),yr("forEach",gr),yr("map",gr),yr("some",gr),yr("reduce",mr),yr("reduceRight",mr);var br,wr,Tr=R("ObservableArrayAdministration",fr);function Sr(t){return S(t)&&Tr(t[Z])}var Or={},xr="add";br=Symbol.iterator,wr=Symbol.toStringTag;var Cr=function(){function t(t,e,n){void 0===e&&(e=nt),void 0===n&&(n="production"!==r?"ObservableMap@"+g():"ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Z]=Or,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=e,this.name_=n,w(Map)||i(18),this.keysAtom_=tt("production"!==r?this.name_+".keys()":"ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,this.merge(t)}var e=t.prototype;return e.has_=function(t){return this.data_.has(t)},e.has=function(t){var e=this;if(!Ee.trackingDerivation)return this.has_(t);var n=this.hasMap_.get(t);if(!n){var o=n=new ae(this.has_(t),rt,"production"!==r?this.name_+"."+F(t)+"?":"ObservableMap.key?",!1);this.hasMap_.set(t,o),Tn(o,function(){return e.hasMap_.delete(t)})}return n.get()},e.set=function(t,e){var n=this.has_(t);if(or(this)){var r=ar(this,{type:n?hr:xr,object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this.updateValue_(t,e):this.addValue_(t,e),this},e.delete=function(t){var e=this;if(_e(this.keysAtom_),or(this)&&!ar(this,{type:"delete",object:this,name:t}))return!1;if(this.has_(t)){var n=Qe(),o=sr(this),i=o||n?{observableKind:"map",debugObjectName:this.name_,type:"delete",object:this,oldValue:this.data_.get(t).value_,name:t}:null;return"production"!==r&&n&&tn(i),Qn(function(){e.keysAtom_.reportChanged(),e.updateHasMapEntry_(t,!1),e.data_.get(t).setNewValue_(void 0),e.data_.delete(t)}),o&&ur(this,i),"production"!==r&&n&&nn(),!0}return!1},e.updateHasMapEntry_=function(t,e){var n=this.hasMap_.get(t);n&&n.setNewValue_(e)},e.updateValue_=function(t,e){var n=this.data_.get(t);if((e=n.prepareNewValue_(e))!==Ee.UNCHANGED){var o=Qe(),i=sr(this),a=i||o?{observableKind:"map",debugObjectName:this.name_,type:hr,object:this,oldValue:n.value_,name:t,newValue:e}:null;"production"!==r&&o&&tn(a),n.setNewValue_(e),i&&ur(this,a),"production"!==r&&o&&nn()}},e.addValue_=function(t,e){var n=this;_e(this.keysAtom_),Qn(function(){var o=new ae(e,n.enhancer_,"production"!==r?n.name_+"."+F(t):"ObservableMap.key",!1);n.data_.set(t,o),e=o.value_,n.updateHasMapEntry_(t,!0),n.keysAtom_.reportChanged()});var o=Qe(),i=sr(this),a=i||o?{observableKind:"map",debugObjectName:this.name_,type:xr,object:this,name:t,newValue:e}:null;"production"!==r&&o&&tn(a),i&&ur(this,a),"production"!==r&&o&&nn()},e.get=function(t){return this.has(t)?this.dehanceValue_(this.data_.get(t).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var t=this,e=this.keys();return oo({next:function(){var n=e.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:t.get(o)}}})},e.entries=function(){var t=this,e=this.keys();return oo({next:function(){var n=e.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:[o,t.get(o)]}}})},e[br]=function(){return this.entries()},e.forEach=function(t,e){for(var n,r=W(this);!(n=r()).done;){var o=n.value,i=o[0],a=o[1];t.call(e,a,i,this)}},e.merge=function(t){var e=this;return Ir(t)&&(t=new Map(t)),Qn(function(){O(t)?D(t).forEach(function(n){return e.set(n,t[n])}):Array.isArray(t)?t.forEach(function(t){var n=t[0],r=t[1];return e.set(n,r)}):I(t)?(t.constructor!==Map&&i(19,t),t.forEach(function(t,n){return e.set(n,t)})):null!=t&&i(20,t)}),this},e.clear=function(){var t=this;Qn(function(){we(function(){for(var e,n=W(t.keys());!(e=n()).done;){var r=e.value;t.delete(r)}})})},e.replace=function(t){var e=this;return Qn(function(){for(var n,r=Mr(t),o=new Map,i=!1,a=W(e.data_.keys());!(n=a()).done;){var s=n.value;if(!r.has(s))if(e.delete(s))i=!0;else{var c=e.data_.get(s);o.set(s,c)}}for(var u,l=W(r.entries());!(u=l()).done;){var h=u.value,p=h[0],f=h[1],d=e.data_.has(p);if(e.set(p,f),e.data_.has(p)){var _=e.data_.get(p);o.set(p,_),d||(i=!0)}}if(!i)if(e.data_.size!==o.size)e.keysAtom_.reportChanged();else for(var y=e.data_.keys(),v=o.keys(),g=y.next(),m=v.next();!g.done;){if(g.value!==m.value){e.keysAtom_.reportChanged();break}g=y.next(),m=v.next()}e.data_=o}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(t,e){return"production"!==r&&!0===e&&i("`observe` doesn't support fireImmediately=true in combination with maps."),cr(this,t)},e.intercept_=function(t){return ir(this,t)},j(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:wr,get:function(){return"Map"}}]),t}();n.ObservableMap=Cr;var Pr,Rr,Ir=R("ObservableMap",Cr);function Mr(t){if(I(t)||Ir(t))return t;if(Array.isArray(t))return new Map(t);if(O(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}return i(21,t)}n.isObservableMap=Ir;var Er={};Pr=Symbol.iterator,Rr=Symbol.toStringTag;var Dr=function(){function t(t,e,n){void 0===e&&(e=nt),void 0===n&&(n="production"!==r?"ObservableSet@"+g():"ObservableSet"),this.name_=void 0,this[Z]=Er,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,w(Set)||i(22),this.atom_=tt(this.name_),this.enhancer_=function(t,r){return e(t,r,n)},t&&this.replace(t)}var e=t.prototype;return e.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.clear=function(){var t=this;Qn(function(){we(function(){for(var e,n=W(t.data_.values());!(e=n()).done;){var r=e.value;t.delete(r)}})})},e.forEach=function(t,e){for(var n,r=W(this);!(n=r()).done;){var o=n.value;t.call(e,o,o,this)}},e.add=function(t){var e=this;if(_e(this.atom_),or(this)&&!ar(this,{type:xr,object:this,newValue:t}))return this;if(!this.has(t)){Qn(function(){e.data_.add(e.enhancer_(t,void 0)),e.atom_.reportChanged()});var n="production"!==r&&Qe(),o=sr(this),i=o||n?{observableKind:"set",debugObjectName:this.name_,type:xr,object:this,newValue:t}:null;n&&"production"!==r&&tn(i),o&&ur(this,i),n&&"production"!==r&&nn()}return this},e.delete=function(t){var e=this;if(or(this)&&!ar(this,{type:"delete",object:this,oldValue:t}))return!1;if(this.has(t)){var n="production"!==r&&Qe(),o=sr(this),i=o||n?{observableKind:"set",debugObjectName:this.name_,type:"delete",object:this,oldValue:t}:null;return n&&"production"!==r&&tn(i),Qn(function(){e.atom_.reportChanged(),e.data_.delete(t)}),o&&ur(this,i),n&&"production"!==r&&nn(),!0}return!1},e.has=function(t){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(t))},e.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return oo({next:function(){var r=t;return t+=1,r<n.length?{value:[e[r],n[r]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var t=this,e=0,n=Array.from(this.data_.values());return oo({next:function(){return e<n.length?{value:t.dehanceValue_(n[e++]),done:!1}:{done:!0}}})},e.replace=function(t){var e=this;return Ar(t)&&(t=new Set(t)),Qn(function(){Array.isArray(t)?(e.clear(),t.forEach(function(t){return e.add(t)})):M(t)?(e.clear(),t.forEach(function(t){return e.add(t)})):null!=t&&i("Cannot initialize set from "+t)}),this},e.observe_=function(t,e){return"production"!==r&&!0===e&&i("`observe` doesn't support fireImmediately=true in combination with sets."),cr(this,t)},e.intercept_=function(t){return ir(this,t)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Pr]=function(){return this.values()},j(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Rr,get:function(){return"Set"}}]),t}();n.ObservableSet=Dr;var Ar=R("ObservableSet",Dr);n.isObservableSet=Ar;var Fr=Object.create(null),Nr=function(){function t(t,e,n,o){void 0===e&&(e=new Map),void 0===o&&(o=Ct),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=e,this.name_=n,this.defaultAnnotation_=o,this.keysAtom_=new Q("production"!==r?this.name_+".keys":"ObservableObject.keys"),this.isPlainObject_=O(this.target_),"production"===r||ao(this.defaultAnnotation_)||i("defaultAnnotation must be valid annotation"),"production"!==r&&(this.appliedAnnotations_={})}var e=t.prototype;return e.getObservablePropValue_=function(t){return this.values_.get(t).get()},e.setObservablePropValue_=function(t,e){var n=this.values_.get(t);if(n instanceof le)return n.set(e),!0;if(or(this)){var o=ar(this,{type:hr,object:this.proxy_||this.target_,name:t,newValue:e});if(!o)return null;e=o.newValue}if((e=n.prepareNewValue_(e))!==Ee.UNCHANGED){var i=sr(this),a="production"!==r&&Qe(),s=i||a?{type:hr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:t,newValue:e}:null;"production"!==r&&a&&tn(s),n.setNewValue_(e),i&&ur(this,s),"production"!==r&&a&&nn()}return!0},e.get_=function(t){return Ee.trackingDerivation&&!k(this.target_,t)&&this.has_(t),this.target_[t]},e.set_=function(t,e,n){return void 0===n&&(n=!1),k(this.target_,t)?this.values_.has(t)?this.setObservablePropValue_(t,e):n?Reflect.set(this.target_,t,e):(this.target_[t]=e,!0):this.extend_(t,{value:e,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},e.has_=function(t){if(!Ee.trackingDerivation)return t in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var e=this.pendingKeys_.get(t);return e||(e=new ae(t in this.target_,rt,"production"!==r?this.name_+"."+F(t)+"?":"ObservableObject.key?",!1),this.pendingKeys_.set(t,e)),e.get()},e.make_=function(t,e){if(!0===e&&(e=this.defaultAnnotation_),!1!==e){if(Vr(this,e,t),!(t in this.target_)){var n;if(null==(n=this.target_[q])?void 0:n[t])return;i(1,e.annotationType_,this.name_+"."+t.toString())}for(var r=this.target_;r&&r!==h;){var o=u(r,t);if(o){var a=e.make_(this,t,o,r);if(0===a)return;if(1===a)break}r=Object.getPrototypeOf(r)}Br(this,e,t)}},e.extend_=function(t,e,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(t,e,r);Vr(this,n,t);var o=n.extend_(this,t,e,r);return o&&Br(this,n,t),o},e.defineProperty_=function(t,e,n){void 0===n&&(n=!1);try{Le();var r=this.delete_(t);if(!r)return r;if(or(this)){var o=ar(this,{object:this.proxy_||this.target_,name:t,type:xr,newValue:e.value});if(!o)return null;var i=o.newValue;e.value!==i&&(e=B({},e,{value:i}))}if(n){if(!Reflect.defineProperty(this.target_,t,e))return!1}else l(this.target_,t,e);this.notifyPropertyAddition_(t,e.value)}finally{je()}return!0},e.defineObservableProperty_=function(t,e,n,o){void 0===o&&(o=!1);try{Le();var i=this.delete_(t);if(!i)return i;if(or(this)){var a=ar(this,{object:this.proxy_||this.target_,name:t,type:xr,newValue:e});if(!a)return null;e=a.newValue}var s=Lr(t),c={configurable:!Ee.safeDescriptors||this.isPlainObject_,enumerable:!0,get:s.get,set:s.set};if(o){if(!Reflect.defineProperty(this.target_,t,c))return!1}else l(this.target_,t,c);var u=new ae(e,n,"production"!==r?this.name_+"."+t.toString():"ObservableObject.key",!1);this.values_.set(t,u),this.notifyPropertyAddition_(t,u.value_)}finally{je()}return!0},e.defineComputedProperty_=function(t,e,n){void 0===n&&(n=!1);try{Le();var o=this.delete_(t);if(!o)return o;if(or(this)&&!ar(this,{object:this.proxy_||this.target_,name:t,type:xr,newValue:void 0}))return null;e.name||(e.name="production"!==r?this.name_+"."+t.toString():"ObservableObject.key"),e.context=this.proxy_||this.target_;var i=Lr(t),a={configurable:!Ee.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,t,a))return!1}else l(this.target_,t,a);this.values_.set(t,new le(e)),this.notifyPropertyAddition_(t,void 0)}finally{je()}return!0},e.delete_=function(t,e){if(void 0===e&&(e=!1),!k(this.target_,t))return!0;if(or(this)&&!ar(this,{object:this.proxy_||this.target_,name:t,type:"remove"}))return null;try{var n,o;Le();var i,a=sr(this),s="production"!==r&&Qe(),c=this.values_.get(t),l=void 0;if(c||!a&&!s||(l=null==(i=u(this.target_,t))?void 0:i.value),e){if(!Reflect.deleteProperty(this.target_,t))return!1}else delete this.target_[t];if("production"!==r&&delete this.appliedAnnotations_[t],c&&(this.values_.delete(t),c instanceof ae&&(l=c.value_),Ve(c)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(o=n.get(t))||o.set(t in this.target_),a||s){var h={type:"remove",observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:l,name:t};"production"!==r&&s&&tn(h),a&&ur(this,h),"production"!==r&&s&&nn()}}finally{je()}return!0},e.observe_=function(t,e){return"production"!==r&&!0===e&&i("`observe` doesn't support the fire immediately property for observable objects."),cr(this,t)},e.intercept_=function(t){return ir(this,t)},e.notifyPropertyAddition_=function(t,e){var n,o,i=sr(this),a="production"!==r&&Qe();if(i||a){var s=i||a?{type:xr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:t,newValue:e}:null;"production"!==r&&a&&tn(s),i&&ur(this,s),"production"!==r&&a&&nn()}null==(n=this.pendingKeys_)||null==(o=n.get(t))||o.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),A(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function kr(t,e){var n;if("production"!==r&&e&&jr(t)&&i("Options can't be provided for already observable objects."),k(t,Z))return"production"===r||Qr(t)instanceof Nr||i("Cannot convert '"+$r(t)+"' into observable object:\nThe target is already observable of different type.\nExtending builtins is not supported."),t;"production"===r||Object.isExtensible(t)||i("Cannot make the designated object observable; it is not extensible");var o=null!=(n=null==e?void 0:e.name)?n:"production"!==r?(O(t)?"ObservableObject":t.constructor.name)+"@"+g():"ObservableObject",a=new Nr(t,new Map,String(o),Lt(e));return C(t,Z,a),t}var Ur=R("ObservableObjectAdministration",Nr);function Lr(t){return Fr[t]||(Fr[t]={get:function(){return this[Z].getObservablePropValue_(t)},set:function(e){return this[Z].setObservablePropValue_(t,e)}})}function jr(t){return!!S(t)&&Ur(t[Z])}function Br(t,e,n){var o;"production"!==r&&(t.appliedAnnotations_[n]=e),null==(o=t.target_[q])||delete o[n]}function Vr(t,e,n){if("production"===r||ao(e)||i("Cannot annotate '"+t.name_+"."+n.toString()+"': Invalid annotation."),"production"!==r&&!at(e)&&k(t.appliedAnnotations_,n)){var o=t.name_+"."+n.toString(),a=t.appliedAnnotations_[n].annotationType_;i("Cannot apply '"+e.annotationType_+"' to '"+o+"':\nThe field is already annotated with '"+a+"'.\nRe-annotating fields is not allowed.\nUse 'override' annotation for methods overriden by subclass.")}}var Gr,Hr,zr=0,Wr=function(){};Gr=Wr,Hr=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Gr.prototype,Hr):void 0!==Gr.prototype.__proto__?Gr.prototype.__proto__=Hr:Gr.prototype=Hr;var qr=function(t){function e(e,n,o,i){var a;void 0===o&&(o="production"!==r?"ObservableArray@"+g():"ObservableArray"),void 0===i&&(i=!1),a=t.call(this)||this;var s=new fr(o,n,i,!0);if(s.proxy_=G(a),P(G(a),Z,s),e&&e.length){var c=ne(!0);a.spliceWithArray(0,0,e),re(c)}return a}V(e,t);var n=e.prototype;return n.concat=function(){this[Z].atom_.reportObserved();for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),e.map(function(t){return Sr(t)?t.slice():t}))},n[Symbol.iterator]=function(){var t=this,e=0;return oo({next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0,value:void 0}}})},j(e,[{key:"length",get:function(){return this[Z].getArrayLength_()},set:function(t){this[Z].setArrayLength_(t)}},{key:Symbol.toStringTag,get:function(){return"Array"}}]),e}(Wr);function Yr(t){return{enumerable:!1,configurable:!0,get:function(){return this[Z].get_(t)},set:function(e){this[Z].set_(t,e)}}}function Xr(t){l(qr.prototype,""+t,Yr(t))}function Kr(t){if(t>zr){for(var e=zr;e<t+100;e++)Xr(e);zr=t}}function Jr(t,e,n){return new qr(t,e,n)}function Zr(t,e){if("object"==typeof t&&null!==t){if(Sr(t))return void 0!==e&&i(23),t[Z].atom_;if(Ar(t))return t[Z];if(Ir(t)){if(void 0===e)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||i(25,e,$r(t)),n}if(jr(t)){if(!e)return i(26);var r=t[Z].values_.get(e);return r||i(27,e,$r(t)),r}if($(t)||he(t)||Ze(t))return t}else if(w(t)&&Ze(t[Z]))return t[Z];i(28)}function Qr(t,e){return t||i(29),void 0!==e?Qr(Zr(t,e)):$(t)||he(t)||Ze(t)?t:Ir(t)||Ar(t)?t:t[Z]?t[Z]:void i(24,t)}function $r(t,e){var n;if(void 0!==e)n=Zr(t,e);else{if(_n(t))return t.name;n=jr(t)||Ir(t)||Ar(t)?Qr(t):Zr(t)}return n.name_}Object.entries(_r).forEach(function(t){var e=t[0],n=t[1];"concat"!==e&&C(qr.prototype,e,n)}),Kr(1e3);var to=h.toString;function eo(t,e,n){return void 0===n&&(n=-1),no(t,e,n)}function no(t,e,n,r,o){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;if(!w(i)&&"object"!==i&&"object"!=typeof e)return!1;var a=to.call(t);if(a!==to.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++}t=ro(t),e=ro(e);var s="[object Array]"===a;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var c=t.constructor,u=e.constructor;if(c!==u&&!(w(c)&&c instanceof c&&w(u)&&u instanceof u)&&"constructor"in t&&"constructor"in e)return!1}if(0===n)return!1;n<0&&(n=-1),o=o||[];for(var l=(r=r||[]).length;l--;)if(r[l]===t)return o[l]===e;if(r.push(t),o.push(e),s){if((l=t.length)!==e.length)return!1;for(;l--;)if(!no(t[l],e[l],n-1,r,o))return!1}else{var h,p=Object.keys(t);if(l=p.length,Object.keys(e).length!==l)return!1;for(;l--;)if(!k(e,h=p[l])||!no(t[h],e[h],n-1,r,o))return!1}return r.pop(),o.pop(),!0}function ro(t){return Sr(t)?t.slice():I(t)||Ir(t)?Array.from(t.entries()):M(t)||Ar(t)?Array.from(t.entries()):t}function oo(t){return t[Symbol.iterator]=io,t}function io(){return this}function ao(t){return t instanceof Object&&"string"==typeof t.annotationType_&&w(t.make_)&&w(t.extend_)}["Symbol","Map","Set","Symbol"].forEach(function(t){void 0===s()[t]&&i("MobX requires global '"+t+"' to be available or polyfilled")}),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:rn,extras:{getDebugName:$r},$mobx:Z}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],utils:[function(t,e,n){"use strict";cc._RF.push(e,"1bc9aVAZH1Atrd5s8qUIVLr","utils"),Object.defineProperty(n,"__esModule",{value:!0}),n.timeFormat=n.dateToStr=n.ArrayRemove=n.clearStorage=n.getStorage=n.setStorage=n.loadRemoteImg=n.getPosByDesign=n.getSpriteSiteAuto=n.setSafeArea=n.someTimeOnce=n.getOddsByNum=n.getUrlParams=void 0,n.getUrlParams=function(t){var e={};return(t.split("?")[1]||t).split("&").forEach(function(t){var n=t.split("=");e[n[0]]=n[1]}),e},n.getOddsByNum=function(t){return Math.random()<t},n.someTimeOnce=function(t,e){void 0===e&&(e=1);var n=JSON.parse(cc.sys.localStorage.getItem("onceObj")||"{}"),r=(new Date).getDate();return!(n[t]&&r-n[t]<e||(n[t]=r,cc.sys.localStorage.setItem("onceObj",JSON.stringify(n)),0))},n.setSafeArea=function(t,e,n){void 0===n&&(n=0);var r=cc.view.getVisibleSize().height-cc.sys.getSafeAreaRect().height;(r+=e)<n&&(r=n);var o=t.getComponent(cc.Widget);return o.top=r,o.updateAlignment(),r},n.getSpriteSiteAuto=function(t,e,n){var r=t.getOriginalSize();if("w"===e){var o=n/r.width*r.height;return cc.size(n,o)}if("h"===e){var i=n/r.height*r.width;return cc.size(i,n)}},n.getPosByDesign=function(t){var e=cc.v2(t),n=(1624-cc.winSize.height)/2;return e.y>0?e.y-=n:e.y+=n,e},n.loadRemoteImg=function(t){return new Promise(function(e){cc.assetManager.loadRemote(t,{ext:".png"},function(n,r){n?(cc.error(t+" [\u56fe\u7247\u8d44\u6e90\u52a0\u8f7d] \u9519\u8bef "+n),e(null)):e(new cc.SpriteFrame(r))})})},n.setStorage=function(t,e){if(""!==e){var n="string"==typeof e?e:JSON.stringify(e);cc.sys.localStorage.setItem(t,n)}else cc.error(t+" [\u5b58\u50a8value:"+e+"] \u9519\u8bef")},n.getStorage=function(t,e){void 0===e&&(e="st");var n=cc.sys.localStorage.getItem(t);return"st"===e?n:"obj"===e&&n?JSON.parse(n):void 0},n.clearStorage=function(){cc.sys.localStorage.clear()},n.ArrayRemove=function(t,e){if(Array.isArray(t)){var n=t.indexOf(e);n>-1&&t.splice(n,1)}},n.dateToStr=function(t){void 0===t&&(t=new Date);var e=t.getMonth()+1,n=t.getDate();return e>=1&&e<=9&&(e="0"+e),n>=0&&n<=9&&(n="0"+n),t.getFullYear()+"-"+e+"-"+n+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},n.timeFormat=function(t){var e=new Date(t),n="",r=((new Date).getTime()-e.getTime())/1e3;return r<300?n="\u521a\u521a":r>=300&&r<3600?n=parseInt((r/60).toString())+"\u5206\u949f\u524d":r>=3600&&r<86400?n=parseInt((r/3600).toString())+"\u5c0f\u65f6\u524d":r>=86400&&r<2592e3?n=parseInt((r/3600/24).toString())+"\u5929\u524d":r>=2592e3&&r<31104e3?n=parseInt((r/3600/24/30).toString())+"\u4e2a\u6708\u524d":t>=31104e3&&(n=parseInt((r/3600/24/30/12).toString())+"\u5e74\u524d"),n},cc._RF.pop()},{}]},{},["UIHome_Auto","UIRecipeInfo_Auto","UIRecipe_Auto","UITop_Auto","UIWorkDesk_Auto","BaseAssembler","BatchAssembler","MeshAssembler","TextureAssembler","BroadcastCenter","BatchComponent","ButtonPlus","CacheUtils","CameraCapture","DrawBorad","GPWorkFlow","GridScrollList","KawaseBlur","List","ListItem","MaskPlus","MeshTexture","Printer","PropController","PropSelector","QuadTree","RecycleScroll","ScrollViewHelper","Shake","SpinePlus","TexturePlus","TouchPlus","adaptToPositionArr","EventBox","GPDrag","GameConfig","Light","LightStruct","LightUtils","Obstacle","mobx","StateMachine","BigNumUtils","BroadCast","ClassHelper","CommonUtils","DebugWindowUtils","DrawingBoard","Dungeon","EnumUtils","GlobalHelper","LRUCache","MatchUtils","Measure","PolygonUtil","Pool","PriorityQueue","PriorityStack","PropBind","Queue","RenderUtil","TaskMgr","utils","GlobalData","MessageInfo","RawMaterial","ResConfig","MessageType","AutoFindPath","Joystick","Coffee","MenuItem","RawItem","RecipeItem","RecipeModuleItem","RoleMgr","TableMgr","Player","BaseRole","BaseTable","Game","BaseMgr","ConfigMgr","PlayerMgr","Main","Scene","UIConfig","AdapterMgr","CocosHelper","DrawerMgr","EventCenter","EventType","FixedMgr","FormMgr","ModalMgr","ModalMgr1","ResMgr","SceneMgr","SoundMgr","Struct","TipsMgr","ToastMgr","UIBase","UIForm","UIManager","UIModalScript","WindowMgr","SysConfig","SysDefine","UIHome","UILoading","UIRecipe","UIRecipeInfo","UITop","UIWorkDesk","UIToast1"]);