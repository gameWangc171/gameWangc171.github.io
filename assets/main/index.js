window.__require=function t(e,n,o){function r(a,s){if(!n[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return r(e[a][1][t]||t)},l,l.exports,t,e,n,o)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,e,n){(function(t){(function(){var o,r=200,i="Expected a function",a="__lodash_placeholder__",s=1,c=2,u=4,l=1,p=2,h=1,f=2,d=4,_=8,y=16,v=32,g=64,m=128,b=256,w=512,T=800,S=16,O=1/0,C=9007199254740991,P=17976931348623157e292,x=NaN,I=4294967295,R=I-1,M=I>>>1,E=[["ary",m],["bind",h],["bindKey",f],["curry",_],["curryRight",y],["flip",w],["partial",v],["partialRight",g],["rearg",b]],D="[object Arguments]",A="[object Array]",k="[object AsyncFunction]",F="[object Boolean]",N="[object Date]",U="[object DOMException]",L="[object Error]",j="[object Function]",B="[object GeneratorFunction]",G="[object Map]",V="[object Number]",H="[object Null]",z="[object Object]",W="[object Proxy]",q="[object RegExp]",Y="[object Set]",K="[object String]",X="[object Symbol]",J="[object Undefined]",Z="[object WeakMap]",Q="[object ArrayBuffer]",$="[object DataView]",tt="[object Float32Array]",et="[object Float64Array]",nt="[object Int8Array]",ot="[object Int16Array]",rt="[object Int32Array]",it="[object Uint8Array]",at="[object Uint8ClampedArray]",st="[object Uint16Array]",ct="[object Uint32Array]",ut=/\b__p \+= '';/g,lt=/\b(__p \+=) '' \+/g,pt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ht=/&(?:amp|lt|gt|quot|#39);/g,ft=/[&<>"']/g,dt=RegExp(ht.source),_t=RegExp(ft.source),yt=/<%-([\s\S]+?)%>/g,vt=/<%([\s\S]+?)%>/g,gt=/<%=([\s\S]+?)%>/g,mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bt=/^\w*$/,wt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tt=/[\\^$.*+?()[\]{}|]/g,St=RegExp(Tt.source),Ot=/^\s+/,Ct=/\s/,Pt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,xt=/\{\n\/\* \[wrapped with (.+)\] \*/,It=/,? & /,Rt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Mt=/[()=,{}\[\]\/\s]/,Et=/\\(\\)?/g,Dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,At=/\w*$/,kt=/^[-+]0x[0-9a-f]+$/i,Ft=/^0b[01]+$/i,Nt=/^\[object .+?Constructor\]$/,Ut=/^0o[0-7]+$/i,Lt=/^(?:0|[1-9]\d*)$/,jt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Bt=/($^)/,Gt=/['\n\r\u2028\u2029\\]/g,Vt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ht="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zt="["+Ht+"]",Wt="["+Vt+"]",qt="\\d+",Yt="[a-z\\xdf-\\xf6\\xf8-\\xff]",Kt="[^\\ud800-\\udfff"+Ht+qt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Xt="\\ud83c[\\udffb-\\udfff]",Jt="[^\\ud800-\\udfff]",Zt="(?:\\ud83c[\\udde6-\\uddff]){2}",Qt="[\\ud800-\\udbff][\\udc00-\\udfff]",$t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",te="(?:"+Yt+"|"+Kt+")",ee="(?:"+$t+"|"+Kt+")",ne="(?:"+Wt+"|"+Xt+")?",oe="[\\ufe0e\\ufe0f]?"+ne+"(?:\\u200d(?:"+[Jt,Zt,Qt].join("|")+")[\\ufe0e\\ufe0f]?"+ne+")*",re="(?:"+["[\\u2700-\\u27bf]",Zt,Qt].join("|")+")"+oe,ie="(?:"+[Jt+Wt+"?",Wt,Zt,Qt,"[\\ud800-\\udfff]"].join("|")+")",ae=RegExp("['\u2019]","g"),se=RegExp(Wt,"g"),ce=RegExp(Xt+"(?="+Xt+")|"+ie+oe,"g"),ue=RegExp([$t+"?"+Yt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[zt,$t,"$"].join("|")+")",ee+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[zt,$t+te,"$"].join("|")+")",$t+"?"+te+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",$t+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qt,re].join("|"),"g"),le=RegExp("[\\u200d\\ud800-\\udfff"+Vt+"\\ufe0e\\ufe0f]"),pe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,he=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],fe=-1,de={};de[tt]=de[et]=de[nt]=de[ot]=de[rt]=de[it]=de[at]=de[st]=de[ct]=!0,de[D]=de[A]=de[Q]=de[F]=de[$]=de[N]=de[L]=de[j]=de[G]=de[V]=de[z]=de[q]=de[Y]=de[K]=de[Z]=!1;var _e={};_e[D]=_e[A]=_e[Q]=_e[$]=_e[F]=_e[N]=_e[tt]=_e[et]=_e[nt]=_e[ot]=_e[rt]=_e[G]=_e[V]=_e[z]=_e[q]=_e[Y]=_e[K]=_e[X]=_e[it]=_e[at]=_e[st]=_e[ct]=!0,_e[L]=_e[j]=_e[Z]=!1;var ye={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ve=parseFloat,ge=parseInt,me="object"==typeof t&&t&&t.Object===Object&&t,be="object"==typeof self&&self&&self.Object===Object&&self,we=me||be||Function("","return this")(),Te="object"==typeof n&&n&&!n.nodeType&&n,Se=Te&&"object"==typeof e&&e&&!e.nodeType&&e,Oe=Se&&Se.exports===Te,Ce=Oe&&me.process,Pe=function(){try{return Se&&Se.require&&Se.require("util").types||Ce&&Ce.binding&&Ce.binding("util")}catch(t){}}(),xe=Pe&&Pe.isArrayBuffer,Ie=Pe&&Pe.isDate,Re=Pe&&Pe.isMap,Me=Pe&&Pe.isRegExp,Ee=Pe&&Pe.isSet,De=Pe&&Pe.isTypedArray;function Ae(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ke(t,e,n,o){for(var r=-1,i=null==t?0:t.length;++r<i;){var a=t[r];e(o,a,n(a),t)}return o}function Fe(t,e){for(var n=-1,o=null==t?0:t.length;++n<o&&!1!==e(t[n],n,t););return t}function Ne(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ue(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(!e(t[n],n,t))return!1;return!0}function Le(t,e){for(var n=-1,o=null==t?0:t.length,r=0,i=[];++n<o;){var a=t[n];e(a,n,t)&&(i[r++]=a)}return i}function je(t,e){return!(null==t||!t.length)&&Ze(t,e,0)>-1}function Be(t,e,n){for(var o=-1,r=null==t?0:t.length;++o<r;)if(n(e,t[o]))return!0;return!1}function Ge(t,e){for(var n=-1,o=null==t?0:t.length,r=Array(o);++n<o;)r[n]=e(t[n],n,t);return r}function Ve(t,e){for(var n=-1,o=e.length,r=t.length;++n<o;)t[r+n]=e[n];return t}function He(t,e,n,o){var r=-1,i=null==t?0:t.length;for(o&&i&&(n=t[++r]);++r<i;)n=e(n,t[r],r,t);return n}function ze(t,e,n,o){var r=null==t?0:t.length;for(o&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function We(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1}var qe=en("length");function Ye(t){return t.split("")}function Ke(t){return t.match(Rt)||[]}function Xe(t,e,n){var o;return n(t,function(t,n,r){if(e(t,n,r))return o=n,!1}),o}function Je(t,e,n,o){for(var r=t.length,i=n+(o?1:-1);o?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function Ze(t,e,n){return e==e?In(t,e,n):Je(t,$e,n)}function Qe(t,e,n,o){for(var r=n-1,i=t.length;++r<i;)if(o(t[r],e))return r;return-1}function $e(t){return t!=t}function tn(t,e){var n=null==t?0:t.length;return n?an(t,e)/n:x}function en(t){return function(e){return null==e?o:e[t]}}function nn(t){return function(e){return null==t?o:t[e]}}function on(t,e,n,o,r){return r(t,function(t,r,i){n=o?(o=!1,t):e(n,t,r,i)}),n}function rn(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function an(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==o&&(n=n===o?a:n+a)}return n}function sn(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}function cn(t,e){return Ge(e,function(e){return[e,t[e]]})}function un(t){return t?t.slice(0,Dn(t)+1).replace(Ot,""):t}function ln(t){return function(e){return t(e)}}function pn(t,e){return Ge(e,function(e){return t[e]})}function hn(t,e){return t.has(e)}function fn(t,e){for(var n=-1,o=t.length;++n<o&&Ze(e,t[n],0)>-1;);return n}function dn(t,e){for(var n=t.length;n--&&Ze(e,t[n],0)>-1;);return n}function _n(t,e){for(var n=t.length,o=0;n--;)t[n]===e&&++o;return o}var yn=nn({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),vn=nn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function gn(t){return"\\"+ye[t]}function mn(t,e){return null==t?o:t[e]}function bn(t){return le.test(t)}function wn(t){return pe.test(t)}function Tn(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function Sn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,o){n[++e]=[o,t]}),n}function On(t,e){return function(n){return t(e(n))}}function Cn(t,e){for(var n=-1,o=t.length,r=0,i=[];++n<o;){var s=t[n];s!==e&&s!==a||(t[n]=a,i[r++]=n)}return i}function Pn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function xn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function In(t,e,n){for(var o=n-1,r=t.length;++o<r;)if(t[o]===e)return o;return-1}function Rn(t,e,n){for(var o=n+1;o--;)if(t[o]===e)return o;return o}function Mn(t){return bn(t)?kn(t):qe(t)}function En(t){return bn(t)?Fn(t):Ye(t)}function Dn(t){for(var e=t.length;e--&&Ct.test(t.charAt(e)););return e}var An=nn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});function kn(t){for(var e=ce.lastIndex=0;ce.test(t);)++e;return e}function Fn(t){return t.match(ce)||[]}function Nn(t){return t.match(ue)||[]}var Un=function t(e){var n,Ct=(e=null==e?we:Un.defaults(we.Object(),e,Un.pick(we,he))).Array,Rt=e.Date,Vt=e.Error,Ht=e.Function,zt=e.Math,Wt=e.Object,qt=e.RegExp,Yt=e.String,Kt=e.TypeError,Xt=Ct.prototype,Jt=Ht.prototype,Zt=Wt.prototype,Qt=e["__core-js_shared__"],$t=Jt.toString,te=Zt.hasOwnProperty,ee=0,ne=(n=/[^.]+$/.exec(Qt&&Qt.keys&&Qt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",oe=Zt.toString,re=$t.call(Wt),ie=we._,ce=qt("^"+$t.call(te).replace(Tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ue=Oe?e.Buffer:o,le=e.Symbol,pe=e.Uint8Array,ye=ue?ue.allocUnsafe:o,me=On(Wt.getPrototypeOf,Wt),be=Wt.create,Te=Zt.propertyIsEnumerable,Se=Xt.splice,Ce=le?le.isConcatSpreadable:o,Pe=le?le.iterator:o,qe=le?le.toStringTag:o,Ye=function(){try{var t=ra(Wt,"defineProperty");return t({},"",{}),t}catch(e){}}(),nn=e.clearTimeout!==we.clearTimeout&&e.clearTimeout,In=Rt&&Rt.now!==we.Date.now&&Rt.now,kn=e.setTimeout!==we.setTimeout&&e.setTimeout,Fn=zt.ceil,Ln=zt.floor,jn=Wt.getOwnPropertySymbols,Bn=ue?ue.isBuffer:o,Gn=e.isFinite,Vn=Xt.join,Hn=On(Wt.keys,Wt),zn=zt.max,Wn=zt.min,qn=Rt.now,Yn=e.parseInt,Kn=zt.random,Xn=Xt.reverse,Jn=ra(e,"DataView"),Zn=ra(e,"Map"),Qn=ra(e,"Promise"),$n=ra(e,"Set"),to=ra(e,"WeakMap"),eo=ra(Wt,"create"),no=to&&new to,oo={},ro=Ba(Jn),io=Ba(Zn),ao=Ba(Qn),so=Ba($n),co=Ba(to),uo=le?le.prototype:o,lo=uo?uo.valueOf:o,po=uo?uo.toString:o;function ho(t){if(rc(t)&&!Ys(t)&&!(t instanceof vo)){if(t instanceof yo)return t;if(te.call(t,"__wrapped__"))return Va(t)}return new yo(t)}var fo=function(){function t(){}return function(e){if(!oc(e))return{};if(be)return be(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function _o(){}function yo(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function vo(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=I,this.__views__=[]}function go(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function mo(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function bo(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function wo(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new bo;++e<n;)this.add(t[e])}function To(t){var e=this.__data__=new mo(t);this.size=e.size}function So(t,e){var n=Ys(t),o=!n&&qs(t),r=!n&&!o&&Zs(t),i=!n&&!o&&!r&&hc(t),a=n||o||r||i,s=a?sn(t.length,Yt):[],c=s.length;for(var u in t)!e&&!te.call(t,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||va(u,c))||s.push(u);return s}function Oo(t){var e=t.length;return e?t[Mr(0,e-1)]:o}function Co(t,e){return Ua(_i(t),Fo(e,0,t.length))}function Po(t){return Ua(_i(t))}function xo(t,e,n){(n===o||Hs(t[e],n))&&(n!==o||e in t)||Ao(t,e,n)}function Io(t,e,n){var r=t[e];te.call(t,e)&&Hs(r,n)&&(n!==o||e in t)||Ao(t,e,n)}function Ro(t,e){for(var n=t.length;n--;)if(Hs(t[n][0],e))return n;return-1}function Mo(t,e,n,o){return Go(t,function(t,r,i){e(o,t,n(t),i)}),o}function Eo(t,e){return t&&yi(e,kc(e),t)}function Do(t,e){return t&&yi(e,Fc(e),t)}function Ao(t,e,n){"__proto__"==e&&Ye?Ye(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ko(t,e){for(var n=-1,r=e.length,i=Ct(r),a=null==t;++n<r;)i[n]=a?o:Rc(t,e[n]);return i}function Fo(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function No(t,e,n,r,i,a){var l,p=e&s,h=e&c,f=e&u;if(n&&(l=i?n(t,r,i,a):n(t)),l!==o)return l;if(!oc(t))return t;var d=Ys(t);if(d){if(l=ha(t),!p)return _i(t,l)}else{var _=ca(t),y=_==j||_==B;if(Zs(t))return ai(t,p);if(_==z||_==D||y&&!i){if(l=h||y?{}:fa(t),!p)return h?gi(t,Do(l,t)):vi(t,Eo(l,t))}else{if(!_e[_])return i?t:{};l=da(t,_,p)}}a||(a=new To);var v=a.get(t);if(v)return v;a.set(t,l),uc(t)?t.forEach(function(o){l.add(No(o,e,n,o,t,a))}):ic(t)&&t.forEach(function(o,r){l.set(r,No(o,e,n,r,t,a))});var g=d?o:(f?h?Zi:Ji:h?Fc:kc)(t);return Fe(g||t,function(o,r){g&&(o=t[r=o]),Io(l,r,No(o,e,n,r,t,a))}),l}function Uo(t){var e=kc(t);return function(n){return Lo(n,t,e)}}function Lo(t,e,n){var r=n.length;if(null==t)return!r;for(t=Wt(t);r--;){var i=n[r],a=e[i],s=t[i];if(s===o&&!(i in t)||!a(s))return!1}return!0}function jo(t,e,n){if("function"!=typeof t)throw new Kt(i);return Aa(function(){t.apply(o,n)},e)}function Bo(t,e,n,o){var i=-1,a=je,s=!0,c=t.length,u=[],l=e.length;if(!c)return u;n&&(e=Ge(e,ln(n))),o?(a=Be,s=!1):e.length>=r&&(a=hn,s=!1,e=new wo(e));t:for(;++i<c;){var p=t[i],h=null==n?p:n(p);if(p=o||0!==p?p:0,s&&h==h){for(var f=l;f--;)if(e[f]===h)continue t;u.push(p)}else a(e,h,o)||u.push(p)}return u}ho.templateSettings={escape:yt,evaluate:vt,interpolate:gt,variable:"",imports:{_:ho}},ho.prototype=_o.prototype,ho.prototype.constructor=ho,yo.prototype=fo(_o.prototype),yo.prototype.constructor=yo,vo.prototype=fo(_o.prototype),vo.prototype.constructor=vo,go.prototype.clear=function(){this.__data__=eo?eo(null):{},this.size=0},go.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},go.prototype.get=function(t){var e=this.__data__;if(eo){var n=e[t];return"__lodash_hash_undefined__"===n?o:n}return te.call(e,t)?e[t]:o},go.prototype.has=function(t){var e=this.__data__;return eo?e[t]!==o:te.call(e,t)},go.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=eo&&e===o?"__lodash_hash_undefined__":e,this},mo.prototype.clear=function(){this.__data__=[],this.size=0},mo.prototype.delete=function(t){var e=this.__data__,n=Ro(e,t);return!(n<0||(n==e.length-1?e.pop():Se.call(e,n,1),--this.size,0))},mo.prototype.get=function(t){var e=this.__data__,n=Ro(e,t);return n<0?o:e[n][1]},mo.prototype.has=function(t){return Ro(this.__data__,t)>-1},mo.prototype.set=function(t,e){var n=this.__data__,o=Ro(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this},bo.prototype.clear=function(){this.size=0,this.__data__={hash:new go,map:new(Zn||mo),string:new go}},bo.prototype.delete=function(t){var e=na(this,t).delete(t);return this.size-=e?1:0,e},bo.prototype.get=function(t){return na(this,t).get(t)},bo.prototype.has=function(t){return na(this,t).has(t)},bo.prototype.set=function(t,e){var n=na(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this},wo.prototype.add=wo.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},wo.prototype.has=function(t){return this.__data__.has(t)},To.prototype.clear=function(){this.__data__=new mo,this.size=0},To.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},To.prototype.get=function(t){return this.__data__.get(t)},To.prototype.has=function(t){return this.__data__.has(t)},To.prototype.set=function(t,e){var n=this.__data__;if(n instanceof mo){var o=n.__data__;if(!Zn||o.length<r-1)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new bo(o)}return n.set(t,e),this.size=n.size,this};var Go=wi(Jo),Vo=wi(Zo,!0);function Ho(t,e){var n=!0;return Go(t,function(t,o,r){return n=!!e(t,o,r)}),n}function zo(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(null!=s&&(c===o?s==s&&!pc(s):n(s,c)))var c=s,u=a}return u}function Wo(t,e,n,r){var i=t.length;for((n=vc(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:vc(r))<0&&(r+=i),r=n>r?0:gc(r);n<r;)t[n++]=e;return t}function qo(t,e){var n=[];return Go(t,function(t,o,r){e(t,o,r)&&n.push(t)}),n}function Yo(t,e,n,o,r){var i=-1,a=t.length;for(n||(n=ya),r||(r=[]);++i<a;){var s=t[i];e>0&&n(s)?e>1?Yo(s,e-1,n,o,r):Ve(r,s):o||(r[r.length]=s)}return r}var Ko=Ti(),Xo=Ti(!0);function Jo(t,e){return t&&Ko(t,e,kc)}function Zo(t,e){return t&&Xo(t,e,kc)}function Qo(t,e){return Le(e,function(e){return tc(t[e])})}function $o(t,e){for(var n=0,r=(e=ni(e,t)).length;null!=t&&n<r;)t=t[ja(e[n++])];return n&&n==r?t:o}function tr(t,e,n){var o=e(t);return Ys(t)?o:Ve(o,n(t))}function er(t){return null==t?t===o?J:H:qe&&qe in Wt(t)?ia(t):xa(t)}function nr(t,e){return t>e}function or(t,e){return null!=t&&te.call(t,e)}function rr(t,e){return null!=t&&e in Wt(t)}function ir(t,e,n){return t>=Wn(e,n)&&t<zn(e,n)}function ar(t,e,n){for(var r=n?Be:je,i=t[0].length,a=t.length,s=a,c=Ct(a),u=1/0,l=[];s--;){var p=t[s];s&&e&&(p=Ge(p,ln(e))),u=Wn(p.length,u),c[s]=!n&&(e||i>=120&&p.length>=120)?new wo(s&&p):o}p=t[0];var h=-1,f=c[0];t:for(;++h<i&&l.length<u;){var d=p[h],_=e?e(d):d;if(d=n||0!==d?d:0,!(f?hn(f,_):r(l,_,n))){for(s=a;--s;){var y=c[s];if(!(y?hn(y,_):r(t[s],_,n)))continue t}f&&f.push(_),l.push(d)}}return l}function sr(t,e,n,o){return Jo(t,function(t,r,i){e(o,n(t),r,i)}),o}function cr(t,e,n){var r=null==(t=Ra(t,e=ni(e,t)))?t:t[ja($a(e))];return null==r?o:Ae(r,t,n)}function ur(t){return rc(t)&&er(t)==D}function lr(t,e,n,o,r){return t===e||(null==t||null==e||!rc(t)&&!rc(e)?t!=t&&e!=e:pr(t,e,n,o,lr,r))}function pr(t,e,n,o,r,i){var a=Ys(t),s=Ys(e),c=a?A:ca(t),u=s?A:ca(e),p=(c=c==D?z:c)==z,h=(u=u==D?z:u)==z,f=c==u;if(f&&Zs(t)){if(!Zs(e))return!1;a=!0,p=!1}if(f&&!p)return i||(i=new To),a||hc(t)?qi(t,e,n,o,r,i):Yi(t,e,c,n,o,r,i);if(!(n&l)){var d=p&&te.call(t,"__wrapped__"),_=h&&te.call(e,"__wrapped__");if(d||_){var y=d?t.value():t,v=_?e.value():e;return i||(i=new To),r(y,v,n,o,i)}}return!!f&&(i||(i=new To),Ki(t,e,n,o,r,i))}function hr(t,e,n,r){var i=n.length,a=i,s=!r;if(null==t)return!a;for(t=Wt(t);i--;){var c=n[i];if(s&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<a;){var u=(c=n[i])[0],h=t[u],f=c[1];if(s&&c[2]){if(h===o&&!(u in t))return!1}else{var d=new To;if(r)var _=r(h,f,u,t,e,d);if(!(_===o?lr(f,h,l|p,r,d):_))return!1}}return!0}function fr(t){return!(!oc(t)||(e=t,ne&&ne in e))&&(tc(t)?ce:Nt).test(Ba(t));var e}function dr(t){return"function"==typeof t?t:null==t?au:"object"==typeof t?Ys(t)?br(t[0],t[1]):mr(t):_u(t)}function _r(t){if(!Ta(t))return Hn(t);var e=[];for(var n in Wt(t))te.call(t,n)&&"constructor"!=n&&e.push(n);return e}function yr(t){if(!oc(t))return Pa(t);var e=Ta(t),n=[];for(var o in t)("constructor"!=o||!e&&te.call(t,o))&&n.push(o);return n}function vr(t,e){return t<e}function gr(t,e){var n=-1,o=Xs(t)?Ct(t.length):[];return Go(t,function(t,r,i){o[++n]=e(t,r,i)}),o}function mr(t){var e=oa(t);return 1==e.length&&e[0][2]?Oa(e[0][0],e[0][1]):function(n){return n===t||hr(n,t,e)}}function br(t,e){return ma(t)&&Sa(e)?Oa(ja(t),e):function(n){var r=Rc(n,t);return r===o&&r===e?Mc(n,t):lr(e,r,l|p)}}function wr(t,e,n,r,i){t!==e&&Ko(e,function(a,s){if(i||(i=new To),oc(a))Tr(t,e,s,n,wr,r,i);else{var c=r?r(Ea(t,s),a,s+"",t,e,i):o;c===o&&(c=a),xo(t,s,c)}},Fc)}function Tr(t,e,n,r,i,a,s){var c=Ea(t,n),u=Ea(e,n),l=s.get(u);if(l)xo(t,n,l);else{var p=a?a(c,u,n+"",t,e,s):o,h=p===o;if(h){var f=Ys(u),d=!f&&Zs(u),_=!f&&!d&&hc(u);p=u,f||d||_?Ys(c)?p=c:Js(c)?p=_i(c):d?(h=!1,p=ai(u,!0)):_?(h=!1,p=li(u,!0)):p=[]:sc(u)||qs(u)?(p=c,qs(c)?p=bc(c):oc(c)&&!tc(c)||(p=fa(u))):h=!1}h&&(s.set(u,p),i(p,u,r,a,s),s.delete(u)),xo(t,n,p)}}function Sr(t,e){var n=t.length;if(n)return va(e+=e<0?n:0,n)?t[e]:o}function Or(t,e,n){e=e.length?Ge(e,function(t){return Ys(t)?function(e){return $o(e,1===t.length?t[0]:t)}:t}):[au];var o=-1;return e=Ge(e,ln(ea())),rn(gr(t,function(t){return{criteria:Ge(e,function(e){return e(t)}),index:++o,value:t}}),function(t,e){return hi(t,e,n)})}function Cr(t,e){return Pr(t,e,function(e,n){return Mc(t,n)})}function Pr(t,e,n){for(var o=-1,r=e.length,i={};++o<r;){var a=e[o],s=$o(t,a);n(s,a)&&Nr(i,ni(a,t),s)}return i}function xr(t){return function(e){return $o(e,t)}}function Ir(t,e,n,o){var r=o?Qe:Ze,i=-1,a=e.length,s=t;for(t===e&&(e=_i(e)),n&&(s=Ge(t,ln(n)));++i<a;)for(var c=0,u=e[i],l=n?n(u):u;(c=r(s,l,c,o))>-1;)s!==t&&Se.call(s,c,1),Se.call(t,c,1);return t}function Rr(t,e){for(var n=t?e.length:0,o=n-1;n--;){var r=e[n];if(n==o||r!==i){var i=r;va(r)?Se.call(t,r,1):Kr(t,r)}}return t}function Mr(t,e){return t+Ln(Kn()*(e-t+1))}function Er(t,e,n,o){for(var r=-1,i=zn(Fn((e-t)/(n||1)),0),a=Ct(i);i--;)a[o?i:++r]=t,t+=n;return a}function Dr(t,e){var n="";if(!t||e<1||e>C)return n;do{e%2&&(n+=t),(e=Ln(e/2))&&(t+=t)}while(e);return n}function Ar(t,e){return ka(Ia(t,e,au),t+"")}function kr(t){return Oo(Hc(t))}function Fr(t,e){var n=Hc(t);return Ua(n,Fo(e,0,n.length))}function Nr(t,e,n,r){if(!oc(t))return t;for(var i=-1,a=(e=ni(e,t)).length,s=a-1,c=t;null!=c&&++i<a;){var u=ja(e[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(i!=s){var p=c[u];(l=r?r(p,u,c):o)===o&&(l=oc(p)?p:va(e[i+1])?[]:{})}Io(c,u,l),c=c[u]}return t}var Ur=no?function(t,e){return no.set(t,e),t}:au,Lr=Ye?function(t,e){return Ye(t,"toString",{configurable:!0,enumerable:!1,value:ou(e),writable:!0})}:au;function jr(t){return Ua(Hc(t))}function Br(t,e,n){var o=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var i=Ct(r);++o<r;)i[o]=t[o+e];return i}function Gr(t,e){var n;return Go(t,function(t,o,r){return!(n=e(t,o,r))}),!!n}function Vr(t,e,n){var o=0,r=null==t?o:t.length;if("number"==typeof e&&e==e&&r<=M){for(;o<r;){var i=o+r>>>1,a=t[i];null!==a&&!pc(a)&&(n?a<=e:a<e)?o=i+1:r=i}return r}return Hr(t,e,au,n)}function Hr(t,e,n,r){var i=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,c=null===e,u=pc(e),l=e===o;i<a;){var p=Ln((i+a)/2),h=n(t[p]),f=h!==o,d=null===h,_=h==h,y=pc(h);if(s)var v=r||_;else v=l?_&&(r||f):c?_&&f&&(r||!d):u?_&&f&&!d&&(r||!y):!d&&!y&&(r?h<=e:h<e);v?i=p+1:a=p}return Wn(a,R)}function zr(t,e){for(var n=-1,o=t.length,r=0,i=[];++n<o;){var a=t[n],s=e?e(a):a;if(!n||!Hs(s,c)){var c=s;i[r++]=0===a?0:a}}return i}function Wr(t){return"number"==typeof t?t:pc(t)?x:+t}function qr(t){if("string"==typeof t)return t;if(Ys(t))return Ge(t,qr)+"";if(pc(t))return po?po.call(t):"";var e=t+"";return"0"==e&&1/t==-O?"-0":e}function Yr(t,e,n){var o=-1,i=je,a=t.length,s=!0,c=[],u=c;if(n)s=!1,i=Be;else if(a>=r){var l=e?null:Bi(t);if(l)return Pn(l);s=!1,i=hn,u=new wo}else u=e?[]:c;t:for(;++o<a;){var p=t[o],h=e?e(p):p;if(p=n||0!==p?p:0,s&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),c.push(p)}else i(u,h,n)||(u!==c&&u.push(h),c.push(p))}return c}function Kr(t,e){return null==(t=Ra(t,e=ni(e,t)))||delete t[ja($a(e))]}function Xr(t,e,n,o){return Nr(t,e,n($o(t,e)),o)}function Jr(t,e,n,o){for(var r=t.length,i=o?r:-1;(o?i--:++i<r)&&e(t[i],i,t););return n?Br(t,o?0:i,o?i+1:r):Br(t,o?i+1:0,o?r:i)}function Zr(t,e){var n=t;return n instanceof vo&&(n=n.value()),He(e,function(t,e){return e.func.apply(e.thisArg,Ve([t],e.args))},n)}function Qr(t,e,n){var o=t.length;if(o<2)return o?Yr(t[0]):[];for(var r=-1,i=Ct(o);++r<o;)for(var a=t[r],s=-1;++s<o;)s!=r&&(i[r]=Bo(i[r]||a,t[s],e,n));return Yr(Yo(i,1),e,n)}function $r(t,e,n){for(var r=-1,i=t.length,a=e.length,s={};++r<i;){var c=r<a?e[r]:o;n(s,t[r],c)}return s}function ti(t){return Js(t)?t:[]}function ei(t){return"function"==typeof t?t:au}function ni(t,e){return Ys(t)?t:ma(t,e)?[t]:La(wc(t))}var oi=Ar;function ri(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:Br(t,e,n)}var ii=nn||function(t){return we.clearTimeout(t)};function ai(t,e){if(e)return t.slice();var n=t.length,o=ye?ye(n):new t.constructor(n);return t.copy(o),o}function si(t){var e=new t.constructor(t.byteLength);return new pe(e).set(new pe(t)),e}function ci(t,e){var n=e?si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function ui(t){var e=new t.constructor(t.source,At.exec(t));return e.lastIndex=t.lastIndex,e}function li(t,e){var n=e?si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function pi(t,e){if(t!==e){var n=t!==o,r=null===t,i=t==t,a=pc(t),s=e!==o,c=null===e,u=e==e,l=pc(e);if(!c&&!l&&!a&&t>e||a&&s&&u&&!c&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!a&&!l&&t<e||l&&n&&i&&!r&&!a||c&&n&&i||!s&&i||!u)return-1}return 0}function hi(t,e,n){for(var o=-1,r=t.criteria,i=e.criteria,a=r.length,s=n.length;++o<a;){var c=pi(r[o],i[o]);if(c)return o>=s?c:c*("desc"==n[o]?-1:1)}return t.index-e.index}function fi(t,e,n,o){for(var r=-1,i=t.length,a=n.length,s=-1,c=e.length,u=zn(i-a,0),l=Ct(c+u),p=!o;++s<c;)l[s]=e[s];for(;++r<a;)(p||r<i)&&(l[n[r]]=t[r]);for(;u--;)l[s++]=t[r++];return l}function di(t,e,n,o){for(var r=-1,i=t.length,a=-1,s=n.length,c=-1,u=e.length,l=zn(i-s,0),p=Ct(l+u),h=!o;++r<l;)p[r]=t[r];for(var f=r;++c<u;)p[f+c]=e[c];for(;++a<s;)(h||r<i)&&(p[f+n[a]]=t[r++]);return p}function _i(t,e){var n=-1,o=t.length;for(e||(e=Ct(o));++n<o;)e[n]=t[n];return e}function yi(t,e,n,r){var i=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var c=e[a],u=r?r(n[c],t[c],c,n,t):o;u===o&&(u=t[c]),i?Ao(n,c,u):Io(n,c,u)}return n}function vi(t,e){return yi(t,aa(t),e)}function gi(t,e){return yi(t,sa(t),e)}function mi(t,e){return function(n,o){var r=Ys(n)?ke:Mo,i=e?e():{};return r(n,t,ea(o,2),i)}}function bi(t){return Ar(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=t.length>3&&"function"==typeof a?(i--,a):o,s&&ga(n[0],n[1],s)&&(a=i<3?o:a,i=1),e=Wt(e);++r<i;){var c=n[r];c&&t(e,c,r,a)}return e})}function wi(t,e){return function(n,o){if(null==n)return n;if(!Xs(n))return t(n,o);for(var r=n.length,i=e?r:-1,a=Wt(n);(e?i--:++i<r)&&!1!==o(a[i],i,a););return n}}function Ti(t){return function(e,n,o){for(var r=-1,i=Wt(e),a=o(e),s=a.length;s--;){var c=a[t?s:++r];if(!1===n(i[c],c,i))break}return e}}function Si(t,e,n){var o=e&h,r=Pi(t);return function e(){return(this&&this!==we&&this instanceof e?r:t).apply(o?n:this,arguments)}}function Oi(t){return function(e){var n=bn(e=wc(e))?En(e):o,r=n?n[0]:e.charAt(0),i=n?ri(n,1).join(""):e.slice(1);return r[t]()+i}}function Ci(t){return function(e){return He(tu(qc(e).replace(ae,"")),t,"")}}function Pi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=fo(t.prototype),o=t.apply(n,e);return oc(o)?o:n}}function xi(t,e,n){var r=Pi(t);return function i(){for(var a=arguments.length,s=Ct(a),c=a,u=ta(i);c--;)s[c]=arguments[c];var l=a<3&&s[0]!==u&&s[a-1]!==u?[]:Cn(s,u);return(a-=l.length)<n?Li(t,e,Mi,i.placeholder,o,s,l,o,o,n-a):Ae(this&&this!==we&&this instanceof i?r:t,this,s)}}function Ii(t){return function(e,n,r){var i=Wt(e);if(!Xs(e)){var a=ea(n,3);e=kc(e),n=function(t){return a(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:o}}function Ri(t){return Xi(function(e){var n=e.length,r=n,a=yo.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new Kt(i);if(a&&!c&&"wrapper"==$i(s))var c=new yo([],!0)}for(r=c?r:n;++r<n;){var u=$i(s=e[r]),l="wrapper"==u?Qi(s):o;c=l&&ba(l[0])&&l[1]==(m|_|v|b)&&!l[4].length&&1==l[9]?c[$i(l[0])].apply(c,l[3]):1==s.length&&ba(s)?c[u]():c.thru(s)}return function(){var t=arguments,o=t[0];if(c&&1==t.length&&Ys(o))return c.plant(o).value();for(var r=0,i=n?e[r].apply(this,t):o;++r<n;)i=e[r].call(this,i);return i}})}function Mi(t,e,n,r,i,a,s,c,u,l){var p=e&m,d=e&h,v=e&f,g=e&(_|y),b=e&w,T=v?o:Pi(t);return function o(){for(var h=arguments.length,f=Ct(h),_=h;_--;)f[_]=arguments[_];if(g)var y=ta(o),m=_n(f,y);if(r&&(f=fi(f,r,i,g)),a&&(f=di(f,a,s,g)),h-=m,g&&h<l){var w=Cn(f,y);return Li(t,e,Mi,o.placeholder,n,f,w,c,u,l-h)}var S=d?n:this,O=v?S[t]:t;return h=f.length,c?f=Ma(f,c):b&&h>1&&f.reverse(),p&&u<h&&(f.length=u),this&&this!==we&&this instanceof o&&(O=T||Pi(O)),O.apply(S,f)}}function Ei(t,e){return function(n,o){return sr(n,t,e(o),{})}}function Di(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=qr(n),r=qr(r)):(n=Wr(n),r=Wr(r)),i=t(n,r)}return i}}function Ai(t){return Xi(function(e){return e=Ge(e,ln(ea())),Ar(function(n){var o=this;return t(e,function(t){return Ae(t,o,n)})})})}function ki(t,e){var n=(e=e===o?" ":qr(e)).length;if(n<2)return n?Dr(e,t):e;var r=Dr(e,Fn(t/Mn(e)));return bn(e)?ri(En(r),0,t).join(""):r.slice(0,t)}function Fi(t,e,n,o){var r=e&h,i=Pi(t);return function e(){for(var a=-1,s=arguments.length,c=-1,u=o.length,l=Ct(u+s),p=this&&this!==we&&this instanceof e?i:t;++c<u;)l[c]=o[c];for(;s--;)l[c++]=arguments[++a];return Ae(p,r?n:this,l)}}function Ni(t){return function(e,n,r){return r&&"number"!=typeof r&&ga(e,n,r)&&(n=r=o),e=yc(e),n===o?(n=e,e=0):n=yc(n),Er(e,n,r=r===o?e<n?1:-1:yc(r),t)}}function Ui(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=mc(e),n=mc(n)),t(e,n)}}function Li(t,e,n,r,i,a,s,c,u,l){var p=e&_;e|=p?v:g,(e&=~(p?g:v))&d||(e&=~(h|f));var y=[t,e,i,p?a:o,p?s:o,p?o:a,p?o:s,c,u,l],m=n.apply(o,y);return ba(t)&&Da(m,y),m.placeholder=r,Fa(m,t,e)}function ji(t){var e=zt[t];return function(t,n){if(t=mc(t),(n=null==n?0:Wn(vc(n),292))&&Gn(t)){var o=(wc(t)+"e").split("e");return+((o=(wc(e(o[0]+"e"+(+o[1]+n)))+"e").split("e"))[0]+"e"+(+o[1]-n))}return e(t)}}var Bi=$n&&1/Pn(new $n([,-0]))[1]==O?function(t){return new $n(t)}:pu;function Gi(t){return function(e){var n=ca(e);return n==G?Sn(e):n==Y?xn(e):cn(e,t(e))}}function Vi(t,e,n,r,a,s,c,u){var l=e&f;if(!l&&"function"!=typeof t)throw new Kt(i);var p=r?r.length:0;if(p||(e&=~(v|g),r=a=o),c=c===o?c:zn(vc(c),0),u=u===o?u:vc(u),p-=a?a.length:0,e&g){var d=r,m=a;r=a=o}var b=l?o:Qi(t),w=[t,e,n,r,a,d,m,s,c,u];if(b&&Ca(w,b),t=w[0],e=w[1],n=w[2],r=w[3],a=w[4],!(u=w[9]=w[9]===o?l?0:t.length:zn(w[9]-p,0))&&e&(_|y)&&(e&=~(_|y)),e&&e!=h)T=e==_||e==y?xi(t,e,u):e!=v&&e!=(h|v)||a.length?Mi.apply(o,w):Fi(t,e,n,r);else var T=Si(t,e,n);return Fa((b?Ur:Da)(T,w),t,e)}function Hi(t,e,n,r){return t===o||Hs(t,Zt[n])&&!te.call(r,n)?e:t}function zi(t,e,n,r,i,a){return oc(t)&&oc(e)&&(a.set(e,t),wr(t,e,o,zi,a),a.delete(e)),t}function Wi(t){return sc(t)?o:t}function qi(t,e,n,r,i,a){var s=n&l,c=t.length,u=e.length;if(c!=u&&!(s&&u>c))return!1;var h=a.get(t),f=a.get(e);if(h&&f)return h==e&&f==t;var d=-1,_=!0,y=n&p?new wo:o;for(a.set(t,e),a.set(e,t);++d<c;){var v=t[d],g=e[d];if(r)var m=s?r(g,v,d,e,t,a):r(v,g,d,t,e,a);if(m!==o){if(m)continue;_=!1;break}if(y){if(!We(e,function(t,e){if(!hn(y,e)&&(v===t||i(v,t,n,r,a)))return y.push(e)})){_=!1;break}}else if(v!==g&&!i(v,g,n,r,a)){_=!1;break}}return a.delete(t),a.delete(e),_}function Yi(t,e,n,o,r,i,a){switch(n){case $:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Q:return!(t.byteLength!=e.byteLength||!i(new pe(t),new pe(e)));case F:case N:case V:return Hs(+t,+e);case L:return t.name==e.name&&t.message==e.message;case q:case K:return t==e+"";case G:var s=Sn;case Y:var c=o&l;if(s||(s=Pn),t.size!=e.size&&!c)return!1;var u=a.get(t);if(u)return u==e;o|=p,a.set(t,e);var h=qi(s(t),s(e),o,r,i,a);return a.delete(t),h;case X:if(lo)return lo.call(t)==lo.call(e)}return!1}function Ki(t,e,n,r,i,a){var s=n&l,c=Ji(t),u=c.length;if(u!=Ji(e).length&&!s)return!1;for(var p=u;p--;){var h=c[p];if(!(s?h in e:te.call(e,h)))return!1}var f=a.get(t),d=a.get(e);if(f&&d)return f==e&&d==t;var _=!0;a.set(t,e),a.set(e,t);for(var y=s;++p<u;){var v=t[h=c[p]],g=e[h];if(r)var m=s?r(g,v,h,e,t,a):r(v,g,h,t,e,a);if(!(m===o?v===g||i(v,g,n,r,a):m)){_=!1;break}y||(y="constructor"==h)}if(_&&!y){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(_=!1)}return a.delete(t),a.delete(e),_}function Xi(t){return ka(Ia(t,o,Ka),t+"")}function Ji(t){return tr(t,kc,aa)}function Zi(t){return tr(t,Fc,sa)}var Qi=no?function(t){return no.get(t)}:pu;function $i(t){for(var e=t.name+"",n=oo[e],o=te.call(oo,e)?n.length:0;o--;){var r=n[o],i=r.func;if(null==i||i==t)return r.name}return e}function ta(t){return(te.call(ho,"placeholder")?ho:t).placeholder}function ea(){var t=ho.iteratee||su;return t=t===su?dr:t,arguments.length?t(arguments[0],arguments[1]):t}function na(t,e){var n,o,r=t.__data__;return("string"==(o=typeof(n=e))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function oa(t){for(var e=kc(t),n=e.length;n--;){var o=e[n],r=t[o];e[n]=[o,r,Sa(r)]}return e}function ra(t,e){var n=mn(t,e);return fr(n)?n:o}function ia(t){var e=te.call(t,qe),n=t[qe];try{t[qe]=o;var r=!0}catch(a){}var i=oe.call(t);return r&&(e?t[qe]=n:delete t[qe]),i}var aa=jn?function(t){return null==t?[]:(t=Wt(t),Le(jn(t),function(e){return Te.call(t,e)}))}:gu,sa=jn?function(t){for(var e=[];t;)Ve(e,aa(t)),t=me(t);return e}:gu,ca=er;function ua(t,e,n){for(var o=-1,r=n.length;++o<r;){var i=n[o],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Wn(e,t+a);break;case"takeRight":t=zn(t,e-a)}}return{start:t,end:e}}function la(t){var e=t.match(xt);return e?e[1].split(It):[]}function pa(t,e,n){for(var o=-1,r=(e=ni(e,t)).length,i=!1;++o<r;){var a=ja(e[o]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++o!=r?i:!!(r=null==t?0:t.length)&&nc(r)&&va(a,r)&&(Ys(t)||qs(t))}function ha(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&te.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function fa(t){return"function"!=typeof t.constructor||Ta(t)?{}:fo(me(t))}function da(t,e,n){var o,r=t.constructor;switch(e){case Q:return si(t);case F:case N:return new r(+t);case $:return ci(t,n);case tt:case et:case nt:case ot:case rt:case it:case at:case st:case ct:return li(t,n);case G:return new r;case V:case K:return new r(t);case q:return ui(t);case Y:return new r;case X:return o=t,lo?Wt(lo.call(o)):{}}}function _a(t,e){var n=e.length;if(!n)return t;var o=n-1;return e[o]=(n>1?"& ":"")+e[o],e=e.join(n>2?", ":" "),t.replace(Pt,"{\n/* [wrapped with "+e+"] */\n")}function ya(t){return Ys(t)||qs(t)||!!(Ce&&t&&t[Ce])}function va(t,e){var n=typeof t;return!!(e=null==e?C:e)&&("number"==n||"symbol"!=n&&Lt.test(t))&&t>-1&&t%1==0&&t<e}function ga(t,e,n){if(!oc(n))return!1;var o=typeof e;return!!("number"==o?Xs(n)&&va(e,n.length):"string"==o&&e in n)&&Hs(n[e],t)}function ma(t,e){if(Ys(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!pc(t))||bt.test(t)||!mt.test(t)||null!=e&&t in Wt(e)}function ba(t){var e=$i(t),n=ho[e];if("function"!=typeof n||!(e in vo.prototype))return!1;if(t===n)return!0;var o=Qi(n);return!!o&&t===o[0]}(Jn&&ca(new Jn(new ArrayBuffer(1)))!=$||Zn&&ca(new Zn)!=G||Qn&&"[object Promise]"!=ca(Qn.resolve())||$n&&ca(new $n)!=Y||to&&ca(new to)!=Z)&&(ca=function(t){var e=er(t),n=e==z?t.constructor:o,r=n?Ba(n):"";if(r)switch(r){case ro:return $;case io:return G;case ao:return"[object Promise]";case so:return Y;case co:return Z}return e});var wa=Qt?tc:mu;function Ta(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Zt)}function Sa(t){return t==t&&!oc(t)}function Oa(t,e){return function(n){return null!=n&&n[t]===e&&(e!==o||t in Wt(n))}}function Ca(t,e){var n=t[1],o=e[1],r=n|o,i=r<(h|f|m),s=o==m&&n==_||o==m&&n==b&&t[7].length<=e[8]||o==(m|b)&&e[7].length<=e[8]&&n==_;if(!i&&!s)return t;o&h&&(t[2]=e[2],r|=n&h?0:d);var c=e[3];if(c){var u=t[3];t[3]=u?fi(u,c,e[4]):c,t[4]=u?Cn(t[3],a):e[4]}return(c=e[5])&&(u=t[5],t[5]=u?di(u,c,e[6]):c,t[6]=u?Cn(t[5],a):e[6]),(c=e[7])&&(t[7]=c),o&m&&(t[8]=null==t[8]?e[8]:Wn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function Pa(t){var e=[];if(null!=t)for(var n in Wt(t))e.push(n);return e}function xa(t){return oe.call(t)}function Ia(t,e,n){return e=zn(e===o?t.length-1:e,0),function(){for(var o=arguments,r=-1,i=zn(o.length-e,0),a=Ct(i);++r<i;)a[r]=o[e+r];r=-1;for(var s=Ct(e+1);++r<e;)s[r]=o[r];return s[e]=n(a),Ae(t,this,s)}}function Ra(t,e){return e.length<2?t:$o(t,Br(e,0,-1))}function Ma(t,e){for(var n=t.length,r=Wn(e.length,n),i=_i(t);r--;){var a=e[r];t[r]=va(a,n)?i[a]:o}return t}function Ea(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Da=Na(Ur),Aa=kn||function(t,e){return we.setTimeout(t,e)},ka=Na(Lr);function Fa(t,e,n){var o=e+"";return ka(t,_a(o,Ga(la(o),n)))}function Na(t){var e=0,n=0;return function(){var r=qn(),i=S-(r-n);if(n=r,i>0){if(++e>=T)return arguments[0]}else e=0;return t.apply(o,arguments)}}function Ua(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var a=Mr(n,i),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var La=function(){var t=Us(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(wt,function(t,n,o,r){e.push(o?r.replace(Et,"$1"):n||t)}),e},function(t){return 500===e.size&&e.clear(),t}),e=t.cache;return t}();function ja(t){if("string"==typeof t||pc(t))return t;var e=t+"";return"0"==e&&1/t==-O?"-0":e}function Ba(t){if(null!=t){try{return $t.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ga(t,e){return Fe(E,function(n){var o="_."+n[0];e&n[1]&&!je(t,o)&&t.push(o)}),t.sort()}function Va(t){if(t instanceof vo)return t.clone();var e=new yo(t.__wrapped__,t.__chain__);return e.__actions__=_i(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ha=Ar(function(t,e){return Js(t)?Bo(t,Yo(e,1,Js,!0)):[]}),za=Ar(function(t,e){var n=$a(e);return Js(n)&&(n=o),Js(t)?Bo(t,Yo(e,1,Js,!0),ea(n,2)):[]}),Wa=Ar(function(t,e){var n=$a(e);return Js(n)&&(n=o),Js(t)?Bo(t,Yo(e,1,Js,!0),o,n):[]});function qa(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var r=null==n?0:vc(n);return r<0&&(r=zn(o+r,0)),Je(t,ea(e,3),r)}function Ya(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=vc(n),i=n<0?zn(r+i,0):Wn(i,r-1)),Je(t,ea(e,3),i,!0)}function Ka(t){return null!=t&&t.length?Yo(t,1):[]}function Xa(t){return t&&t.length?t[0]:o}var Ja=Ar(function(t){var e=Ge(t,ti);return e.length&&e[0]===t[0]?ar(e):[]}),Za=Ar(function(t){var e=$a(t),n=Ge(t,ti);return e===$a(n)?e=o:n.pop(),n.length&&n[0]===t[0]?ar(n,ea(e,2)):[]}),Qa=Ar(function(t){var e=$a(t),n=Ge(t,ti);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?ar(n,o,e):[]});function $a(t){var e=null==t?0:t.length;return e?t[e-1]:o}var ts=Ar(es);function es(t,e){return t&&t.length&&e&&e.length?Ir(t,e):t}var ns=Xi(function(t,e){var n=null==t?0:t.length,o=ko(t,e);return Rr(t,Ge(e,function(t){return va(t,n)?+t:t}).sort(pi)),o});function os(t){return null==t?t:Xn.call(t)}var rs=Ar(function(t){return Yr(Yo(t,1,Js,!0))}),is=Ar(function(t){var e=$a(t);return Js(e)&&(e=o),Yr(Yo(t,1,Js,!0),ea(e,2))}),as=Ar(function(t){var e=$a(t);return e="function"==typeof e?e:o,Yr(Yo(t,1,Js,!0),o,e)});function ss(t){if(!t||!t.length)return[];var e=0;return t=Le(t,function(t){if(Js(t))return e=zn(t.length,e),!0}),sn(e,function(e){return Ge(t,en(e))})}function cs(t,e){if(!t||!t.length)return[];var n=ss(t);return null==e?n:Ge(n,function(t){return Ae(e,o,t)})}var us=Ar(function(t,e){return Js(t)?Bo(t,e):[]}),ls=Ar(function(t){return Qr(Le(t,Js))}),ps=Ar(function(t){var e=$a(t);return Js(e)&&(e=o),Qr(Le(t,Js),ea(e,2))}),hs=Ar(function(t){var e=$a(t);return e="function"==typeof e?e:o,Qr(Le(t,Js),o,e)}),fs=Ar(ss),ds=Ar(function(t){var e=t.length,n=e>1?t[e-1]:o;return n="function"==typeof n?(t.pop(),n):o,cs(t,n)});function _s(t){var e=ho(t);return e.__chain__=!0,e}function ys(t,e){return e(t)}var vs=Xi(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return ko(e,t)};return!(e>1||this.__actions__.length)&&r instanceof vo&&va(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ys,args:[i],thisArg:o}),new yo(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(i)}),gs=mi(function(t,e,n){te.call(t,n)?++t[n]:Ao(t,n,1)}),ms=Ii(qa),bs=Ii(Ya);function ws(t,e){return(Ys(t)?Fe:Go)(t,ea(e,3))}function Ts(t,e){return(Ys(t)?Ne:Vo)(t,ea(e,3))}var Ss=mi(function(t,e,n){te.call(t,n)?t[n].push(e):Ao(t,n,[e])}),Os=Ar(function(t,e,n){var o=-1,r="function"==typeof e,i=Xs(t)?Ct(t.length):[];return Go(t,function(t){i[++o]=r?Ae(e,t,n):cr(t,e,n)}),i}),Cs=mi(function(t,e,n){Ao(t,n,e)});function Ps(t,e){return(Ys(t)?Ge:gr)(t,ea(e,3))}var xs=mi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Is=Ar(function(t,e){if(null==t)return[];var n=e.length;return n>1&&ga(t,e[0],e[1])?e=[]:n>2&&ga(e[0],e[1],e[2])&&(e=[e[0]]),Or(t,Yo(e,1),[])}),Rs=In||function(){return we.Date.now()};function Ms(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,Vi(t,m,o,o,o,o,e)}function Es(t,e){var n;if("function"!=typeof e)throw new Kt(i);return t=vc(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var Ds=Ar(function(t,e,n){var o=h;if(n.length){var r=Cn(n,ta(Ds));o|=v}return Vi(t,o,e,n,r)}),As=Ar(function(t,e,n){var o=h|f;if(n.length){var r=Cn(n,ta(As));o|=v}return Vi(e,o,t,n,r)});function ks(t,e,n){var r,a,s,c,u,l,p=0,h=!1,f=!1,d=!0;if("function"!=typeof t)throw new Kt(i);function _(e){var n=r,i=a;return r=a=o,p=e,c=t.apply(i,n)}function y(t){return p=t,u=Aa(m,e),h?_(t):c}function v(t){var n=e-(t-l);return f?Wn(n,s-(t-p)):n}function g(t){var n=t-l;return l===o||n>=e||n<0||f&&t-p>=s}function m(){var t=Rs();if(g(t))return b(t);u=Aa(m,v(t))}function b(t){return u=o,d&&r?_(t):(r=a=o,c)}function w(){var t=Rs(),n=g(t);if(r=arguments,a=this,l=t,n){if(u===o)return y(l);if(f)return ii(u),u=Aa(m,e),_(l)}return u===o&&(u=Aa(m,e)),c}return e=mc(e)||0,oc(n)&&(h=!!n.leading,s=(f="maxWait"in n)?zn(mc(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),w.cancel=function(){u!==o&&ii(u),p=0,r=l=a=u=o},w.flush=function(){return u===o?c:b(Rs())},w}var Fs=Ar(function(t,e){return jo(t,1,e)}),Ns=Ar(function(t,e,n){return jo(t,mc(e)||0,n)});function Us(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Kt(i);var n=function(){var o=arguments,r=e?e.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var a=t.apply(this,o);return n.cache=i.set(r,a)||i,a};return n.cache=new(Us.Cache||bo),n}function Ls(t){if("function"!=typeof t)throw new Kt(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Us.Cache=bo;var js=oi(function(t,e){var n=(e=1==e.length&&Ys(e[0])?Ge(e[0],ln(ea())):Ge(Yo(e,1),ln(ea()))).length;return Ar(function(o){for(var r=-1,i=Wn(o.length,n);++r<i;)o[r]=e[r].call(this,o[r]);return Ae(t,this,o)})}),Bs=Ar(function(t,e){var n=Cn(e,ta(Bs));return Vi(t,v,o,e,n)}),Gs=Ar(function(t,e){var n=Cn(e,ta(Gs));return Vi(t,g,o,e,n)}),Vs=Xi(function(t,e){return Vi(t,b,o,o,o,e)});function Hs(t,e){return t===e||t!=t&&e!=e}var zs=Ui(nr),Ws=Ui(function(t,e){return t>=e}),qs=ur(function(){return arguments}())?ur:function(t){return rc(t)&&te.call(t,"callee")&&!Te.call(t,"callee")},Ys=Ct.isArray,Ks=xe?ln(xe):function(t){return rc(t)&&er(t)==Q};function Xs(t){return null!=t&&nc(t.length)&&!tc(t)}function Js(t){return rc(t)&&Xs(t)}var Zs=Bn||mu,Qs=Ie?ln(Ie):function(t){return rc(t)&&er(t)==N};function $s(t){if(!rc(t))return!1;var e=er(t);return e==L||e==U||"string"==typeof t.message&&"string"==typeof t.name&&!sc(t)}function tc(t){if(!oc(t))return!1;var e=er(t);return e==j||e==B||e==k||e==W}function ec(t){return"number"==typeof t&&t==vc(t)}function nc(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=C}function oc(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function rc(t){return null!=t&&"object"==typeof t}var ic=Re?ln(Re):function(t){return rc(t)&&ca(t)==G};function ac(t){return"number"==typeof t||rc(t)&&er(t)==V}function sc(t){if(!rc(t)||er(t)!=z)return!1;var e=me(t);if(null===e)return!0;var n=te.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&$t.call(n)==re}var cc=Me?ln(Me):function(t){return rc(t)&&er(t)==q},uc=Ee?ln(Ee):function(t){return rc(t)&&ca(t)==Y};function lc(t){return"string"==typeof t||!Ys(t)&&rc(t)&&er(t)==K}function pc(t){return"symbol"==typeof t||rc(t)&&er(t)==X}var hc=De?ln(De):function(t){return rc(t)&&nc(t.length)&&!!de[er(t)]},fc=Ui(vr),dc=Ui(function(t,e){return t<=e});function _c(t){if(!t)return[];if(Xs(t))return lc(t)?En(t):_i(t);if(Pe&&t[Pe])return Tn(t[Pe]());var e=ca(t);return(e==G?Sn:e==Y?Pn:Hc)(t)}function yc(t){return t?(t=mc(t))===O||t===-O?(t<0?-1:1)*P:t==t?t:0:0===t?t:0}function vc(t){var e=yc(t),n=e%1;return e==e?n?e-n:e:0}function gc(t){return t?Fo(vc(t),0,I):0}function mc(t){if("number"==typeof t)return t;if(pc(t))return x;if(oc(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=oc(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=un(t);var n=Ft.test(t);return n||Ut.test(t)?ge(t.slice(2),n?2:8):kt.test(t)?x:+t}function bc(t){return yi(t,Fc(t))}function wc(t){return null==t?"":qr(t)}var Tc=bi(function(t,e){if(Ta(e)||Xs(e))yi(e,kc(e),t);else for(var n in e)te.call(e,n)&&Io(t,n,e[n])}),Sc=bi(function(t,e){yi(e,Fc(e),t)}),Oc=bi(function(t,e,n,o){yi(e,Fc(e),t,o)}),Cc=bi(function(t,e,n,o){yi(e,kc(e),t,o)}),Pc=Xi(ko),xc=Ar(function(t,e){t=Wt(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&ga(e[0],e[1],i)&&(r=1);++n<r;)for(var a=e[n],s=Fc(a),c=-1,u=s.length;++c<u;){var l=s[c],p=t[l];(p===o||Hs(p,Zt[l])&&!te.call(t,l))&&(t[l]=a[l])}return t}),Ic=Ar(function(t){return t.push(o,zi),Ae(Uc,o,t)});function Rc(t,e,n){var r=null==t?o:$o(t,e);return r===o?n:r}function Mc(t,e){return null!=t&&pa(t,e,rr)}var Ec=Ei(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=oe.call(e)),t[e]=n},ou(au)),Dc=Ei(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=oe.call(e)),te.call(t,e)?t[e].push(n):t[e]=[n]},ea),Ac=Ar(cr);function kc(t){return Xs(t)?So(t):_r(t)}function Fc(t){return Xs(t)?So(t,!0):yr(t)}var Nc=bi(function(t,e,n){wr(t,e,n)}),Uc=bi(function(t,e,n,o){wr(t,e,n,o)}),Lc=Xi(function(t,e){var n={};if(null==t)return n;var o=!1;e=Ge(e,function(e){return e=ni(e,t),o||(o=e.length>1),e}),yi(t,Zi(t),n),o&&(n=No(n,s|c|u,Wi));for(var r=e.length;r--;)Kr(n,e[r]);return n}),jc=Xi(function(t,e){return null==t?{}:Cr(t,e)});function Bc(t,e){if(null==t)return{};var n=Ge(Zi(t),function(t){return[t]});return e=ea(e),Pr(t,n,function(t,n){return e(t,n[0])})}var Gc=Gi(kc),Vc=Gi(Fc);function Hc(t){return null==t?[]:pn(t,kc(t))}var zc=Ci(function(t,e,n){return e=e.toLowerCase(),t+(n?Wc(e):e)});function Wc(t){return $c(wc(t).toLowerCase())}function qc(t){return(t=wc(t))&&t.replace(jt,yn).replace(se,"")}var Yc=Ci(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Kc=Ci(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Xc=Oi("toLowerCase"),Jc=Ci(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Zc=Ci(function(t,e,n){return t+(n?" ":"")+$c(e)}),Qc=Ci(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),$c=Oi("toUpperCase");function tu(t,e,n){return t=wc(t),(e=n?o:e)===o?wn(t)?Nn(t):Ke(t):t.match(e)||[]}var eu=Ar(function(t,e){try{return Ae(t,o,e)}catch(n){return $s(n)?n:new Vt(n)}}),nu=Xi(function(t,e){return Fe(e,function(e){e=ja(e),Ao(t,e,Ds(t[e],t))}),t});function ou(t){return function(){return t}}var ru=Ri(),iu=Ri(!0);function au(t){return t}function su(t){return dr("function"==typeof t?t:No(t,s))}var cu=Ar(function(t,e){return function(n){return cr(n,t,e)}}),uu=Ar(function(t,e){return function(n){return cr(t,n,e)}});function lu(t,e,n){var o=kc(e),r=Qo(e,o);null!=n||oc(e)&&(r.length||!o.length)||(n=e,e=t,t=this,r=Qo(e,kc(e)));var i=!(oc(n)&&"chain"in n&&!n.chain),a=tc(t);return Fe(r,function(n){var o=e[n];t[n]=o,a&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__),r=n.__actions__=_i(this.__actions__);return r.push({func:o,args:arguments,thisArg:t}),n.__chain__=e,n}return o.apply(t,Ve([this.value()],arguments))})}),t}function pu(){}var hu=Ai(Ge),fu=Ai(Ue),du=Ai(We);function _u(t){return ma(t)?en(ja(t)):xr(t)}var yu=Ni(),vu=Ni(!0);function gu(){return[]}function mu(){return!1}var bu,wu=Di(function(t,e){return t+e},0),Tu=ji("ceil"),Su=Di(function(t,e){return t/e},1),Ou=ji("floor"),Cu=Di(function(t,e){return t*e},1),Pu=ji("round"),xu=Di(function(t,e){return t-e},0);return ho.after=function(t,e){if("function"!=typeof e)throw new Kt(i);return t=vc(t),function(){if(--t<1)return e.apply(this,arguments)}},ho.ary=Ms,ho.assign=Tc,ho.assignIn=Sc,ho.assignInWith=Oc,ho.assignWith=Cc,ho.at=Pc,ho.before=Es,ho.bind=Ds,ho.bindAll=nu,ho.bindKey=As,ho.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ys(t)?t:[t]},ho.chain=_s,ho.chunk=function(t,e,n){e=(n?ga(t,e,n):e===o)?1:zn(vc(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,a=0,s=Ct(Fn(r/e));i<r;)s[a++]=Br(t,i,i+=e);return s},ho.compact=function(t){for(var e=-1,n=null==t?0:t.length,o=0,r=[];++e<n;){var i=t[e];i&&(r[o++]=i)}return r},ho.concat=function(){var t=arguments.length;if(!t)return[];for(var e=Ct(t-1),n=arguments[0],o=t;o--;)e[o-1]=arguments[o];return Ve(Ys(n)?_i(n):[n],Yo(e,1))},ho.cond=function(t){var e=null==t?0:t.length,n=ea();return t=e?Ge(t,function(t){if("function"!=typeof t[1])throw new Kt(i);return[n(t[0]),t[1]]}):[],Ar(function(n){for(var o=-1;++o<e;){var r=t[o];if(Ae(r[0],this,n))return Ae(r[1],this,n)}})},ho.conforms=function(t){return Uo(No(t,s))},ho.constant=ou,ho.countBy=gs,ho.create=function(t,e){var n=fo(t);return null==e?n:Eo(n,e)},ho.curry=function t(e,n,r){var i=Vi(e,_,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},ho.curryRight=function t(e,n,r){var i=Vi(e,y,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},ho.debounce=ks,ho.defaults=xc,ho.defaultsDeep=Ic,ho.defer=Fs,ho.delay=Ns,ho.difference=Ha,ho.differenceBy=za,ho.differenceWith=Wa,ho.drop=function(t,e,n){var r=null==t?0:t.length;return r?Br(t,(e=n||e===o?1:vc(e))<0?0:e,r):[]},ho.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Br(t,0,(e=r-(e=n||e===o?1:vc(e)))<0?0:e):[]},ho.dropRightWhile=function(t,e){return t&&t.length?Jr(t,ea(e,3),!0,!0):[]},ho.dropWhile=function(t,e){return t&&t.length?Jr(t,ea(e,3),!0):[]},ho.fill=function(t,e,n,o){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&ga(t,e,n)&&(n=0,o=r),Wo(t,e,n,o)):[]},ho.filter=function(t,e){return(Ys(t)?Le:qo)(t,ea(e,3))},ho.flatMap=function(t,e){return Yo(Ps(t,e),1)},ho.flatMapDeep=function(t,e){return Yo(Ps(t,e),O)},ho.flatMapDepth=function(t,e,n){return n=n===o?1:vc(n),Yo(Ps(t,e),n)},ho.flatten=Ka,ho.flattenDeep=function(t){return null!=t&&t.length?Yo(t,O):[]},ho.flattenDepth=function(t,e){return null!=t&&t.length?Yo(t,e=e===o?1:vc(e)):[]},ho.flip=function(t){return Vi(t,w)},ho.flow=ru,ho.flowRight=iu,ho.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,o={};++e<n;){var r=t[e];o[r[0]]=r[1]}return o},ho.functions=function(t){return null==t?[]:Qo(t,kc(t))},ho.functionsIn=function(t){return null==t?[]:Qo(t,Fc(t))},ho.groupBy=Ss,ho.initial=function(t){return null!=t&&t.length?Br(t,0,-1):[]},ho.intersection=Ja,ho.intersectionBy=Za,ho.intersectionWith=Qa,ho.invert=Ec,ho.invertBy=Dc,ho.invokeMap=Os,ho.iteratee=su,ho.keyBy=Cs,ho.keys=kc,ho.keysIn=Fc,ho.map=Ps,ho.mapKeys=function(t,e){var n={};return e=ea(e,3),Jo(t,function(t,o,r){Ao(n,e(t,o,r),t)}),n},ho.mapValues=function(t,e){var n={};return e=ea(e,3),Jo(t,function(t,o,r){Ao(n,o,e(t,o,r))}),n},ho.matches=function(t){return mr(No(t,s))},ho.matchesProperty=function(t,e){return br(t,No(e,s))},ho.memoize=Us,ho.merge=Nc,ho.mergeWith=Uc,ho.method=cu,ho.methodOf=uu,ho.mixin=lu,ho.negate=Ls,ho.nthArg=function(t){return t=vc(t),Ar(function(e){return Sr(e,t)})},ho.omit=Lc,ho.omitBy=function(t,e){return Bc(t,Ls(ea(e)))},ho.once=function(t){return Es(2,t)},ho.orderBy=function(t,e,n,r){return null==t?[]:(Ys(e)||(e=null==e?[]:[e]),Ys(n=r?o:n)||(n=null==n?[]:[n]),Or(t,e,n))},ho.over=hu,ho.overArgs=js,ho.overEvery=fu,ho.overSome=du,ho.partial=Bs,ho.partialRight=Gs,ho.partition=xs,ho.pick=jc,ho.pickBy=Bc,ho.property=_u,ho.propertyOf=function(t){return function(e){return null==t?o:$o(t,e)}},ho.pull=ts,ho.pullAll=es,ho.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ir(t,e,ea(n,2)):t},ho.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Ir(t,e,o,n):t},ho.pullAt=ns,ho.range=yu,ho.rangeRight=vu,ho.rearg=Vs,ho.reject=function(t,e){return(Ys(t)?Le:qo)(t,Ls(ea(e,3)))},ho.remove=function(t,e){var n=[];if(!t||!t.length)return n;var o=-1,r=[],i=t.length;for(e=ea(e,3);++o<i;){var a=t[o];e(a,o,t)&&(n.push(a),r.push(o))}return Rr(t,r),n},ho.rest=function(t,e){if("function"!=typeof t)throw new Kt(i);return Ar(t,e=e===o?e:vc(e))},ho.reverse=os,ho.sampleSize=function(t,e,n){return e=(n?ga(t,e,n):e===o)?1:vc(e),(Ys(t)?Co:Fr)(t,e)},ho.set=function(t,e,n){return null==t?t:Nr(t,e,n)},ho.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Nr(t,e,n,r)},ho.shuffle=function(t){return(Ys(t)?Po:jr)(t)},ho.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&ga(t,e,n)?(e=0,n=r):(e=null==e?0:vc(e),n=n===o?r:vc(n)),Br(t,e,n)):[]},ho.sortBy=Is,ho.sortedUniq=function(t){return t&&t.length?zr(t):[]},ho.sortedUniqBy=function(t,e){return t&&t.length?zr(t,ea(e,2)):[]},ho.split=function(t,e,n){return n&&"number"!=typeof n&&ga(t,e,n)&&(e=n=o),(n=n===o?I:n>>>0)?(t=wc(t))&&("string"==typeof e||null!=e&&!cc(e))&&!(e=qr(e))&&bn(t)?ri(En(t),0,n):t.split(e,n):[]},ho.spread=function(t,e){if("function"!=typeof t)throw new Kt(i);return e=null==e?0:zn(vc(e),0),Ar(function(n){var o=n[e],r=ri(n,0,e);return o&&Ve(r,o),Ae(t,this,r)})},ho.tail=function(t){var e=null==t?0:t.length;return e?Br(t,1,e):[]},ho.take=function(t,e,n){return t&&t.length?Br(t,0,(e=n||e===o?1:vc(e))<0?0:e):[]},ho.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Br(t,(e=r-(e=n||e===o?1:vc(e)))<0?0:e,r):[]},ho.takeRightWhile=function(t,e){return t&&t.length?Jr(t,ea(e,3),!1,!0):[]},ho.takeWhile=function(t,e){return t&&t.length?Jr(t,ea(e,3)):[]},ho.tap=function(t,e){return e(t),t},ho.throttle=function(t,e,n){var o=!0,r=!0;if("function"!=typeof t)throw new Kt(i);return oc(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),ks(t,e,{leading:o,maxWait:e,trailing:r})},ho.thru=ys,ho.toArray=_c,ho.toPairs=Gc,ho.toPairsIn=Vc,ho.toPath=function(t){return Ys(t)?Ge(t,ja):pc(t)?[t]:_i(La(wc(t)))},ho.toPlainObject=bc,ho.transform=function(t,e,n){var o=Ys(t),r=o||Zs(t)||hc(t);if(e=ea(e,4),null==n){var i=t&&t.constructor;n=r?o?new i:[]:oc(t)&&tc(i)?fo(me(t)):{}}return(r?Fe:Jo)(t,function(t,o,r){return e(n,t,o,r)}),n},ho.unary=function(t){return Ms(t,1)},ho.union=rs,ho.unionBy=is,ho.unionWith=as,ho.uniq=function(t){return t&&t.length?Yr(t):[]},ho.uniqBy=function(t,e){return t&&t.length?Yr(t,ea(e,2)):[]},ho.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?Yr(t,o,e):[]},ho.unset=function(t,e){return null==t||Kr(t,e)},ho.unzip=ss,ho.unzipWith=cs,ho.update=function(t,e,n){return null==t?t:Xr(t,e,ei(n))},ho.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Xr(t,e,ei(n),r)},ho.values=Hc,ho.valuesIn=function(t){return null==t?[]:pn(t,Fc(t))},ho.without=us,ho.words=tu,ho.wrap=function(t,e){return Bs(ei(e),t)},ho.xor=ls,ho.xorBy=ps,ho.xorWith=hs,ho.zip=fs,ho.zipObject=function(t,e){return $r(t||[],e||[],Io)},ho.zipObjectDeep=function(t,e){return $r(t||[],e||[],Nr)},ho.zipWith=ds,ho.entries=Gc,ho.entriesIn=Vc,ho.extend=Sc,ho.extendWith=Oc,lu(ho,ho),ho.add=wu,ho.attempt=eu,ho.camelCase=zc,ho.capitalize=Wc,ho.ceil=Tu,ho.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=mc(n))==n?n:0),e!==o&&(e=(e=mc(e))==e?e:0),Fo(mc(t),e,n)},ho.clone=function(t){return No(t,u)},ho.cloneDeep=function(t){return No(t,s|u)},ho.cloneDeepWith=function(t,e){return No(t,s|u,e="function"==typeof e?e:o)},ho.cloneWith=function(t,e){return No(t,u,e="function"==typeof e?e:o)},ho.conformsTo=function(t,e){return null==e||Lo(t,e,kc(e))},ho.deburr=qc,ho.defaultTo=function(t,e){return null==t||t!=t?e:t},ho.divide=Su,ho.endsWith=function(t,e,n){t=wc(t),e=qr(e);var r=t.length,i=n=n===o?r:Fo(vc(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},ho.eq=Hs,ho.escape=function(t){return(t=wc(t))&&_t.test(t)?t.replace(ft,vn):t},ho.escapeRegExp=function(t){return(t=wc(t))&&St.test(t)?t.replace(Tt,"\\$&"):t},ho.every=function(t,e,n){var r=Ys(t)?Ue:Ho;return n&&ga(t,e,n)&&(e=o),r(t,ea(e,3))},ho.find=ms,ho.findIndex=qa,ho.findKey=function(t,e){return Xe(t,ea(e,3),Jo)},ho.findLast=bs,ho.findLastIndex=Ya,ho.findLastKey=function(t,e){return Xe(t,ea(e,3),Zo)},ho.floor=Ou,ho.forEach=ws,ho.forEachRight=Ts,ho.forIn=function(t,e){return null==t?t:Ko(t,ea(e,3),Fc)},ho.forInRight=function(t,e){return null==t?t:Xo(t,ea(e,3),Fc)},ho.forOwn=function(t,e){return t&&Jo(t,ea(e,3))},ho.forOwnRight=function(t,e){return t&&Zo(t,ea(e,3))},ho.get=Rc,ho.gt=zs,ho.gte=Ws,ho.has=function(t,e){return null!=t&&pa(t,e,or)},ho.hasIn=Mc,ho.head=Xa,ho.identity=au,ho.includes=function(t,e,n,o){t=Xs(t)?t:Hc(t),n=n&&!o?vc(n):0;var r=t.length;return n<0&&(n=zn(r+n,0)),lc(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&Ze(t,e,n)>-1},ho.indexOf=function(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var r=null==n?0:vc(n);return r<0&&(r=zn(o+r,0)),Ze(t,e,r)},ho.inRange=function(t,e,n){return e=yc(e),n===o?(n=e,e=0):n=yc(n),ir(t=mc(t),e,n)},ho.invoke=Ac,ho.isArguments=qs,ho.isArray=Ys,ho.isArrayBuffer=Ks,ho.isArrayLike=Xs,ho.isArrayLikeObject=Js,ho.isBoolean=function(t){return!0===t||!1===t||rc(t)&&er(t)==F},ho.isBuffer=Zs,ho.isDate=Qs,ho.isElement=function(t){return rc(t)&&1===t.nodeType&&!sc(t)},ho.isEmpty=function(t){if(null==t)return!0;if(Xs(t)&&(Ys(t)||"string"==typeof t||"function"==typeof t.splice||Zs(t)||hc(t)||qs(t)))return!t.length;var e=ca(t);if(e==G||e==Y)return!t.size;if(Ta(t))return!_r(t).length;for(var n in t)if(te.call(t,n))return!1;return!0},ho.isEqual=function(t,e){return lr(t,e)},ho.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?lr(t,e,o,n):!!r},ho.isError=$s,ho.isFinite=function(t){return"number"==typeof t&&Gn(t)},ho.isFunction=tc,ho.isInteger=ec,ho.isLength=nc,ho.isMap=ic,ho.isMatch=function(t,e){return t===e||hr(t,e,oa(e))},ho.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,hr(t,e,oa(e),n)},ho.isNaN=function(t){return ac(t)&&t!=+t},ho.isNative=function(t){if(wa(t))throw new Vt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return fr(t)},ho.isNil=function(t){return null==t},ho.isNull=function(t){return null===t},ho.isNumber=ac,ho.isObject=oc,ho.isObjectLike=rc,ho.isPlainObject=sc,ho.isRegExp=cc,ho.isSafeInteger=function(t){return ec(t)&&t>=-C&&t<=C},ho.isSet=uc,ho.isString=lc,ho.isSymbol=pc,ho.isTypedArray=hc,ho.isUndefined=function(t){return t===o},ho.isWeakMap=function(t){return rc(t)&&ca(t)==Z},ho.isWeakSet=function(t){return rc(t)&&"[object WeakSet]"==er(t)},ho.join=function(t,e){return null==t?"":Vn.call(t,e)},ho.kebabCase=Yc,ho.last=$a,ho.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=vc(n))<0?zn(r+i,0):Wn(i,r-1)),e==e?Rn(t,e,i):Je(t,$e,i,!0)},ho.lowerCase=Kc,ho.lowerFirst=Xc,ho.lt=fc,ho.lte=dc,ho.max=function(t){return t&&t.length?zo(t,au,nr):o},ho.maxBy=function(t,e){return t&&t.length?zo(t,ea(e,2),nr):o},ho.mean=function(t){return tn(t,au)},ho.meanBy=function(t,e){return tn(t,ea(e,2))},ho.min=function(t){return t&&t.length?zo(t,au,vr):o},ho.minBy=function(t,e){return t&&t.length?zo(t,ea(e,2),vr):o},ho.stubArray=gu,ho.stubFalse=mu,ho.stubObject=function(){return{}},ho.stubString=function(){return""},ho.stubTrue=function(){return!0},ho.multiply=Cu,ho.nth=function(t,e){return t&&t.length?Sr(t,vc(e)):o},ho.noConflict=function(){return we._===this&&(we._=ie),this},ho.noop=pu,ho.now=Rs,ho.pad=function(t,e,n){t=wc(t);var o=(e=vc(e))?Mn(t):0;if(!e||o>=e)return t;var r=(e-o)/2;return ki(Ln(r),n)+t+ki(Fn(r),n)},ho.padEnd=function(t,e,n){t=wc(t);var o=(e=vc(e))?Mn(t):0;return e&&o<e?t+ki(e-o,n):t},ho.padStart=function(t,e,n){t=wc(t);var o=(e=vc(e))?Mn(t):0;return e&&o<e?ki(e-o,n)+t:t},ho.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Yn(wc(t).replace(Ot,""),e||0)},ho.random=function(t,e,n){if(n&&"boolean"!=typeof n&&ga(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=yc(t),e===o?(e=t,t=0):e=yc(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Kn();return Wn(t+i*(e-t+ve("1e-"+((i+"").length-1))),e)}return Mr(t,e)},ho.reduce=function(t,e,n){var o=Ys(t)?He:on,r=arguments.length<3;return o(t,ea(e,4),n,r,Go)},ho.reduceRight=function(t,e,n){var o=Ys(t)?ze:on,r=arguments.length<3;return o(t,ea(e,4),n,r,Vo)},ho.repeat=function(t,e,n){return e=(n?ga(t,e,n):e===o)?1:vc(e),Dr(wc(t),e)},ho.replace=function(){var t=arguments,e=wc(t[0]);return t.length<3?e:e.replace(t[1],t[2])},ho.result=function(t,e,n){var r=-1,i=(e=ni(e,t)).length;for(i||(i=1,t=o);++r<i;){var a=null==t?o:t[ja(e[r])];a===o&&(r=i,a=n),t=tc(a)?a.call(t):a}return t},ho.round=Pu,ho.runInContext=t,ho.sample=function(t){return(Ys(t)?Oo:kr)(t)},ho.size=function(t){if(null==t)return 0;if(Xs(t))return lc(t)?Mn(t):t.length;var e=ca(t);return e==G||e==Y?t.size:_r(t).length},ho.snakeCase=Jc,ho.some=function(t,e,n){var r=Ys(t)?We:Gr;return n&&ga(t,e,n)&&(e=o),r(t,ea(e,3))},ho.sortedIndex=function(t,e){return Vr(t,e)},ho.sortedIndexBy=function(t,e,n){return Hr(t,e,ea(n,2))},ho.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var o=Vr(t,e);if(o<n&&Hs(t[o],e))return o}return-1},ho.sortedLastIndex=function(t,e){return Vr(t,e,!0)},ho.sortedLastIndexBy=function(t,e,n){return Hr(t,e,ea(n,2),!0)},ho.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Vr(t,e,!0)-1;if(Hs(t[n],e))return n}return-1},ho.startCase=Zc,ho.startsWith=function(t,e,n){return t=wc(t),n=null==n?0:Fo(vc(n),0,t.length),e=qr(e),t.slice(n,n+e.length)==e},ho.subtract=xu,ho.sum=function(t){return t&&t.length?an(t,au):0},ho.sumBy=function(t,e){return t&&t.length?an(t,ea(e,2)):0},ho.template=function(t,e,n){var r=ho.templateSettings;n&&ga(t,e,n)&&(e=o),t=wc(t),e=Oc({},e,r,Hi);var i,a,s=Oc({},e.imports,r.imports,Hi),c=kc(s),u=pn(s,c),l=0,p=e.interpolate||Bt,h="__p += '",f=qt((e.escape||Bt).source+"|"+p.source+"|"+(p===gt?Dt:Bt).source+"|"+(e.evaluate||Bt).source+"|$","g"),d="//# sourceURL="+(te.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++fe+"]")+"\n";t.replace(f,function(e,n,o,r,s,c){return o||(o=r),h+=t.slice(l,c).replace(Gt,gn),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),o&&(h+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),l=c+e.length,e}),h+="';\n";var _=te.call(e,"variable")&&e.variable;if(_){if(Mt.test(_))throw new Vt("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(ut,""):h).replace(lt,"$1").replace(pt,"$1;"),h="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=eu(function(){return Ht(c,d+"return "+h).apply(o,u)});if(y.source=h,$s(y))throw y;return y},ho.times=function(t,e){if((t=vc(t))<1||t>C)return[];var n=I,o=Wn(t,I);e=ea(e),t-=I;for(var r=sn(o,e);++n<t;)e(n);return r},ho.toFinite=yc,ho.toInteger=vc,ho.toLength=gc,ho.toLower=function(t){return wc(t).toLowerCase()},ho.toNumber=mc,ho.toSafeInteger=function(t){return t?Fo(vc(t),-C,C):0===t?t:0},ho.toString=wc,ho.toUpper=function(t){return wc(t).toUpperCase()},ho.trim=function(t,e,n){if((t=wc(t))&&(n||e===o))return un(t);if(!t||!(e=qr(e)))return t;var r=En(t),i=En(e);return ri(r,fn(r,i),dn(r,i)+1).join("")},ho.trimEnd=function(t,e,n){if((t=wc(t))&&(n||e===o))return t.slice(0,Dn(t)+1);if(!t||!(e=qr(e)))return t;var r=En(t);return ri(r,0,dn(r,En(e))+1).join("")},ho.trimStart=function(t,e,n){if((t=wc(t))&&(n||e===o))return t.replace(Ot,"");if(!t||!(e=qr(e)))return t;var r=En(t);return ri(r,fn(r,En(e))).join("")},ho.truncate=function(t,e){var n=30,r="...";if(oc(e)){var i="separator"in e?e.separator:i;n="length"in e?vc(e.length):n,r="omission"in e?qr(e.omission):r}var a=(t=wc(t)).length;if(bn(t)){var s=En(t);a=s.length}if(n>=a)return t;var c=n-Mn(r);if(c<1)return r;var u=s?ri(s,0,c).join(""):t.slice(0,c);if(i===o)return u+r;if(s&&(c+=u.length-c),cc(i)){if(t.slice(c).search(i)){var l,p=u;for(i.global||(i=qt(i.source,wc(At.exec(i))+"g")),i.lastIndex=0;l=i.exec(p);)var h=l.index;u=u.slice(0,h===o?c:h)}}else if(t.indexOf(qr(i),c)!=c){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r},ho.unescape=function(t){return(t=wc(t))&&dt.test(t)?t.replace(ht,An):t},ho.uniqueId=function(t){var e=++ee;return wc(t)+e},ho.upperCase=Qc,ho.upperFirst=$c,ho.each=ws,ho.eachRight=Ts,ho.first=Xa,lu(ho,(bu={},Jo(ho,function(t,e){te.call(ho.prototype,e)||(bu[e]=t)}),bu),{chain:!1}),ho.VERSION="4.17.21",Fe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){ho[t].placeholder=ho}),Fe(["drop","take"],function(t,e){vo.prototype[t]=function(n){n=n===o?1:zn(vc(n),0);var r=this.__filtered__&&!e?new vo(this):this.clone();return r.__filtered__?r.__takeCount__=Wn(n,r.__takeCount__):r.__views__.push({size:Wn(n,I),type:t+(r.__dir__<0?"Right":"")}),r},vo.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Fe(["filter","map","takeWhile"],function(t,e){var n=e+1,o=1==n||3==n;vo.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ea(t,3),type:n}),e.__filtered__=e.__filtered__||o,e}}),Fe(["head","last"],function(t,e){var n="take"+(e?"Right":"");vo.prototype[t]=function(){return this[n](1).value()[0]}}),Fe(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");vo.prototype[t]=function(){return this.__filtered__?new vo(this):this[n](1)}}),vo.prototype.compact=function(){return this.filter(au)},vo.prototype.find=function(t){return this.filter(t).head()},vo.prototype.findLast=function(t){return this.reverse().find(t)},vo.prototype.invokeMap=Ar(function(t,e){return"function"==typeof t?new vo(this):this.map(function(n){return cr(n,t,e)})}),vo.prototype.reject=function(t){return this.filter(Ls(ea(t)))},vo.prototype.slice=function(t,e){t=vc(t);var n=this;return n.__filtered__&&(t>0||e<0)?new vo(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=vc(e))<0?n.dropRight(-e):n.take(e-t)),n)},vo.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},vo.prototype.toArray=function(){return this.take(I)},Jo(vo.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=ho[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);i&&(ho.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,c=e instanceof vo,u=s[0],l=c||Ys(e),p=function(t){var e=i.apply(ho,Ve([t],s));return r&&h?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var h=this.__chain__,f=!!this.__actions__.length,d=a&&!h,_=c&&!f;if(!a&&l){e=_?e:new vo(this);var y=t.apply(e,s);return y.__actions__.push({func:ys,args:[p],thisArg:o}),new yo(y,h)}return d&&_?t.apply(this,s):(y=this.thru(p),d?r?y.value()[0]:y.value():y)})}),Fe(["pop","push","shift","sort","splice","unshift"],function(t){var e=Xt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:pop|shift)$/.test(t);ho.prototype[t]=function(){var t=arguments;if(o&&!this.__chain__){var r=this.value();return e.apply(Ys(r)?r:[],t)}return this[n](function(n){return e.apply(Ys(n)?n:[],t)})}}),Jo(vo.prototype,function(t,e){var n=ho[e];if(n){var o=n.name+"";te.call(oo,o)||(oo[o]=[]),oo[o].push({name:e,func:n})}}),oo[Mi(o,f).name]=[{name:"wrapper",func:o}],vo.prototype.clone=function(){var t=new vo(this.__wrapped__);return t.__actions__=_i(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=_i(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=_i(this.__views__),t},vo.prototype.reverse=function(){if(this.__filtered__){var t=new vo(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},vo.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ys(t),o=e<0,r=n?t.length:0,i=ua(0,r,this.__views__),a=i.start,s=i.end,c=s-a,u=o?s:a-1,l=this.__iteratees__,p=l.length,h=0,f=Wn(c,this.__takeCount__);if(!n||!o&&r==c&&f==c)return Zr(t,this.__actions__);var d=[];t:for(;c--&&h<f;){for(var _=-1,y=t[u+=e];++_<p;){var v=l[_],g=v.iteratee,m=v.type,b=g(y);if(2==m)y=b;else if(!b){if(1==m)continue t;break t}}d[h++]=y}return d},ho.prototype.at=vs,ho.prototype.chain=function(){return _s(this)},ho.prototype.commit=function(){return new yo(this.value(),this.__chain__)},ho.prototype.next=function(){this.__values__===o&&(this.__values__=_c(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},ho.prototype.plant=function(t){for(var e,n=this;n instanceof _o;){var r=Va(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},ho.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof vo){var e=t;return this.__actions__.length&&(e=new vo(this)),(e=e.reverse()).__actions__.push({func:ys,args:[os],thisArg:o}),new yo(e,this.__chain__)}return this.thru(os)},ho.prototype.toJSON=ho.prototype.valueOf=ho.prototype.value=function(){return Zr(this.__wrapped__,this.__actions__)},ho.prototype.first=ho.prototype.head,Pe&&(ho.prototype[Pe]=function(){return this}),ho}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(we._=Un,define(function(){return Un})):Se?((Se.exports=Un)._=Un,Te._=Un):we._=Un}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],AdapterMgr:[function(t,e,n){"use strict";cc._RF.push(e,"c7c88EclmxBRbUUgNKeHBgH","AdapterMgr");var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.AdapterType=void 0;var r=0,i=1<<r++,a=1<<r++,s=1<<r++,c=1<<r++,u=1<<r++,l=a|s,p=c|u,h=1<<r++,f=1<<r++,d=1<<r++;(function(t){t[t.Top=c]="Top",t[t.Bottom=u]="Bottom",t[t.Left=a]="Left",t[t.Right=s]="Right",t[t.StretchWidth=l]="StretchWidth",t[t.StretchHeight=p]="StretchHeight",t[t.FullWidth=h]="FullWidth",t[t.FullHeight=f]="FullHeight"})(n.AdapterType||(n.AdapterType={}));var _=cc._decorator,y=_.ccclass,v=(_.property,function(){function t(){}var e;return e=t,Object.defineProperty(t,"inst",{get:function(){return null==this._instance&&(this._instance=new e,this._instance.visibleSize=cc.view.getVisibleSize(),console.log("visiable size: "+this._instance.visibleSize)),this._instance},enumerable:!1,configurable:!0}),t.prototype.adapteByType=function(t,e,n){void 0===n&&(n=0);for(var o=d;o>0;)o&t&&this._doAdapte(o,e,n),o>>=1;var r=e.getComponent(cc.Widget);r.target=cc.find("Canvas"),r.updateAlignment()},t.prototype._doAdapte=function(t,e,n){void 0===n&&(n=0);var o=e.getComponent(cc.Widget);switch(o||(o=e.addComponent(cc.Widget)),t){case i:break;case a:o.isAlignLeft=!0,o.isAbsoluteLeft=!0,o.left=n||0;break;case s:o.isAlignRight=!0,o.isAbsoluteRight=!0,o.right=n||0;break;case c:if(cc.sys.platform===cc.sys.WECHAT_GAME){var r=window.wx.getMenuButtonBoundingClientRect(),l=window.wx.getSystemInfoSync();n+=cc.find("Canvas").height*(r.top/l.screenHeight)}o.isAlignTop=!0,o.isAbsoluteTop=!0,o.top=n||0;break;case u:o.isAlignBottom=!0,o.isAbsoluteBottom=!0,o.bottom=n||0;break;case h:e.height/=e.width/this.visibleSize.width,e.width=this.visibleSize.width;break;case f:e.width/=e.height/this.visibleSize.height,e.height=this.visibleSize.height}},t.prototype.removeAdaptater=function(t){t.getComponent(cc.Widget)&&t.removeComponent(cc.Widget)},t._instance=null,e=o([y],t)}());n.default=v,cc._RF.pop()},{}],AutoFindPath:[function(t,e,n){"use strict";cc._RF.push(e,"8b2cbBZJ+VGGaj2+N51QmgM","AutoFindPath"),Object.defineProperty(n,"__esModule",{value:!0}),n.AutoFindPath=n.lands=n.models=void 0;var o,r,i=function(t,e){this.x=0,this.y=0,this.F=0,this.G=0,this.H=0,this.parent=null,this.K=r.normal,this.x=t,this.y=e};(function(t){t[t.normal=0]="normal",t[t.tilt=1]="tilt"})(o=n.models||(n.models={})),function(t){t[t.normal=1]="normal",t[t.hard=2]="hard"}(r=n.lands||(n.lands={}));var a=function(){function t(e,n){this.model=o.tilt,this.mapTable=new Map,this.openList=[],this.openListMap=new Map,this.fixClosedListMap=new Map,this.closedListMap=new Map,this.bronPoint=null,this.targetPoint=null,this.nowPoint=null,this.mapData=null,this.searchLimit=2e3,e.searchLimit>0&&(this.searchLimit=e.searchLimit),e.x=e.x-e.width*e.anchorX,e.y=e.y-e.height*e.anchorY,this.mapData=e;for(var r=0,a=Math.ceil(e.width/this.mapData.gridLength);r<a;++r)for(var s=0,c=Math.ceil(e.height/this.mapData.gridLength);s<c;++s)this.mapTable.set(r.toString()+t.sep+s.toString(),new i(r,s));n&&this.updateMap.apply(this,n),null===t._ins&&(t._ins=this)}return t.formatToMapData=function(t,e){return{anchorY:t.anchorY,anchorX:t.anchorX,height:t.height,width:t.width,x:t.x,y:t.y,gridLength:e,angle:-t.angle}},t.getKey=function(e){return e.x.toString()+t.sep+e.y.toString()},t.prototype.addToOpenList=function(e){var n=t.getKey(e);if(void 0===this.mapTable.get(n))throw new Error("this point not in map");if(this.openListMap.get(n)){var o=e.parent,r=e.F;return e.parent=this.nowPoint,this.F(e),e.F>r?(e.parent=o,void this.F(e)):void 0}e.parent=this.nowPoint,this.F(e),this.openList.push(e),this.openListMap.set(n,this.mapTable.get(n))},t.prototype.isInClosedList=function(e){var n=t.getKey(e);return!(!this.fixClosedListMap.get(n)&&!this.closedListMap.get(n))},t.prototype.removeMinFFromOpenList=function(){this.openList.sort(function(t,e){return t.F>e.F?-1:1});var t=this.openList.pop();return t&&this.removeFromOpenList(t),t},t.prototype.removeFromOpenList=function(e){var n=t.getKey(e);if(!this.openListMap.has(n))throw new Error("not in openList");this.openListMap.delete(n)},t.prototype.addToClosedList=function(e){var n=t.getKey(e);if(void 0===this.mapTable.get(n))throw new Error("this point not in map");if(this.closedListMap.get(n))throw new Error("is in closedList");this.closedListMap.set(n,this.mapTable.get(n))},Object.defineProperty(t,"ins",{get:function(){return t._ins},enumerable:!1,configurable:!0}),t.prototype.getGridPositions=function(e){var n=[],o=e.width,r=e.height;-90!==e.angle&&-270!==e.angle||(o+=r,o-=r=o-r);for(var i=e.x-o*e.anchorX,a=e.x+o*(1-e.anchorX),s=e.y-r*e.anchorY,c=e.y+r*(1-e.anchorY),u=this.getGridPositionRaw({x:i,y:s}),l=this.getGridPositionRaw({x:a,y:s}).x-u.x+1,p=this.getGridPositionRaw({x:i,y:c}).y-u.y+1,h=u.x,f=u.y,d=0,_=l;d<_;++d)for(var y=0,v=p;y<v;++y){var g=(d+h).toString()+t.sep+(f+y).toString();void 0!==this.mapTable.get(g)&&n.push(g)}return n},t.prototype.getGridPositionRaw=function(t){return{x:Math.floor((t.x-this.mapData.x)/this.mapData.gridLength),y:Math.floor((t.y-this.mapData.y)/this.mapData.gridLength)}},t.prototype.getGridPosition=function(e){return this.mapTable.get(t.getKey(this.getGridPositionRaw(e)))},t.prototype.updateMap=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,o=t;n<o.length;n++){var r=o[n];if(!(r.width*r.height<2))for(var i=0,a=this.getGridPositions(r);i<a.length;i++){var s=a[i];this.fixClosedListMap.set(s,this.mapTable.get(s))}}},t.prototype.removeFixObstacle=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,o=t;n<o.length;n++)for(var r=o[n],i=0,a=this.getGridPositions(r);i<a.length;i++){var s=a[i];this.fixClosedListMap.delete(s)}},t.prototype.removeAllObstacle=function(){this.fixClosedListMap.clear()},t.prototype.autoAddPathPoint=function(){var e={x:this.nowPoint.x,y:this.nowPoint.y+1},n={x:this.nowPoint.x+1,y:this.nowPoint.y},r={x:this.nowPoint.x,y:this.nowPoint.y-1},i={x:this.nowPoint.x-1,y:this.nowPoint.y},a=[e,n,r,i];this.model===o.tilt&&(this.isInClosedList(e)||this.isInClosedList(n)||a.push({x:this.nowPoint.x+1,y:this.nowPoint.y+1}),this.isInClosedList(r)||this.isInClosedList(n)||a.push({x:this.nowPoint.x+1,y:this.nowPoint.y-1}),this.isInClosedList(e)||this.isInClosedList(i)||a.push({x:this.nowPoint.x-1,y:this.nowPoint.y+1}),this.isInClosedList(r)||this.isInClosedList(i)||a.push({x:this.nowPoint.x-1,y:this.nowPoint.y-1}));for(var s=t.getKey(this.targetPoint),c=0,u=a;c<u.length;c++){var l=u[c],p=t.getKey(l),h=this.mapTable.get(p);void 0!==h&&(this.isInClosedList(h)&&p!==s||this.addToOpenList(h))}},t.prototype.findGridPath=function(e,n,o){this.clear(),this.model=o;var r=this.getGridPosition(e),i=this.getGridPosition(n);if(!r||this.fixClosedListMap.get(t.getKey(i)))return cc.error("\u8d77\u70b9\u6709\u8bef"),[];if(!i||this.fixClosedListMap.get(t.getKey(i)))return cc.error("\u7ec8\u70b9\u6709\u8bef"),[];this.nowPoint=this.bronPoint=this.mapTable.get(t.getKey(r)),this.targetPoint=this.mapTable.get(t.getKey(i));var a=[];if(t.getKey(r)===t.getKey(i))return a;for(var s=0;!this.closedListMap.get(t.getKey(this.targetPoint));){if(this.addToClosedList(this.nowPoint),this.autoAddPathPoint(),this.nowPoint=this.removeMinFFromOpenList(),void 0===this.nowPoint)return a;if(t.getKey(this.nowPoint)===t.getKey(this.targetPoint))break;if(++s>this.searchLimit)return cc.error("\u8def\u5f84\u641c\u5bfb\u8d85\u9650"),a}var c=t.getKey(this.targetPoint),u=t.getKey(this.bronPoint);do{var l=this.mapTable.get(c);a.push(l),c=t.getKey(l.parent)}while(c!==u);return a.reverse()},t.prototype.gridPositionConvertGameObjectPosition=function(t,e,n){for(var o=[],r=0,i=t;r<i.length;r++){var a=i[r],s=a.x*this.mapData.gridLength+this.mapData.x+this.mapData.gridLength*e.x,c=a.y*this.mapData.gridLength+this.mapData.y+this.mapData.gridLength*e.y;o.push(new n(s,c))}return o},t.prototype.hasObstacle=function(e){var n=!0;try{n=!!this.fixClosedListMap.get(t.getKey(this.getGridPosition(e)))}catch(o){}return n},t.prototype.clear=function(){this.openList.length=0,this.openListMap.clear(),this.closedListMap.clear(),this.bronPoint=null,this.targetPoint=null,this.nowPoint=null},t.prototype.F=function(e){t.G(e),this.H(e),e.F=e.G+e.H+e.K},t.G=function(t){t.parent.x===t.x||t.parent.y===t.y?t.G=t.parent.G+10:t.G=t.parent.G+14},t.prototype.H=function(t){t.H=10*Math.abs(this.targetPoint.x-t.x)+10*Math.abs(this.targetPoint.y-t.y)},t.getNextPosition=function(t,e,n,o){for(var r=n*o;;){var i=e[0],a=cc.v2(i.x,i.y),s=a.sub(t),c=s.mag();if(r<c)return t.add(s.mul(r/c));if(r-=c,e.shift(),0==e.length)return a}},t.prototype.setNodeZindex=function(e){e.zIndex=-t.ins.mapData.y-e.y},t.sep="_",t._ins=null,t}();n.AutoFindPath=a,cc._RF.pop()},{}],BackpackContent:[function(t,e,n){"use strict";cc._RF.push(e,"876c02VZpJOm7mbCQOB0Rx0","BackpackContent");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Components/ListItem"),s=t("../../Common/Utils/CommonUtils"),c=t("../../Config/GlobalData"),u=t("./BackpackItem"),l=cc._decorator,p=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=null,e.desk=null,e.content=null,e}return r(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.initUi=function(t,e){this.data=t,this.desk=e,this.title.getComponent(cc.Label).string="\u672a\u89e3\u9501",s.CommonUtils.setItemSpriteFrame(this.icon,""+c.GlobalData.recipePath+t.unlock)},e.prototype.onListGridRender=function(t,e){t.getComponent(u.default).initUi(this.data[e],this)},i([h({type:cc.Node,tooltip:"Content"})],e.prototype,"content",void 0),i([p],e)}(a.default);n.default=f,cc._RF.pop()},{"../../Common/Components/ListItem":"ListItem","../../Common/Utils/CommonUtils":"CommonUtils","../../Config/GlobalData":"GlobalData","./BackpackItem":"BackpackItem"}],BackpackItem:[function(t,e,n){"use strict";cc._RF.push(e,"3cb71FBlLBDrbf37/09niUO","BackpackItem");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("lodash"),s=t("../../Common/Components/ListItem"),c=t("../../Common/Utils/CommonUtils"),u=t("../../Config/GlobalData"),l=t("../../UIScript/toast/UIToast1"),p=t("../../Config/MessageInfo"),h=cc._decorator,f=h.ccclass,d=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemData=null,e.desk=null,e}return r(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.onEnable=function(){this.registerEvent()},e.prototype.onDisable=function(){this.unRegisterEvent()},e.prototype.registerEvent=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.clickRecipeInfo,this)},e.prototype.unRegisterEvent=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.clickRecipeInfo,this)},e.prototype.initUi=function(t,e){this.itemData=t,this.desk=e,t.unlock?(this.title.getComponent(cc.Label).string="\u672a\u89e3\u9501",c.CommonUtils.setItemSpriteFrame(this.icon,""+u.GlobalData.recipePath+t.unlock)):(this.title.getComponent(cc.Label).string=1==t.name.includes("%s")?t.name.replace("%s",""):t.name,c.CommonUtils.setItemSpriteFrame(this.icon,""+u.GlobalData.recipePath+t.resPath)),"1001"==t.id&&(this.selected=!0)},e.prototype.clickRecipeInfo=function(){if(this.itemData.unlock)l.default.open({info:p.MessageInfo.unlockRecipe});else{var t=this.node.parent;a.forEach(t.children,function(){}),this.selected=!0}},i([f],e)}(s.default));n.default=d,cc._RF.pop()},{"../../Common/Components/ListItem":"ListItem","../../Common/Utils/CommonUtils":"CommonUtils","../../Config/GlobalData":"GlobalData","../../Config/MessageInfo":"MessageInfo","../../UIScript/toast/UIToast1":"UIToast1",lodash:1}],BackpackTypeItem:[function(t,e,n){"use strict";cc._RF.push(e,"f7966yNq/NLy6qy/WQrp6jh","BackpackTypeItem");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.title=null,e.light=null,e.polygon=null,e.desk=null,e.itemData=null,e.isSelected=!1,e.initPolygonPos=null,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){this.polygon.position=this.initPolygonPos,this.unRegisterEvent()},e.prototype.registerEvent=function(){},e.prototype.unRegisterEvent=function(){},e.prototype.touchStart=function(){},e.prototype.initData=function(){this.registerEvent(),this.polygon.stopAllActions(),this.initPolygonPos=this.polygon.position,this.polygon.active=!1,this.light.active=!1},e.prototype.initUi=function(t,e){this.initData(),this.itemData=t,this.desk=e,this.node.color=cc.color(t.color),this.title.string=t.name,this.isSelectedFunction()},e.prototype.isSelectedFunction=function(){this.isSelected?(this.light.active=!0,this.polygon.active=!0,cc.tween(this.polygon).by(.5,{position:cc.v3(0,-10,0)}).by(.5,{position:cc.v3(0,10,0)}).union().repeatForever().start()):(this.polygon.position=this.initPolygonPos,this.polygon.stopAllActions(),this.polygon.active=!1,this.light.active=!1)},i([c({type:cc.Sprite,tooltip:!1})],e.prototype,"icon",void 0),i([c({type:cc.Label,tooltip:!1})],e.prototype,"title",void 0),i([c({type:cc.Node,tooltip:!1})],e.prototype,"light",void 0),i([c({type:cc.Node,tooltip:!1})],e.prototype,"polygon",void 0),i([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],BaseAssembler:[function(t,e,n){"use strict";cc._RF.push(e,"e3feaq91SVBdIfW2t1TEvv2","BaseAssembler");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=cc.gfx,a=new i.VertexFormat([{name:i.ATTR_POSITION,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_UV0,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_COLOR,type:i.ATTR_TYPE_UINT8,num:4,normalize:!0}]),s=function(t){function e(){var e=t.call(this)||this;return e.verticesCount=4,e.indicesCount=6,e.floatsPerVert=5,e.uvOffset=2,e.colorOffset=4,e._renderData=null,e._local=null,e._renderData=new cc.RenderData,e._renderData.init(e),e.initData(),e.initLocal(),e}return r(e,t),Object.defineProperty(e.prototype,"verticesFloats",{get:function(){return this.verticesCount*this.floatsPerVert},enumerable:!1,configurable:!0}),e.prototype.getVfmt=function(){return a},e.prototype.getBuffer=function(){return cc.renderer._handle.getBuffer("mesh",this.getVfmt())},e.prototype.initData=function(){this._renderData.createQuadData(0,this.verticesFloats,this.indicesCount)},e.prototype.initLocal=function(){this._local=[],this._local.length=4},e.prototype.updateColor=function(t,e){var n=this._renderData.uintVDatas[0];if(n){e=null!=e?e:t.node.color._val;for(var o=this.floatsPerVert,r=this.colorOffset,i=0;i<this.verticesCount;i++)n[r+i*o]=e}},e.prototype.updateUVs=function(){for(var t=[0,1,1,1,0,0,1,0],e=this.uvOffset,n=this.floatsPerVert,o=this._renderData.vDatas[0],r=0;r<this.verticesCount;r++){var i=2*r,a=n*r+e;o[a]=t[i],o[a+1]=t[i+1]}},e.prototype.updateWorldVertsWebGL=function(t){var e=this._local,n=this._renderData.vDatas[0],o=t.node._worldMatrix.m,r=o[0],i=o[1],a=o[4],s=o[5],c=o[12],u=o[13],l=e[0],p=e[2],h=e[1],f=e[3],d=1===r&&0===i&&0===a&&1===s,_=0,y=this.floatsPerVert;if(d)n[_]=l+c,n[_+1]=h+u,n[_+=y]=p+c,n[_+1]=h+u,n[_+=y]=p+c,n[_+1]=f+u,n[_+=y]=l+c,n[_+1]=f+u,_+=y;else{var v=r*l,g=r*p,m=i*l,b=i*p,w=a*h,T=a*f,S=s*h,O=s*f;n[_]=v+w+c,n[_+1]=m+S+u,n[_+=y]=g+w+c,n[_+1]=b+S+u,n[_+=y]=v+T+c,n[_+1]=m+O+u,n[_+=y]=g+T+c,n[_+1]=b+O+u}},e.prototype.updateWorldVertsNative=function(){var t=this._local,e=this._renderData.vDatas[0],n=this.floatsPerVert,o=t[0],r=t[2],i=t[1],a=t[3],s=0;e[s]=o,e[s+1]=i,e[s+=n]=r,e[s+1]=i,e[s+=n]=o,e[s+1]=a,e[s+=n]=r,e[s+1]=a},e.prototype.updateWorldVerts=function(t){this.updateWorldVertsWebGL(t)},e.prototype.updateVerts=function(t){var e,n,o,r,i=t.node,a=i.width,s=i.height,c=i.anchorX*a,u=i.anchorY*s;e=-c,n=-u,o=a-c,r=s-u;var l=this._local;l[0]=e,l[1]=n,l[2]=o,l[3]=r,this.updateWorldVerts(t)},e.prototype.updateRenderData=function(t){t._vertsDirty&&(this.updateUVs(t),this.updateVerts(t),t._vertsDirty=!1)},e.prototype.fillBuffers=function(t,e){e.worldMatDirty&&this.updateWorldVerts(t);var n=this._renderData,o=n.vDatas[0],r=n.iDatas[0],i=this.getBuffer(),a=i.request(this.verticesCount,this.indicesCount),s=a.byteOffset>>2,c=i._vData;o.length+s>c.length?c.set(o.subarray(0,c.length-s),s):c.set(o,s);for(var u=i._iData,l=a.indiceOffset,p=a.vertexOffset,h=[0,1,2,0,2,3,4,5,6,4,6,7],f=0,d=r.length;f<d;f++)u[l++]=p+h[f]},e.prototype.packToDynamicAtlas=function(t,e){if(!e._original&&cc.dynamicAtlasManager&&e._texture.packable){var n=cc.dynamicAtlasManager.insertSpriteFrame(e);n&&e._setDynamicAtlasFrame(n)}var o=t._materials[0];o&&o.getProperty("texture")!==e._texture&&(t._vertsDirty=!0,t._updateMaterial())},e}(cc.Assembler);n.default=s,cc._RF.pop()},{}],BaseMgr:[function(t,e,n){"use strict";cc._RF.push(e,"5e629wf1WBDNaVfkPO8PSYi","BaseMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.BaseMgr=void 0;n.BaseMgr=function(t){this.game=null,this.game=t},cc._RF.pop()},{}],BaseRole:[function(t,e,n){"use strict";cc._RF.push(e,"a7f437+BQBGaLENl/LpKYRU","BaseRole");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../Common/BroadCasts/BroadcastCenter"),u=t("../../Config/GlobalData"),l=t("../../Config/ResConfig"),p=t("../../Enum/MessageType"),h=t("../../Extra/AutoFindPath"),f=t("../Manager/TableMgr"),d=cc._decorator,_=d.ccclass,y=d.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ani=null,e.talk=null,e.coffee=null,e.direction=l.EntityDirection.RIGHT_UP,e.awaitIndex=0,e.movePath=[],e.moveing=!1,e.tempBoxChild=[],e.home=null,e.makeRecipe=null,e._state=p.RoleType.COME,e}return r(e,t),e.prototype.start=function(){},e.prototype.init=function(t){this.home=t,this.state=p.RoleType.COME,this.talk.active=!1,this.coffee.active=!1},e.prototype.toPos=function(t){this.searchPath(t)},e.prototype.update=function(t){this.node.parent&&this.moveHandle(t)},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t},enumerable:!1,configurable:!0}),e.prototype.moveHandle=function(t){if(this.movePath.length<=0)return this.stand(),null;var e=h.AutoFindPath.getNextPosition(this.node.getPosition(),this.movePath,u.GlobalData.gameData.roleMoveSpeed,t),n=e.x-this.node.x,o=e.y-this.node.y;n>0&&(o>0&&l.EntityDirection.RIGHT_UP,o<0&&l.EntityDirection.RIGHT_DOWN,0==o&&(this.direction==l.EntityDirection.LEFT_UP||this.direction==l.EntityDirection.RIGHT_UP?l.EntityDirection.RIGHT_UP:l.EntityDirection.RIGHT_DOWN)),n<0&&(o>0&&l.EntityDirection.LEFT_UP,o<0&&l.EntityDirection.LEFT_DOWN,0==o&&(this.direction==l.EntityDirection.LEFT_UP||this.direction==l.EntityDirection.RIGHT_UP?l.EntityDirection.LEFT_UP:l.EntityDirection.LEFT_DOWN)),0==n&&(o>0&&(this.direction==l.EntityDirection.LEFT_UP||this.direction==l.EntityDirection.LEFT_DOWN?l.EntityDirection.LEFT_UP:l.EntityDirection.RIGHT_UP),o<0&&(this.direction==l.EntityDirection.LEFT_UP||this.direction==l.EntityDirection.LEFT_DOWN?l.EntityDirection.LEFT_DOWN:l.EntityDirection.RIGHT_DOWN),0==o&&this.direction),this.node.setPosition(e),this.run(),h.AutoFindPath.ins.setNodeZindex(this.node)},e.prototype.run=function(){this.moveing||(this.moveing=!0,this.ani.playAdditive(l.RoleState.run))},e.prototype.stand=function(){if(this.moveing)switch(this.state==p.RoleType.COME&&(this.state=p.RoleType.WAIT),this.moveing=!1,this.ani.stop(),this.ani.playAdditive(l.RoleState.idle),this.state){case p.RoleType.LEAVE:this.home.rolePool.put(this.node);break;case p.RoleType.WAIT:1===this.awaitIndex&&(this.talk.active=!0),c.BroadcastCenter.buildingState.dispatch({id:this.awaitIndex,state:p.MessageType.RoleStand});break;case p.RoleType.SIT:this.coffee.active=!1,f.default.ins.queryNullTable().sit(this.makeRecipe,this)}},e.prototype.getCoffee=function(){this.talk.active=!1,this.coffee.active=!0,this.state=p.RoleType.LEAVE},e.prototype.changeTalk=function(t){t?this.closeTalk():this.startTalk()},e.prototype.searchPath=function(t){return a(this,void 0,void 0,function(){var e;return s(this,function(){return this.movePath.length=0,0===(e=h.AutoFindPath.ins.gridPositionConvertGameObjectPosition(h.AutoFindPath.ins.findGridPath(this.node,t,h.models.tilt),cc.v2(.5,.5),cc.Vec2)).length?(console.log("\u6b7b\u8def"),[2]):(this.movePath=e,[2])})})},e.prototype.startTalk=function(){this.ani.node.active=!1},e.prototype.closeTalk=function(){this.ani.node.active=!0},e.prefabPath="Prefab/Common/Role",i([y(cc.Animation)],e.prototype,"ani",void 0),i([y(cc.Node)],e.prototype,"talk",void 0),i([y(cc.Node)],e.prototype,"coffee",void 0),i([_],e)}(cc.Component);n.default=v,cc._RF.pop()},{"../../Common/BroadCasts/BroadcastCenter":"BroadcastCenter","../../Config/GlobalData":"GlobalData","../../Config/ResConfig":"ResConfig","../../Enum/MessageType":"MessageType","../../Extra/AutoFindPath":"AutoFindPath","../Manager/TableMgr":"TableMgr"}],BaseTable:[function(t,e,n){"use strict";cc._RF.push(e,"4b193bvs7lFoIdxAmx7/wnl","BaseTable");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Utils/CommonUtils"),s=t("../../Config/GlobalData"),c=t("../../Enum/MessageType"),u=t("../ani/CoinFlyToWallet"),l=cc._decorator,p=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coffee=null,e.laji=null,e._state=c.TableType.NONE,e.makeRecipe=null,e.role=null,e.tablePath="img/table",e.coffeePath="img/recipe",e.home=null,e.initPos=null,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.init=function(t){this.home=t,this.initPos=this.coffee.node.position},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t},enumerable:!1,configurable:!0}),e.prototype.sit=function(t,e){this.state=c.TableType.DRINK,this.role=e,this.makeRecipe=t,this.coffee.node.position=this.initPos,a.CommonUtils.setItemSpriteFrame(this.coffee,""+s.GlobalData.recipePath+t.ID),this.coffee.node.active=!0,this.scheduleOnce(this.leval,s.GlobalData.gameData.drinkTime)},e.prototype.leval=function(){this.state=c.TableType.TRASH,this.coffee.spriteFrame=this.laji,this.coffee.node.position=cc.v3(this.initPos.x,this.initPos.y-20,this.initPos.z),this.home.leave(this.role)},e.prototype.clearTable=function(){if(this.state==c.TableType.TRASH){this.coffee.node.active=!1,this.state=c.TableType.NONE;var t=this.home.top.getComponent(u.CoinFlyToWallet);t.startNode=this.node,t.playAnim()}},e.prefabPath="Prefab/Common/table",i([h(cc.Sprite)],e.prototype,"coffee",void 0),i([h(cc.SpriteFrame)],e.prototype,"laji",void 0),i([p],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../Common/Utils/CommonUtils":"CommonUtils","../../Config/GlobalData":"GlobalData","../../Enum/MessageType":"MessageType","../ani/CoinFlyToWallet":"CoinFlyToWallet"}],BatchAssembler:[function(t,e,n){"use strict";cc._RF.push(e,"3989dU4L8BIBJM9muUNLD0B","BatchAssembler");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=t("./BaseAssembler"),a=cc.RenderFlow.FLAG_RENDER|cc.RenderFlow.FLAG_POST_RENDER,s=cc.RenderFlow.FLAG_OPACITY|cc.RenderFlow.FLAG_WORLD_TRANSFORM,c=!0,u=function(t){function e(){var e=t.call(this)||this;return e._groups=[],e}return r(e,t),e.prototype.fillBuffers=function(t,e){if(c){var n=(e.worldMatDirty?cc.RenderFlow.FLAG_WORLD_TRANSFORM:0)|(e.parentOpacityDirty?cc.RenderFlow.FLAG_OPACITY_COLOR:0);t.node.__DirtyFlag__=n,this._groups=[],this._walkByName(t.node.children)}},e.prototype.postFillBuffers=function(t,e){var n=e.worldMatDirty;if(c&&this._groups&&!(this._groups.length<=0)){c=!1;for(var o=0,r=this._groups;o<r.length;o++){var i=r[o];if(!(i.length<=0))for(var a=0,s=i;a<s.length;a++){var u=s[a],l=u.__RenderFlag__,p=u.__DirtyFlag__;e.worldMatDirty=p>0?1:0,u._renderFlag|=l,l&&cc.RenderFlow.flows[l]._func(u)}}this._groups=null,c=!0,e.worldMatDirty=n}},e.prototype._walkDefault=function(t){if(t&&!(t.length<=0)){for(var e=t[0].childrenCount,n=[],o=0;o<e;o++)n[o]=[];for(var r=[],i=0,c=t;i<c.length;i++){var u=c[i];if(u._activeInHierarchy&&0!=u.opacity){var l=u._renderFlag&a;for(l>0&&(u.__RenderFlag__=l,u._renderFlag&=~l,r.push(u)),u.__DirtyFlag__=u.parent.__DirtyFlag__|u._renderFlag&s,o=0;o<e;o++)n[o].push(u.children[o])}}r.length>0&&this._groups.push(r);for(var p=0,h=n;p<h.length;p++){var f=h[p];this._walkDefault(f)}}},e.prototype._walkByName=function(t){if(t&&!(t.length<=0)){for(var e={},n=[],o=[],r=0,i=t;r<i.length;r++){var c=i[r];if(c._activeInHierarchy&&0!=c.opacity){var u=c._renderFlag&a;u>0&&(c.__RenderFlag__=u,c._renderFlag&=~u,n.push(c)),c.__DirtyFlag__=c.parent.__DirtyFlag__|c._renderFlag&s;for(var l="",p=0,h=c.children;p<h.length;p++){var f=h[p];if(e[v=f.name]||(e[v]=[]),e[v].push(f),-1==o.indexOf(v))if(0==l.length)o.unshift(v);else{var d=o.indexOf(l);o.splice(d+1,0,v)}l=v}}}n.length>0&&this._groups.push(n);for(var _=0,y=o;_<y.length;_++){var v=y[_];this._walkByName(e[v])}}},e}(i.default);n.default=u,cc._RF.pop()},{"./BaseAssembler":"BaseAssembler"}],BatchComponent:[function(t,e,n){"use strict";cc._RF.push(e,"d393a5ZdPJN0q6Ay73BaSB9","BatchComponent");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,s=t("../Assemblers/BatchAssembler");(function(t){t[t.Default=0]="Default",t[t.SameName=1]="SameName"})(a||(a={}));var c=cc._decorator,u=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mode=0,e}return r(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.node._renderFlag|=cc.RenderFlow.FLAG_POST_RENDER},e.prototype._resetAssembler=function(){this.setVertsDirty(),(this._assembler=new s.default).init(this)},i([l({type:cc.Enum(a),tooltip:"\u904d\u5386\u6a21\u5f0f: Default \u9ed8\u8ba4\u7684\u5e7f\u5ea6\u904d\u5386, SameName \u540c\u540d\u7ed3\u70b9\u540c\u6279\u6b21"})],e.prototype,"mode",void 0),i([u],e)}(cc.RenderComponent);n.default=p,cc._RF.pop()},{"../Assemblers/BatchAssembler":"BatchAssembler"}],BigNumUtils:[function(t,e,n){"use strict";var o;cc._RF.push(e,"c4b72NccXhGKofOUM3hVrvP","BigNumUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.RountType=void 0,function(t){t[t.Round=0]="Round",t[t.Floor=1]="Floor",t[t.Ceil=2]="Ceil"}(o=n.RountType||(n.RountType={}));var r=function(){function t(){}return t.BNPlus=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[0,0],o=0;o<t.length;o++){var r,i,a=t[o],s=+a;0===s||s&&s!==1/0?(i=a<10?0:Math.floor(Math.log10(+a)+1e-6),r=a<10?a:a/Math.pow(10,i)):a?(r=+(a=a.split("e"))[0]||0,i=+a[1]||0):(r=0,i=0),i>n[1]?(n[0]/=Math.pow(10,i-n[1]),n[0]+=r,n[1]=i):n[0]+=r/Math.pow(10,n[1]-i)}for(var c=n[0]>=0?1:-1,u=Math.abs(n[0]);u<1&&n[1]>0;)u*=10,n[1]-=1;for(;u>10;)u/=10,n[1]+=1;return(u*=c)+"e"+n[1]},t.BNMinus=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[0,0],o=0;o<t.length;o++){var r,i,a=t[o],s=o,c=+a;0===c||c&&c!==1/0?(i=a<10?0:Math.floor(Math.log10(+a)+1e-6),r=a<10?a:a/Math.pow(10,i)):(r=+(a=a.split("e"))[0],i=+a[1]),s?n[1]<i?(n[0]=n[0]/Math.pow(10,i-n[1])-r,n[1]=i):n[0]-=r/Math.pow(10,n[1]-i):(n[0]=r,n[1]=i)}for(var u=n[0]>=0?1:-1,l=Math.abs(n[0]);l<1&&n[1]>0;)l*=10,n[1]-=1;for(;l>10;)l/=10,n[1]+=1;return(l*=u)+"e"+n[1]},t.BNTimes=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=[0,0];t.forEach(function(t,e){var o,r,i=+t;0===i||i&&i!==1/0?(r=t<10?0:Math.floor(Math.log10(+t)+1e-6),o=t<10?t:t/Math.pow(10,r)):t?(o=+(t=t.split("e"))[0]||0,r=+t[1]||0):(o=1,r=0),e?(n[0]*=o,n[1]+=r,n[0]>1e300&&(n[0]/=1e300,n[1]+=300)):(n[0]=o,n[1]=r)});for(var o=n[0]>=0?1:-1,r=Math.abs(n[0]);r<1&&n[1]>0;)r*=10,n[1]-=1;for(;r>10;)r/=10,n[1]+=1;return r*o+"e"+n[1]},t.BNDevide=function(t,e){if(0==+e)return 0;var n=[0,0],o=1;[t,e].forEach(function(t,e){var r,i,a=+t,s=Math.abs(a);0===s||s&&s!==1/0?(i=s<10?0:Math.floor(Math.log10(s)+1e-6),r=s<10?s:s/Math.pow(10,i)):(a=+(t=t.split("e"))[0],r=Math.abs(a),i=+t[1]),o*=a>=0?1:-1,0===e?(n[0]=r,n[1]=i):(n[0]/=r,n[1]-=i)});for(var r=Math.abs(n[0]);r<1&&n[1]>0;)r*=10,n[1]-=1;for(;r>10;)r/=10,n[1]+=1;return r*=o,n[1]<100?r*Math.pow(10,n[1]):this.BNTimes(r,this.BNPow(10,n[1]))},t.BNCompare=function(t,e){var n=[0,0],o=[0,0];return[t,e].forEach(function(t,e){var r=+t;0===r||r&&r!==1/0?(o[e]=t<10?0:Math.floor(Math.log10(+t)+1e-6),n[e]=t<10?t:t/Math.pow(10,o[e])):(t=t.split("e"),n[e]=+t[0],o[e]=+t[1])}),n[0]*n[1]<0?n[0]>0?1:-1:o[1]>o[0]?-1:o[1]<o[0]?1:n[1]>n[0]?-1:n[1]<n[0]?1:0},t.BNPow=function(t,e){if(!t)return"0";if(!e)return"1";var n=Math.floor(Math.log(1e300)/Math.log(t)),o=1;if((n=Math.max(n,1))>=e)o=Math.pow(t,e);else{for(var r=Math.floor(e/n),i=[],a=Math.pow(t,n),s=0;s<r;s++)i.push(a);i.push(Math.pow(t,e-n*r)),o=this.BNTimes.apply(this,i)}return o},t.BNMax=function(t,e){return this.BNCompare(t,e)>0?t:e},t.BNMin=function(t,e){return this.BNCompare(t,e)>0?e:t},t.BNLog=function(t){var e=+t;if(0===e||e&&e!==1/0){var n=e>=0?1:-1;return e=Math.abs(e),n*Math.log10(e)}return+t.split("e")[1]},t.BNSqrt=function(t){var e=+t;if(0===e||e&&e!==1/0)return Math.sqrt(e);var n=t.split("e"),o=+n[0],r=+n[1];return Math.sqrt(o)+"e"+r/2},t.BNSqrtEx=function(t,e){var n=+t;if(0===n||n&&n!==1/0)return Math.pow(n,1/e);var o=t.split("e"),r=+o[0],i=+o[1];return Math.pow(r,1/e)+"e"+i/e},t.BNFloor=function(t){var e=+t;return 0===e||e&&e!==1/0?Math.floor(e):t},t.BNCeil=function(t){var e=+t;return 0===e||e&&e!==1/0?Math.ceil(e):t},t.BNRound=function(t){var e=+t;return 0===e||e&&e!==1/0?Math.round(e):t},t.BN2Number=function(t){var e=+t;if(0===e||e&&e!==1/0)return e;var n=t.split("e");return+n[0]*Math.pow(10,n[1])},t.getOwnString=function(t){return this.getNumberString(t,void 0,void 0,o.Floor)},t.getCostString=function(t){return this.getNumberString(t,void 0,void 0,o.Ceil)},t.getNumberString=function(t,e,n,r){var i,a;void 0===e&&(e=0),void 0===r&&(r=o.Round);var s,c=+t;if(0===c||c&&c!==1/0){if(t<1e3)return this.roundNum(t,r,e);var u=""+Math.round(t),l=0;if(~u.indexOf("e")){var p=+u.split("e")[0],h=+u.split("e")[1];l=h+=Math.floor(Math.log10(p))}else l=Math.floor(Math.log10(t));i=~u.indexOf("e")?+u.split("e")[0]*Math.pow(10,l%3):+u.slice(0,l%3+4)/1e3,a=l/3>>0}else{if(+(t=t.split("e"))[1]<3){var f=t[0]*Math.pow(10,t[1]);return this.roundNum(f,r,e)}for(i=t[0]*Math.pow(10,t[1]%3);i>1e3;)i/=1e3,t[1]=+t[1]+3;a=t[1]/3>>0}if(a<4)s=["","K","M","B"][a];else{var d=(a-4)/26>>0,_=d/26>>0,y=(a-4)%26,v="abcdefghijklmnopqrstuvwxyz",g=v.toUpperCase();s=(_<2?v:g)[d%26]+(_%2?g:v)[y]}return void 0===n&&(n=i<10?2:i<100?1:0),this.roundNum(i,r,n)+s},t.roundNum=function(t,e,n){var r,i;if(r=e===o.Round?Math.round:e===o.Ceil?Math.ceil:Math.floor,0===n)i=r(t);else{var a=Math.pow(10,n);i=r(a*t)/a}return i.toFixed(n)},t.getFixNumber=function(t,e){void 0===e&&(e=1);var n=Math.pow(10,e);return Math.floor(t*n)/n},t.getPercentString=function(t,e){return void 0===e&&(e=1),"string"==typeof t?this.getNumberString(this.BNTimes(t,100),e)+"%":this.getNumberString(100*t,e)+"%"},t}();n.default=r,cc._RF.pop()},{}],BroadCast:[function(t,e,n){"use strict";cc._RF.push(e,"082ecq87BtC3qGrtG+cRJqY","BroadCast"),Object.defineProperty(n,"__esModule",{value:!0}),n.ListenerBinding=n.Broadcast=void 0;var o=function(){function t(){this.bindings=[]}return t.prototype.on=function(t,e){var n=new r(t,e,!1,this);return this.bindings.push(n),n},t.prototype.once=function(t,e){var n=new r(t,e,!0,this);return this.bindings.push(n),n},t.prototype.dispatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=!1,o=0,r=this.bindings;o<r.length;o++){var i=r[o];i.hasDestroyed?n=!0:i.execute.apply(i,t)}if(n)for(var a=0;a<this.bindings.length;a++)this.bindings[a].hasDestroyed&&(this.bindings.splice(a,1),a--)},t.prototype.get=function(t,e){for(var n=0,o=this.bindings;n<o.length;n++){var r=o[n];if(r.listener==t&&r.target==e&&!r.hasDestroyed)return r}return null},t.prototype.has=function(t,e){for(var n=0,o=this.bindings;n<o.length;n++){var r=o[n];if(r.listener==t&&r.target==e&&!r.hasDestroyed)return!0}return!1},t.prototype.remove=function(t,e){for(var n=0,o=this.bindings;n<o.length;n++){var r=o[n];if(r.listener==t&&r.target==e&&!r.hasDestroyed)return r.destroy()}},t.prototype.removeAll=function(){for(;this.bindings.length;)this.bindings.pop().destroy()},t}();n.Broadcast=o;var r=function(){function t(t,e,n,o){var r=this;this.destroySelf=function(){r.destroy()},this.listener=t,this.target=e,this.once=n,this.broadcast=o,this.hasDestroyed=!1}return t.prototype.execute=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.hasDestroyed){var n=this.listener.apply(this.target,t);return this.once&&this.destroy(),n}return null},t.prototype.destroy=function(){this.listener=null,this.target=null,this.once=null,this.broadcast=null,this.hasDestroyed=!0},t}();n.ListenerBinding=r,cc._RF.pop()},{}],BroadcastCenter:[function(t,e,n){"use strict";cc._RF.push(e,"c1631mjt99N+bqKIUwCcgeG","BroadcastCenter"),Object.defineProperty(n,"__esModule",{value:!0}),n.BroadcastCenter=n.BuildingData=void 0;var o=t("../Utils/BroadCast");n.BuildingData=function(){};var r=function(){function t(){}return t.buildingState=new o.Broadcast,t}();n.BroadcastCenter=r,r.buildingState.on(function(t){console.log(t.id,t.state)},this),r.buildingState.dispatch({id:1,state:"success"}),cc._RF.pop()},{"../Utils/BroadCast":"BroadCast"}],ButtonPlus:[function(t,e,n){"use strict";cc._RF.push(e,"3eaf8iLxgtDEKVcEmFvrbqy","ButtonPlus");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../UIFrame/SoundMgr"),s=cc._decorator,c=s.ccclass,u=s.property,l=s.executeInEditMode,p=s.menu,h=s.help,f=s.inspector,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioUrl="",e.openContinuous=!0,e.continuousTime=1,e.continuous=!1,e._continuousTimer=null,e.openLongPress=!1,e.longPressTime=1,e.longPressFlag=!1,e.longPressTimer=null,e}return r(e,t),e.prototype.onEnable=function(){this.continuous=!1,t.prototype.onEnable.call(this)},e.prototype.onDisable=function(){this._continuousTimer&&(clearTimeout(this._continuousTimer),this._continuousTimer=null),this.longPressTimer&&(clearTimeout(this.longPressTimer),this.longPressTimer=null),t.prototype.onDisable.call(this)},e.prototype._onTouchBegan=function(t){this.interactable&&this.enabledInHierarchy&&(this.openLongPress&&!this.longPressFlag&&(this.longPressTimer&&clearTimeout(this.longPressTimer),this.longPressTimer=setTimeout(function(){this._pressed&&(this.node.emit("longclickStart",this),this.longPressFlag=!0)}.bind(this),1e3*this.longPressTime)),this._pressed=!0,this._updateState(),t.stopPropagation())},e.prototype._onTouchEnded=function(t){this.interactable&&this.enabledInHierarchy&&(this._pressed&&this.longPressFlag?(this.node.emit("longclickEnd",this),this.longPressFlag=!1):this._pressed&&!this.continuous&&(this.continuous=!!this.openContinuous,cc.Component.EventHandler.emitEvents(this.clickEvents,t),this.node.emit("click",t),a.default.inst.playEffect(this.audioUrl),this.openContinuous&&(this._continuousTimer=setTimeout(function(){this.continuous=!1}.bind(this),1e3*this.continuousTime))),this._pressed=!1,this._updateState(),t.stopPropagation())},e.prototype._onTouchCancel=function(){this.interactable&&this.enabledInHierarchy&&(this._pressed&&this.longPressFlag&&(this.node.emit("longclickEnd",this),this.longPressFlag=!1),this._pressed=!1,this._updateState())},e.prototype.addClick=function(t,e){this.node.off("click"),this.node.on("click",t,e)},e.prototype.addLongClick=function(t,e,n){this.node.off("longclickStart"),this.node.off("longclickEnd"),this.node.on("longclickStart",t,n),this.node.on("longclickEnd",e,n)},i([u({tooltip:"\u97f3\u6548\u8def\u5f84",type:"",multiline:!0,formerlySerializedAs:"_N$string"})],e.prototype,"audioUrl",void 0),i([u({tooltip:"\u5c4f\u853d\u8fde\u7eed\u70b9\u51fb"})],e.prototype,"openContinuous",void 0),i([u({tooltip:"\u5c4f\u853d\u65f6\u95f4, \u5355\u4f4d:\u79d2"})],e.prototype,"continuousTime",void 0),i([u({tooltip:"\u662f\u5426\u5f00\u542f\u957f\u6309\u4e8b\u4ef6"})],e.prototype,"openLongPress",void 0),i([u({tooltip:"\u957f\u6309\u65f6\u95f4"})],e.prototype,"longPressTime",void 0),i([c,p("i18n:MAIN_MENU.component.ui/ButtonPlus"),l,h("i18n:COMPONENT.help_url.button"),f("packages://buttonplus/inspector.js")],e)}(cc.Button);n.default=d,cc._RF.pop()},{"../../UIFrame/SoundMgr":"SoundMgr"}],CacheUtils:[function(t,e,n){"use strict";cc._RF.push(e,"f7caav8yMdOrZNrAy/SIOIW","CacheUtils");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../UIFrame/ResMgr"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.com=null,e.passTime=0,e}return r(e,t),e.prototype.onLoad=function(){this.com=this.getComponent(cc.Label)},e.prototype.start=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){t.node.x+=e.getDeltaX(),t.node.y+=e.getDeltaY()},this)},e.prototype.update=function(t){this.passTime+=t,this.passTime>1&&(this.passTime=0,this.com.string=a.default.inst.computeTextureCache())},i([c],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../../UIFrame/ResMgr":"ResMgr"}],CameraCapture:[function(t,e,n){"use strict";cc._RF.push(e,"29803DQKJdC2KvHyjig9y8N","CameraCapture");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../UIFrame/CocosHelper"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.captureNode=null,e.camera=null,e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){n.inst=this,this.camera=this.getComponent(cc.Camera),this.camera||(this.camera=this.addComponent(cc.Camera)),this.node.active=!1},e.prototype.start=function(){},e.prototype.captureTexture=function(){this.node.active=!0,this.captureNode.active=!1;var t=a.default.captureScreen(this.camera,this.captureNode);return this.captureNode.active=!0,this.node.active=!1,t},e.inst=null,i([u(cc.Node)],e.prototype,"captureNode",void 0),n=i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../UIFrame/CocosHelper":"CocosHelper"}],ClassHelper:[function(t,e,n){"use strict";cc._RF.push(e,"8a6f5OHp8dBpb72DtfAMWuK","ClassHelper"),Object.defineProperty(n,"__esModule",{value:!0}),n.GetClassByName=n.RigisterClass=void 0;var o=cc.js.createMap();n.RigisterClass=function(t){return function(e){o[t]=e}},n.GetClassByName=function(t){return o[t]},cc._RF.pop()},{}],CocosHelper:[function(t,e,n){"use strict";cc._RF.push(e,"d6791Dm+YVK/qXMfQo5ktVd","CocosHelper");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.LoadProgress=void 0;var i=function(){};n.LoadProgress=i;var a=function(){function t(){}return t.callInNextTick=function(){return o(this,void 0,void 0,function(){return r(this,function(){return[2,new Promise(function(t){setTimeout(function(){t(!0)},0)})]})})},t.runRepeatTweenSync=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return o(this,void 0,void 0,function(){return r(this,function(){return[2,new Promise(function(o){for(var r=cc.tween(t),i=0,a=n;i<a.length;i++){var s=a[i];r=r.then(s)}e<0?cc.tween(t).repeatForever(r).start():cc.tween(t).repeat(e,r).call(function(){o(!0)}).start()})]})})},t.runTweenSync=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return o(this,void 0,Promise,function(){return r(this,function(){return[2,new Promise(function(n){for(var o=cc.tween(t),r=0,i=e;r<i.length;r++){var a=i[r];o=o.then(a)}o.call(function(){n()}).start()})]})})},t.prototype.stopTween=function(t){cc.Tween.stopAllByTarget(t)},t.prototype.stopTweenByTag=function(t){cc.Tween.stopAllByTag(t)},t.runActionSync=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return o(this,void 0,void 0,function(){return r(this,function(){return!e||e.length<=0?[2]:[2,new Promise(function(n){e.push(cc.callFunc(function(){n(!0)})),t.runAction(cc.sequence(e))})]})})},t.runAnimSync=function(e,n){return o(this,void 0,void 0,function(){var o,i,a,s;return r(this,function(r){switch(r.label){case 0:if(!(o=e.getComponent(cc.Animation)))return[2];if(i=null,n){if(a=o.getClips(),"number"==typeof n)i=a[n];else if("string"==typeof n)for(s=0;s<a.length;s++)if(a[s].name===n){i=a[s];break}}else i=o.defaultClip;return i?[4,t.sleepSync(i.duration)]:[2];case 1:return r.sent(),[2]}})})},t.loadResThrowErrorSync=function(){return null},t.loadRes=function(t,e,n){var o=this;this._loadingMap[t]?this._loadingMap[t].push(n):(this._loadingMap[t]=[n],this.loadResSync(t,e).then(function(e){for(var n=0,r=o._loadingMap[t];n<r.length;n++)(0,r[n])(e);o._loadingMap[t]=null,delete o._loadingMap[t]}))},t.loadResSync=function(t,e,n){var o=this;return new Promise(function(r){n||(n=o._onProgress),cc.resources.load(t,e,n,function(e,n){e?(cc.error(t+" [\u8d44\u6e90\u52a0\u8f7d] \u9519\u8bef "+e),r(null)):r(n)})})},t._onProgress=function(e,n,o){t.loadProgress.completedCount=e,t.loadProgress.totalCount=n,t.loadProgress.item=o,t.loadProgress.cb&&t.loadProgress.cb(e,n,o)},t.findChildInNode=function(t,e){if(e.name==t)return e;for(var n=0;n<e.childrenCount;n++){var o=this.findChildInNode(t,e.children[n]);if(o)return o}return null},t.getComponentName=function(t){var e=t.name.match(/<.*>$/);return e&&e.length>0?e[0].slice(1,-1):t.name},t.loadBundleSync=function(t,e){return new Promise(function(n){cc.assetManager.loadBundle(t,e,function(e,o){e?(cc.error("\u52a0\u8f7dbundle\u5931\u8d25, url: "+t+", err:"+e),n(null)):n(o)})})},t.loadAssetFromBundleSync=function(t,e){var n=cc.assetManager.getBundle(t);return n?new Promise(function(t){n.load(e,function(n,o){n?(cc.error("\u52a0\u8f7dbundle\u4e2d\u7684\u8d44\u6e90\u5931\u8d25, \u672a\u627e\u5230asset, url:"+e+", err:"+n),t(null)):t(o)})}):(cc.error("\u52a0\u8f7dbundle\u4e2d\u7684\u8d44\u6e90\u5931\u8d25, \u672a\u627e\u5230bundle, bundleUrl:"+t),null)},t.loadAssetSync=function(t){var e=this;return new Promise(function(n){cc.resources.load(t,function(o,r){o?(e.addRef(r),n(r)):(cc.error("\u52a0\u8f7dasset\u5931\u8d25, url:"+t+", err: "+o),n(null))})})},t.releaseAsset=function(t){this.decRes(t)},t.addRef=function(t){if(t instanceof Array)for(var e=0,n=t;e<n.length;e++)n[e].addRef();else t.addRef()},t.decRes=function(t){if(t instanceof Array)for(var e=0,n=t;e<n.length;e++)n[e].decRef();else t.decRef()},t.captureScreen=function(t,e){var n=new cc.RenderTexture,o=t.targetTexture,r=cc.rect(0,0,cc.visibleRect.width,cc.visibleRect.height);e&&(r=e instanceof cc.Node?e.getBoundingBoxToWorld():e),n.initWithSize(cc.visibleRect.width,cc.visibleRect.height,cc.game._renderContext.STENCIL_INDEX8),t.targetTexture=n,t.render(),t.targetTexture=o;var i=new ArrayBuffer(r.width*r.height*4),a=new Uint8Array(i);return n.readPixels(a,r.x,r.y,r.width,r.height),a},t.loadProgress=new i,t.sleepSync=function(t){return new Promise(function(e){cc.Canvas.instance.scheduleOnce(function(){e(!0)},t)})},t._loadingMap={},t}();n.default=a,cc._RF.pop()},{}],Coffee:[function(t,e,n){"use strict";cc._RF.push(e,"071a9kn30BEsouzuJRkjaZl","Coffee");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Common/Utils/CommonUtils"),u=t("../Config/GlobalData"),l=t("../Config/MessageInfo"),p=t("../UIFrame/CocosHelper"),h=t("../UIScript/toast/UIToast1"),f=cc._decorator,d=f.ccclass,_=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tumbler_b=null,e.tumbler_f=null,e.coffee=null,e.coffeeMaterial=null,e.desk=null,e.topAnimaStep=.1,e.topAnimaSpeed=.1,e.initWaveHeight=.1,e.tempWaveHeight=.9,e}return r(e,t),e.prototype.start=function(){this.init()},e.prototype.initData=function(t){this.desk=t},e.prototype.init=function(){this.node.active=!1,this.node.position=cc.v3(0,61),this.node.angle=8,this.initWaveHeight=.1,this.tempWaveHeight=.9,this.coffee.setMaterial(0,this.coffeeMaterial),this.coffeeMaterial=this.coffee.getMaterial(0),this.coffeeMaterial.setProperty("isWave",.3),this.coffeeMaterial.setProperty("waveHeight",this.tempWaveHeight)},e.prototype.changeCoffer=function(t){t&&(c.CommonUtils.setItemSpriteFrame(this.coffee,""+u.GlobalData.coffeeTypePath+t.ID),c.CommonUtils.setItemSpriteFrame(this.tumbler_b,""+u.GlobalData.tumblerePath+t.tumbler_b),c.CommonUtils.setItemSpriteFrame(this.tumbler_f,""+u.GlobalData.tumblerePath+t.tumbler_f))},e.prototype.runTopUp=function(){this.coffeeMaterial.setProperty("isWave",.4),this.coffeeMaterial.setProperty("waveHeight",this.tempWaveHeight),this.desk.view.Scroll.node.pauseSystemEvents(!0),this.desk.view.Menu.pauseSystemEvents(!0),this.schedule(this.topUpAnima,this.topAnimaSpeed)},e.prototype.topUpAnima=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this.tempWaveHeight-=.01,this.tempWaveHeight>.3?(this.coffeeMaterial.setProperty("waveHeight",this.tempWaveHeight),[3,3]):[3,1];case 1:return this.coffeeMaterial.setProperty("isWave",.2),this.tempWaveHeight=this.initWaveHeight,this.unschedule(this.topUpAnima),this.desk.view.Scroll.node.resumeSystemEvents(!0),this.desk.view.Menu.resumeSystemEvents(!0),h.default.open({info:l.MessageInfo.makeSucc}),this.desk.view.Reform.active=!0,this.desk.view.Ok.active=!0,this.desk.view.Menu.active=!1,[4,p.default.runTweenSync(this.node,cc.tween().by(.5,{position:cc.v3(-this.node.parent.position.x,0)}))];case 2:t.sent(),t.label=3;case 3:return[2]}})})},i([_(cc.Sprite)],e.prototype,"tumbler_b",void 0),i([_(cc.Sprite)],e.prototype,"tumbler_f",void 0),i([_(cc.Sprite)],e.prototype,"coffee",void 0),i([_(cc.Material)],e.prototype,"coffeeMaterial",void 0),i([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../Common/Utils/CommonUtils":"CommonUtils","../Config/GlobalData":"GlobalData","../Config/MessageInfo":"MessageInfo","../UIFrame/CocosHelper":"CocosHelper","../UIScript/toast/UIToast1":"UIToast1"}],CoinFlyToWallet:[function(t,e,n){"use strict";cc._RF.push(e,"6dee99TpiFFUriHS1xOtoKO","CoinFlyToWallet");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.CoinFlyToWallet=void 0;var a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isRandomToggle=!0,e.minNumEditBox=10,e.maxNumEditBox=25,e.radiusNumEditBox=130,e.viewWinSize=new cc.Size(0,0),e.startNodeUIPos=new cc.Vec3,e.endNodeUIPos=new cc.Vec3,e.isCoinRandomGenerate=!0,e}return r(e,t),e.prototype.onLoad=function(){this.coinPool=new cc.NodePool,this.viewWinSize=cc.view.getVisibleSize(),this.initCoinPool(),this.isRandomToggle=this.isCoinRandomGenerate,this.startNode.on(cc.Node.EventType.TOUCH_MOVE,this.onNodeMoveEvent,this),this.endNode.on(cc.Node.EventType.TOUCH_MOVE,this.onNodeMoveEvent,this)},e.prototype.initCoinPool=function(t){void 0===t&&(t=20);for(var e=0;e<t;e++){var n=cc.instantiate(this.coinPrefab);this.coinPool.put(n)}},e.prototype.playAnim=function(){var t=this.minNumEditBox||10,e=(this.maxNumEditBox||25)-t,n=this.radiusNumEditBox||130,o=Math.random()*e+t,r=this.startNode.getPosition(),i=this.endNode.getPosition();this.playCoinFlyAnim(o,cc.v3(r),cc.v3(i),n)},e.prototype.playCoinFlyAnim=function(t,e,n,o){var r=this;void 0===o&&(o=130);var i=this.coinPool.size(),a=i>t?0:t-i;this.initCoinPool(a);var s=this.getCirclePoints(o,e,t).map(function(t){var o=r.coinPool.get();o.setPosition(e),cc.find("Canvas").addChild(o);var i=t.clone();return{node:o,stPos:e,mdPos:t,edPos:n,dis:i.subtract(n).len()}});(s=s.sort(function(t,e){return t.dis-e.dis>0?1:t.dis-e.dis<0?-1:0})).forEach(function(t,e){cc.tween(t.node).stop(),t.node.setPosition(t.stPos),cc.tween(t.node).to(.3,{position:t.mdPos}).delay(.01*e).to(.5,{position:t.edPos}).call(function(){r.coinPool.put(t.node)}).start()})},e.prototype.getCirclePoints=function(t,e,n,o){void 0===o&&(o=60);for(var r=[],i=Math.PI/180*Math.round(360/n),a=0;a<n;a++){var s=e.x+t*Math.sin(i*a),c=e.y+t*Math.cos(i*a);this.isCoinRandomGenerate?r.unshift(new cc.Vec3(s+Math.random()*o,c+Math.random()*o,0)):r.unshift(new cc.Vec3(s,c,0))}return r},e.prototype.onNodeMoveEvent=function(t){var e=t.getUILocation(),n=t.target,o=e.x-this.viewWinSize.width/2,r=e.y-this.viewWinSize.height/2;n.setPosition(o,r,0)},e.prototype.onToggleEvent=function(){this.isCoinRandomGenerate=this.isRandomToggle},i([c(cc.Node)],e.prototype,"startNode",void 0),i([c(cc.Node)],e.prototype,"endNode",void 0),i([c(cc.Prefab)],e.prototype,"coinPrefab",void 0),i([c(cc.Boolean)],e.prototype,"isRandomToggle",void 0),i([c(cc.Integer)],e.prototype,"minNumEditBox",void 0),i([c(cc.Integer)],e.prototype,"maxNumEditBox",void 0),i([c(cc.Integer)],e.prototype,"radiusNumEditBox",void 0),i([s("CoinFlyToWallet")],e)}(cc.Component);n.CoinFlyToWallet=u,cc._RF.pop()},{}],CommonUtils:[function(t,e,n){"use strict";cc._RF.push(e,"9814d/85SFDfo1f4MmYfH4s","CommonUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.CommonUtils=void 0;var o=t("../../UIFrame/CocosHelper"),r=t("./MatchUtils"),i={nextInt:function(t,e){return Math.floor(Math.random()*(e-t))+t},next01:function(){return Math.random()}},a=function(){function t(){}return t.isArray=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},t.foramtDate=function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),"S+":t.getMilliseconds()};for(var o in/(y+)/i.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,("00"+n[o]).substr((""+n[o]).length)));return e},t.getElemClamped=function(t,e){return t[Math.max(0,Math.min(t.length-1,e))]},t.randomIntClosedRange=function(t,e){return Math.floor(Math.random()*(e-t+.9999)+t)},t.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(e[n]==t)return n;return-1},t.indexOfArr=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var o=e.length,r=!1,i=0;i<=t.length-o;i+=o){r=!0;for(var a=0;a<o;a++)if(t[i+a]!==e[a]){r=!1;break}if(r)return i}return-1},t.floatEqual=function(t,e,n){return void 0===n&&(n=1e-6),Math.abs(t-e)<n},t.formatTimeInterval=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),e=n||e;var o="",r=Math.floor(t/3600);t%=3600;var i=Math.floor(t/60);return(n||r>0)&&(r<10&&(o+="0"),o+=r+":"),(e||i>0||r>0)&&(i<10&&(o+="0"),o+=i+":"),(t=Math.floor(t%60))<10&&(o+="0"),o+t},t.alignNumber=function(t,e){return t-Math.floor(t/e)*e},t.formatNumber=function(t){var e=""+Math.floor(t),n="",o=0;if(-1==e.indexOf(".")){for(var r=e.length-1;r>=0;r--)n=o%3==0&&0!=o?e.charAt(r)+","+n:e.charAt(r)+n,o++;return n}for(r=e.indexOf(".")-1;r>=0;r--)n=o%3==0&&0!=o?e.charAt(r)+","+n:e.charAt(r)+n,o++;return n+(e+"00").substr((e+"00").indexOf("."),3)},t.updateLabelSize=function(t){t._updateRenderData(!0)},t.lerp=function(t,e,n){return t+(e-t)*n},t.shuffle=function(t,e,n,o){void 0===e&&(e=i),void 0===n&&(n=0),void 0===o&&(o=-1),e=e||i,o<0&&(o=t.length-n);for(var r=0;r<o;r++){var a=e.nextInt(n,n+o-r),s=t[a];t[a]=t[o-r-1+n],t[o-r-1+n]=s}},t.setItemSpriteFrame=function(t,e,n){void 0===n&&(n=null),t.spriteFrameName=e,o.default.loadResSync(e,cc.SpriteFrame).then(function(o){t.isValid&&t.spriteFrameName==e&&(t.spriteFrame=o,n&&n(t))})},t.addSimpleClick=function(t,e){var n=t,o=null;n.on(cc.Node.EventType.TOUCH_START,function(t){o=t.getLocation()},this),n.on(cc.Node.EventType.TOUCH_END,function(t){o&&o.subSelf(t.getLocation()).mag()<3&&e()},this)},t.isGoodNumber=function(t){return"number"==typeof t&&!Number.isNaN(t)},t.getVisibleRect=function(){var t=cc.view.getViewportRect();return cc.rect(t.origin.x/-cc.view.getScaleX(),t.origin.y/-cc.view.getScaleY(),(t.size.width+2*t.origin.x)/cc.view.getScaleX(),(t.size.height+2*t.origin.y)/cc.view.getScaleY())},t.httpGet=function(t,e){var n=cc.loader.getXMLHttpRequest();n.onreadystatechange=function(){if(4===n.readyState&&200==n.status){var t=n.responseText,o=JSON.parse(t);e(o)}else 4===n.readyState&&401==n.status&&e({ret:1})},n.withCredentials=!0,n.open("GET",t,!0),n.withCredentials=!1,n.setRequestHeader("Access-Control-Allow-Origin","*"),n.setRequestHeader("Access-Control-Allow-Methods","GET, POST"),n.setRequestHeader("Access-Control-Allow-Headers","x-requested-with,content-type,authorization"),n.setRequestHeader("Content-Type","application/json"),n.timeout=8e3,n.send()},t.randomGaussian=function(t,e,n){void 0===n&&(n=i);var o=(n=n||i).next01(),r=n.next01();return Math.sqrt(-2*Math.log(o))*Math.cos(2*Math.PI*r)*e+t},t.deepCopy=function(t,e){for(var n in e)this._deepCopyFields(t,e,n)},t.constructObjectMap=function(t){var e=new Map;for(var n in t){var o=t[n];"object"==typeof o?e.set(n,this.constructObjectMap(o)):e.set(n,o)}return e},t._deepCopyFields=function(t,e,n){var o=e[n];if("number"==typeof o||"string"==typeof o)t[n]=o;else if(this.isArray[o])for(var r=t[n]=[],i=0;i<o.length;i++)this._deepCopyFields(r,o,i);else if(null==o)t[n]=null;else if("object"==typeof o){var a=new o.constructor;for(var s in e)this._deepCopyFields(a,o,s)}},t.formatNumberToEng=function(e){if(e<1&&e>0)return"1";e=Math.floor(e);var n=Math.floor(t.getExponent(e));if(n<13){if(n<4)return e+"";var o=Math.floor(n/t.constNum),r=n%t.constNum;return String(e/Math.pow(10,o*t.constNum)).substr(0,t.constNum+r)+t.getUnit(n)}return(e/Math.pow(10,n)).toFixed(3)+"e"+n},t.getExponent=function(t){for(var e=0;t>=10;)e++,t/=10;return e},t.getUnit=function(e){var n=Math.floor(e/t.constNum);return e<13?t.unitArr[n]:"e"+(n=Math.floor(e/t.constNum))*t.constNum},t.formatEngNumber=function(t,e){var n,o;return void 0===e&&(e=2),(t=t)>=1e6?(o=t/1e6,n=(.001*Math.floor(o/.001)).toFixed(e),this.formatEndingZero(n)+"M"):t>=1e3?(o=t/1e3,n=(.001*Math.floor(o/.001)).toFixed(e),this.formatEndingZero(n)+"K"):t+""},t.formatEndingZero=function(t){if(-1!=t.indexOf(".")){if(this.endWith(t,"00"))return t.substring(0,t.length-3);if(this.endWith(t,"0"))return t.substring(0,t.length-1)}return t},t.endWith=function(t,e){return e==t.substring(t.length-e.length)},t.makeMaxWidthLabel=function(t,e){var n={};return n.__proto__=t,Object.defineProperty(n,"string",{configurable:!0,enumerable:!0,get:function(){return t.string},set:function(n){t.overflow=cc.Label.Overflow.NONE,t.string=n,t._updateRenderData(!0),t.node.width>e&&(t.overflow=cc.Label.Overflow.RESIZE_HEIGHT,t.node.setContentSize(e,1),t.string=n)}}),n},t.climeUserName=function(t,e){void 0===e&&(e=14);for(var n=t.length;this.strlen(t)>e;)t=t.substring(0,t.length-1);return t.length!=n&&(t+="..."),t},t.strlen=function(t){for(var e=0,n=0;n<t.length;n++){var o=t.charCodeAt(n);o>=1&&o<=126||65376<=o&&o<=65439?e++:e+=2}return e},t.shuffleArr=function(t){for(var e,n,o,r=t.length,i=0;i<r;i++){n=r-i-1,void 0,o=t[e=Math.floor(Math.random()*(r-i))],t[e]=t[n],t[n]=o}return t},t.binarySearch=function(t,e,n){void 0===n&&(n=!1);for(var o=0,r=t.length-1;r-o>1;){var i=Math.floor((o+r)/2);if(e<t[i])r=i;else{if(!(e>t[i]))return i;o=i}}return n?o==t.length-1?t.length:r:0==r?-1:o},t.isInTriangle=function(t,e,n,o){var r=n.sub(e),i=o.sub(e),a=o.sub(n),s=t.sub(e),c=t.sub(n);return r.cross(i)>=0^r.cross(s)<0&&r.cross(i)>=0^i.cross(s)>=0&&a.cross(r)>0^a.cross(c)>=0},t.isInPolygon=function(t,e){var n,o,r,i,a=0,s=e.length;for(r=e[0],n=1;n<=s;n++)i=e[n%s],t.x>Math.min(r.x,i.x)&&t.x<=Math.max(r.x,i.x)&&t.y<=Math.max(r.y,i.y)&&r.x!=i.x&&(o=(t.x-r.x)*(i.y-r.y)/(i.x-r.x)+r.y,(r.y==i.y||t.y<=o)&&a++),r=i;return 0!=(1&a)},t.splitePolygon=function(t){if(t.length<=3)return[0,1,2];for(var e={},n=0;n<t.length;n++){var o=t[n];e[o.x+"-"+o.y]=n}var r=function(t){return e[t.x+"-"+t.y]};t=t.concat([]);for(var i=[],a=0;t.length>3;){var s=t[a%t.length],c=t[(a+1)%t.length],u=t[(a+2)%t.length],l=(a+1)%t.length,p=c.sub(s),h=u.sub(c);if(p.cross(h)<0)a=(a+1)%t.length;else{for(var f=!1,d=0,_=t;d<_.length;d++)if((o=_[d])!=s&&o!=c&&o!=u&&this.isInTriangle(o,s,c,u)){f=!0;break}f?a=(a+1)%t.length:(i.push(r(s),r(c),r(u)),t.splice(l,1))}}for(var y=0,v=t;y<v.length;y++)o=v[y],i.push(r(o));return i},t.computeUv=function(t,e,n){for(var o=[],i=0,a=t;i<a.length;i++){var s=a[i],c=r.MathUtils.clamp(0,1,(s.x+e/2)/e),u=r.MathUtils.clamp(0,1,1-(s.y+n/2)/n);o.push(cc.v2(c,u))}return o},t.tweenFloat=function(t,e,n,o,r,i){void 0===i&&(i=!0);var a={_value:t};Object.defineProperty(a,"value",{get:function(){return a._value},set:function(t){a._value=t,o&&o(a._value)}});var s=cc.tween(a).to(n,{value:e}).call(r);return i&&s.start(),s},t.tweenVec2=function(t,e,n,o,r,i){void 0===i&&(i=!0);var a={_value:t};Object.defineProperty(a,"value",{get:function(){return a._value},set:function(t){a._value=t,o&&o(a._value)}});var s=cc.tween(a).to(n,{value:e}).call(r);return i&&s.start(),s},t.unitArr=["","K","M","B"],t.constNum=3,t}();n.CommonUtils=a,cc._RF.pop()},{"../../UIFrame/CocosHelper":"CocosHelper","./MatchUtils":"MatchUtils"}],ConfigMgr:[function(t,e,n){"use strict";cc._RF.push(e,"99faeZt2e5AobpvQuyUBgaI","ConfigMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.loadConfigs=function(){return i(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.onConfigChange=function(){this.game.playerMgr.onConfigChange()},e}(t("./BaseMgr").BaseMgr);n.default=s,cc._RF.pop()},{"./BaseMgr":"BaseMgr"}],DebugWindowUtils:[function(t,e,n){"use strict";cc._RF.push(e,"84e75b8tBhNjY7KyBAgOsH/","DebugWindowUtils"),this&&this.__spreadArrays,Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.getModuleName=function(t){return"string"!=typeof t?t:t.split("/").pop().split(".")[0]},t.init=function(){var t="undefined"!=typeof __modular?__modular:{};if(t&&t.modules){var e=t.modules,n={};for(var o in e){var r=e[o],i=r.file,a=r.module?r.module.exports:{},s=this.getModuleName(i);for(var c in a)"__esModule"!==c&&("default"===c?(a[c]=u(s,a[c],s),a[s]||(a[s]=a[c])):a[c]=u(c,a[c],s));window[s+"_mod"]=a}for(var o in n)window[o]||(window[o]=n[o])}function u(t,e,o){var r=t;if(e&&e.name&&(r=e.name),n[t])return u(t+o,e,o);var i=e;return n[r]=i,i}},t}();n.default=o,cc._RF.pop()},{}],DrawBorad:[function(t,e,n){"use strict";cc._RF.push(e,"5d19bkVv4BM774fPMww+bzv","DrawBorad");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Utils/DrawingBoard"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndBroad=null,e._drawingBroad=null,e._texture=new cc.Texture2D,e._sprite=null,e.broadYMax=-1,e.broadXMin=-1,e._touching=!1,e}return r(e,t),e.prototype.onLoad=function(){this.ndBroad||(this.ndBroad=this.node),this._sprite=this.ndBroad.getComponent(cc.Sprite),this._sprite||this.ndBroad.addComponent(cc.Sprite),this._drawingBroad=new a.default(this.ndBroad.width,this.ndBroad.height),this._drawingBroad.setColor(0,0,0,255),this._drawingBroad.setLineWidth(5),this._touching=!1;var t=this.ndBroad.convertToWorldSpaceAR(cc.v2(0,0));this.broadYMax=t.y+this.ndBroad.height/2,this.broadXMin=t.x-this.ndBroad.width/2,this.ndBroad.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.ndBroad.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.ndBroad.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this),this.ndBroad.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.start=function(){},e.prototype.setData=function(t){this._drawingBroad.setData(t),this.updateTexture(this._drawingBroad.getData(),this.ndBroad.width,this.ndBroad.height)},e.prototype.touchStart=function(t){if(!this._touching){this._touching=!0;var e=t.getLocation();this._drawingBroad.moveTo(e.x-this.broadXMin,this.getRealY(e.y))}},e.prototype.touchMove=function(t){if(this._touching){var e=t.getLocation();this._drawingBroad.lineTo(e.x-this.broadXMin,this.getRealY(e.y)),this.updateTexture(this._drawingBroad.getData(),this.ndBroad.width,this.ndBroad.height)}},e.prototype.touchCancel=function(){this._touching=!1},e.prototype.touchEnd=function(){this._touching=!1},e.prototype.onDestroy=function(){this.ndBroad.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.ndBroad.off(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.ndBroad.off(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this),this.ndBroad.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.setColor=function(t,e,n,o){this._drawingBroad.setColor(t,e,n,o)},e.prototype.setLineWidth=function(t){this._drawingBroad.setLineWidth(t)},e.prototype.setPen=function(){this.setColor(0,0,0,255),this.setLineWidth(5)},e.prototype.setReaser=function(){this.setColor(0,0,0,0),this.setLineWidth(20)},e.prototype.getTexture=function(){return this._texture},e.prototype.updateTexture=function(t,e,n){this._texture.initWithData(t,cc.Texture2D.PixelFormat.RGBA8888,e,n),this._sprite.spriteFrame.setTexture(this._texture),this._sprite.markForRender(!0)},e.prototype.getRealY=function(t){return this._sprite.spriteFrame._flipY?this.broadYMax-(cc.visibleRect.height-t):this.broadYMax-t},i([u(cc.Node)],e.prototype,"ndBroad",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../Utils/DrawingBoard":"DrawingBoard"}],DrawerMgr:[function(t,e,n){"use strict";cc._RF.push(e,"02d628dfS1JVIWSTnS72y1D","DrawerMgr");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./config/SysDefine"),a=t("./Struct"),s=t("./UIManager"),c=function(){function t(){}return t.prototype.open=function(t,e,n){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return t=a.GetForm(t,i.FormType.Fixed),[4,s.default.getInstance().openForm(t,e,n)];case 1:return[2,o.sent()]}})})},t.prototype.close=function(t,e,n){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return t=a.GetForm(t,i.FormType.Fixed),[4,s.default.getInstance().closeForm(t,e,n)];case 1:return[2,o.sent()]}})})},t}();n.default=new c,cc._RF.pop()},{"./Struct":"Struct","./UIManager":"UIManager","./config/SysDefine":"SysDefine"}],DrawingBoard:[function(t,e,n){"use strict";cc._RF.push(e,"54b2dNYr/FCsJ51TWLTWJoT","DrawingBoard"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e,n){this.init(t,e,n)}return Object.defineProperty(t.prototype,"width",{get:function(){return this._witdh},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.init=function(t,e,n){this.tempColor=this.tempR=this.tempG=this.tempB=this.tempA=0,this.curColor=0,this._witdh=Math.round(t),this._height=Math.round(e),this.initPointColor(),this.initPixelColor(),this.initLineData(),n&&this.setData(n)},t.prototype.initPointColor=function(){this.pointColor||(this.pointColor=[]);for(var t=0;t<this.width;++t){this.pointColor[t]||(this.pointColor[t]=[]);for(var e=0;e<this.height;++e)this.pointColor[t][e]=0}this.colorCount={},this.colorCount[0]=this.width*this.height},t.prototype.initPixelColor=function(){this.buffer=new ArrayBuffer(this.width*this.height*4),this.pixelColor=new Uint8Array(this.buffer),this.pixelColor.fill(0)},t.prototype.reset=function(){this.resetPointColor(),this.resetPixelColor()},t.prototype.resetPointColor=function(){for(var t=this.width-1;t>=0;--t)for(var e=this.height-1;e>=0;--e)this.pointColor[t][e]=0;for(var n in this.colorCount)this.colorCount[n]=0},t.prototype.resetPixelColor=function(){this.pixelColor.fill(0)},t.prototype.setData=function(t){var e=new Uint8Array(t);e.length!=this.width*this.height*4&&(console.warn("\u753b\u677f\u8bbe\u7f6e\u6570\u636e\u5931\u8d25\uff0c\u6570\u636e\u957f\u5ea6\u4e0e\u753b\u677f\u5927\u5c0f\u4e0d\u4e00\u81f4\u3002"),e=e.subarray(0,this.width*this.height*4)),this.setPixelColorByRGBA(e),this.setPointColorByRGBA(e)},t.prototype.setPixelColorByRGBA=function(t){this.pixelColor.set(t)},t.prototype.setPointColorByRGBA=function(t){this.colorCount={};for(var e=0;e<this.height;++e)for(var n=e*this.width*4,o=0;o<this.width;++o){var r=this.convertToNumber(t[n++],t[n++],t[n++],t[n++]);this.pointColor[o][e]=r,this.colorCount[r]?this.colorCount[r]+=1:this.colorCount[r]=1}},t.prototype.copyData=function(t){void 0===t&&(t=[]);for(var e=0,n=this.pixelColor.length;e<n;++e)t[e]=this.pixelColor[e];return t},t.prototype.getData=function(){return this.pixelColor},t.prototype.getBuffer=function(){return this.buffer},t.prototype.getColorCount=function(t,e,n,o){void 0===o&&(o=255);var r=this.convertToNumber(t,e,n,o);return this.colorCount[r]},t.prototype.setColor=function(t,e,n,o){void 0===o&&(o=255),this.curColor=this.convertToNumber(t,e,n,o),this.colorCount[this.curColor]||(this.colorCount[this.curColor]=0),this.tempColor=this.curColor,this.tempR=t,this.tempG=e,this.tempB=n,this.tempA=o},t.prototype.clear=function(){this.reset()},t.prototype.initLineData=function(){this.previousLineEndPos=new r,this.previousLineEndPosT=new r,this.previousLineEndPosB=new r,this.previousLineCircleEnd=!0,this.previousLineWidth=1},t.prototype.moveTo=function(t,e){t=Math.round(t),e=Math.round(e),this.previousLineEndPos.set(t,e),this.previousLineEndPosT.set(t,e),this.previousLineEndPosB.set(t,e)},t.prototype.setLineWidth=function(t){this.previousLineWidth=t},t.prototype.setLineCircleEnd=function(t){this.previousLineCircleEnd=t},t.prototype.line=function(t,e,n,o){if(t=Math.round(t),n=Math.round(n),e=Math.round(e),o=Math.round(o),t!=n||e!=o){var i=this.previousLineWidth,a=this.previousLineCircleEnd;this.previousLineEndPos.set(n,o);var s=0,c=0,u=1;if(t==n)s=Math.round(.5*i);else if(e==o)c=Math.round(.5*i);else{var l=(o-e)/(n-t);c=.5*i/(u=Math.sqrt(l*l+1)),s=Math.round(c*l),c=Math.round(c)}this.previousLineEndPosT.set(n-s,o+c),this.previousLineEndPosB.set(n+s,o-c);var p=new r(t,e),h=new r(n,o);t>n&&(p.x=n,p.y=o,h.x=t,h.y=e),this._drawLine(p,h,i,s,c,u),a&&(this._drawCircle(t,e,.5*i),this._drawCircle(n,o,.5*i))}},t.prototype.lineTo=function(t,e){if(t=Math.round(t),e=Math.round(e),this.previousLineEndPos.x!=t||this.previousLineEndPos.y!=e){var n=this.previousLineWidth,o=this.previousLineCircleEnd,i=this.previousLineEndPos.x,a=this.previousLineEndPos.y,s=t,c=e;i>s&&(i=s,a=c,s=this.previousLineEndPos.x,c=this.previousLineEndPos.y);var u=0,l=0,p=1;if(i==s)u=Math.round(.5*n);else if(a==c)l=Math.round(.5*n);else{var h=(c-a)/(s-i);l=.5*n/(p=Math.sqrt(h*h+1)),u=Math.round(l*h),l=Math.round(l)}if(o)this._drawCircle(i,a,.5*n),this._drawCircle(s,c,.5*n);else if(this.previousLineEndPos.x!=this.previousLineEndPosT.x||this.previousLineEndPos.y!=this.previousLineEndPosT.y){var f=new r(this.previousLineEndPos.x-u,this.previousLineEndPos.y+l),d=new r(this.previousLineEndPos.x+u,this.previousLineEndPos.y-l);this._drawTriangle([f,d,this.previousLineEndPosT]),this._drawTriangle([f,d,this.previousLineEndPosB])}this._drawLine(new r(i,a),new r(s,c),n,u,l,p),this.previousLineEndPos.set(t,e),this.previousLineEndPosT.set(t-u,e+l),this.previousLineEndPosB.set(t+u,e-l)}},t.prototype._drawLine=function(t,e,n,o,i,a){if(t.y==e.y){var s=t.x<e.x?t.x:e.x;this._drawRect(new r(s,Math.round(t.y-.5*n)),Math.abs(t.x-e.x),n)}else if(t.x==e.x){var c=t.y<e.y?t.y:e.y;this._drawRect(new r(Math.round(t.x-.5*n),c),n,Math.abs(t.y-e.y))}else{var u=(t.x-e.x)/(t.y-e.y),l=new r(t.x-o,t.y+i),p=new r(t.x+o,t.y-i),h=new r(e.x-o,e.y+i),f=new r(e.x+o,e.y-i),d=new r,_=new r,y=Math.round(n*a);e.y>t.y?p.x<h.x?(d.x=p.x,d.y=p.y+y,_.x=h.x,_.y=h.y-y,this._drawVerticalTriangle(d,p,l),this._drawParallelogram(p,_,y),this._drawVerticalTriangle(h,_,f)):(d.x=p.x,d.y=Math.round(h.y-(d.x-h.x)*u),_.x=h.x,_.y=Math.round(p.y+(p.x-_.x)*u),this._drawVerticalTriangle(h,_,l),this._drawParallelogram(_,p,h.y-_.y),this._drawVerticalTriangle(d,p,f)):l.x<f.x?(d.x=l.x,d.y=l.y-y,_.x=f.x,_.y=f.y+y,this._drawVerticalTriangle(l,d,p),this._drawParallelogram(d,f,y),this._drawVerticalTriangle(_,f,h)):(d.x=l.x,d.y=Math.round(f.y-(d.x-f.x)*u),_.x=f.x,_.y=Math.round(l.y+(l.x-_.x)*u),this._drawVerticalTriangle(_,f,p),this._drawParallelogram(f,d,l.y-d.y),this._drawVerticalTriangle(l,d,h))}},t.prototype.rect=function(t,e,n,o){this._drawRect(new r(t,e),n,o)},t.prototype._drawRect=function(t,e,n){for(var o=this.clampX(t.x),r=this.clampX(t.x+e),i=this.clampY(t.y),a=this.clampY(t.y+n),s=i;s<=a;++s)this._drawRowPixel(o,r,s)},t.prototype._drawParallelogram=function(t,e,n){if(t.x!=e.x)for(var o=(e.y-t.y)/(e.x-t.x),r=this._minX(t.x),i=this._maxX(e.x),a=r;a<=i;++a){var s=t.y+Math.round((a-t.x)*o),c=s+n;s=this._minY(s),c=this._maxY(c),this._drawColPixel(s,c,a)}},t.prototype.triangle=function(t,e,n,o,i,a){var s=[];s.push(new r(t,e)),s.push(new r(n,o)),s.push(new r(i,a)),this._drawTriangle(s)},t.prototype._drawTriangle=function(t){t.sort(function(t,e){return t.x-e.x});var e=t[0],n=t[1],o=t[2];if(e.x==n.x){if(e.x==o.x)return;return e.y<n.y&&(e=t[1],n=t[0]),void this._drawVerticalTriangle(e,n,o)}var i=(o.y-e.y)/(o.x-e.x),a=new r(n.x,Math.round(e.y+(n.x-e.x)*i));a.y!=n.y&&(a.y<n.y?(this._drawVerticalTriangle(n,a,e),this._drawVerticalTriangle(n,a,o)):(this._drawVerticalTriangle(a,n,e),this._drawVerticalTriangle(a,n,o)))},t.prototype._drawVerticalTriangle=function(t,e,n){if(n.x!=t.x){var o=(n.y-t.y)/(n.x-t.x),r=(n.y-e.y)/(n.x-e.x),i=n.x,a=t.x;i<a&&(i=t.x,a=n.x),a=this._minX(a),i=this._maxX(i);for(var s=a;s<=i;++s){var c=this.clampY(Math.round(t.y+(s-t.x)*o)),u=this.clampY(Math.round(e.y+(s-e.x)*r));this._drawColPixel(u,c,s)}}},t.prototype.circle=function(t,e,n){t=Math.round(t),e=Math.round(e),this._drawCircle(t,e,n)},t.prototype._drawCircle=function(t,e,n){if(0!=(n=Math.round(n)))for(var o=n*n,r=this.clampY(e-n),i=this.clampY(e+n),a=r;a<=i;++a){var s=a-e;s=Math.round(Math.sqrt(o-s*s));var c=this.clampX(t-s),u=this.clampX(t+s);this._drawRowPixel(c,u,a)}},t.prototype._minX=function(t){return t>=0?t:0},t.prototype._maxX=function(t){return t<this.width?t:this.width-1},t.prototype._minY=function(t){return t>=0?t:0},t.prototype._maxY=function(t){return t<this.height?t:this.height-1},t.prototype.clampX=function(t){return t<0?0:t>=this.width?this.width-1:t},t.prototype.clampY=function(t){return t<0?0:t>=this.height?this.height-1:t},t.prototype._drawPixel=function(t,e){if(this.pointColor[t][e]!=this.tempColor){var n=4*(e*this.width+t);this.pixelColor[n]=this.tempR,this.pixelColor[n+1]=this.tempG,this.pixelColor[n+2]=this.tempB,this.pixelColor[n+3]=this.tempA;var o=this.pointColor[t][e];this.colorCount[o]--,this.colorCount[this.tempColor]++,this.pointColor[t][e]=this.tempColor}},t.prototype._drawRowPixel=function(t,e,n){for(var o=4*(n*this.width+t),r=t;r<=e;++r){if(this.pointColor[r][n]!=this.tempColor){this.pixelColor[o]=this.tempR,this.pixelColor[o+1]=this.tempG,this.pixelColor[o+2]=this.tempB,this.pixelColor[o+3]=this.tempA;var i=this.pointColor[r][n];this.colorCount[i]--,this.colorCount[this.tempColor]++,this.pointColor[r][n]=this.tempColor}o+=4}},t.prototype._drawColPixel=function(t,e,n){for(var o=4*(t*this.width+n),r=t;r<=e;++r){if(this.pointColor[n][r]!=this.tempColor){this.pixelColor[o]=this.tempR,this.pixelColor[o+1]=this.tempG,this.pixelColor[o+2]=this.tempB,this.pixelColor[o+3]=this.tempA;var i=this.pointColor[n][r];this.colorCount[i]--,this.colorCount[this.tempColor]++,this.pointColor[n][r]=this.tempColor}o+=4*this.width}},t.prototype.convertToNumber=function(t,e,n,o){return void 0===o&&(o=255),(254&t)<<23|e<<16|n<<8|o},t.prototype.convertToRGBA=function(t){return{r:(4009754624&t)>>23,g:(16711680&t)>>16,b:(65280&t)>>8,a:255&t}},t}();n.default=o;var r=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){"number"==typeof t?(this.x=t,this.y=e):(this.x=t.x,this.y=t.y)},t}();cc._RF.pop()},{}],Dungeon:[function(t,e,n){"use strict";cc._RF.push(e,"363928pIAdEs76ndgV1E6km","Dungeon"),Object.defineProperty(n,"__esModule",{value:!0}),n.Dungeon=n.GridType=void 0;var o,r,i=t("./MatchUtils");(function(t){t[t.None=0]="None",t[t.Floor=1]="Floor",t[t.Wall=2]="Wall",t[t.OpenDoor=3]="OpenDoor",t[t.CloseDoor=4]="CloseDoor"})(o=n.GridType||(n.GridType={})),function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Up=3]="Up",t[t.Down=4]="Down",t[t.All=5]="All"}(r||(r={}));var a=[r.Left,r.Right,r.Up,r.Down],s=function(){function t(t,e){this.numRoomTries=50,this.extraConnectorChance=20,this.roomExtraSize=0,this.windingPercent=50,this.width=51,this.height=51,this.rooms=[],this.map=[],this.regions=[],this.currentRegion=0,this.width=t,this.height=e;for(var n=0;n<t*e;n++)this.map[n]=o.None,this.regions[n]=0}return t.prototype.generate=function(){return this.initMap(),this.addRooms(),this.fillMaze(),this.connectRegions(),this.removeDeadEnds(),this.map},t.prototype.initMap=function(){for(var t=0;t<this.width*this.height;t++)this.map[t]=o.Wall,this.regions[t]=0},t.prototype.addRooms=function(){for(var t=0;t<this.numRoomTries;t++){var e=2*i.MathUtils.limitInteger(1,3+this.roomExtraSize)+1,n=2*i.MathUtils.limitInteger(0,1+Math.floor(e/2)),o=e,r=e;0===i.MathUtils.limitInteger(0,1)?o+=n:r+=n;for(var a=2*i.MathUtils.limitInteger(0,Math.floor((this.width-o)/2))+1,s=2*i.MathUtils.limitInteger(0,Math.floor((this.height-r)/2))+1,c=new cc.Rect(a,s,o,r),u=!1,l=0,p=this.rooms;l<p.length;l++){var h=p[l];if(c.intersects(h)){u=!0;break}}u||(this.currentRegion++,this._initRoomGrid(c),this.rooms.push(c))}},t.prototype._initRoomGrid=function(t){for(var e=cc.v2(0,0),n=t.x;n<t.width+t.x;n++)for(var r=t.y;r<t.height+t.y;r++)e.x=n,e.y=r,this.carveGrid(e,o.Floor)},t.prototype.fillMaze=function(){for(var t=1;t<this.height;t+=2)for(var e=1;e<this.width;e+=2){var n=cc.v2(e,t);this.getGridType(n)===o.Wall&&this._growMaze(n)}},t.prototype._growMaze=function(t){var e=[],n=r.None;for(this.currentRegion++,this.carveGrid(t,o.Floor),e.push(t);null!==e&&0!==e.length;){for(var s=e[e.length-1],c=[],u=0,l=a;u<l.length;u++){var p=l[u];this.canCarve(s,p)&&c.push(p)}if(c.length<=0)e.pop(),n=r.None;else{var h=r.None;h=-1!==c.indexOf(n)&&i.MathUtils.limitInteger(0,100)>this.windingPercent?n:i.MathUtils.randomArray(c),this.carveGrid(s.add(this.getDirGridOffset(h)),o.Floor),this.carveGrid(s.add(this.getDirGridOffset(h).mul(2)),o.Floor),e.push(s.add(this.getDirGridOffset(h).mul(2))),n=h}}},t.prototype.connectRegions=function(){for(var t=this,e={},n=cc.v2(0,0),r=1;r<this.width-1;r++)for(var s=1;s<this.height-1;s++)if(n.x=r,n.y=s,this.getGridType(n)===o.Wall){for(var c=[],u=0,l=a;u<l.length;u++){var p=l[u],h=n.add(this.getDirGridOffset(p)),f=this.regions[h.y*this.width+h.x];0!==f&&-1==c.indexOf(f)&&c.push(f)}c.length<2||(e[s*this.width+r]=c)}for(var d=[],_=0,y=Object.keys(e);_<y.length;_++){var v=y[_];d.push(this.getGridByIdx(parseInt(v)))}var g={},m=new Set;for(r=0;r<=this.currentRegion;r++)g[r]=r,m.add(r);for(var b=0,w=function(){b++;var n=i.MathUtils.randomArray(d);T.addJunction(n);var o=e[n.y*T.width+n.x].map(function(t){return g[t]}),r=o[0];o.shift();for(var a=o,s=0;s<=T.currentRegion;s++)-1!==a.indexOf(g[s])&&(g[s]=r);for(var c=0,u=a;c<u.length;c++){var l=u[c];m.has(l)&&m.delete(l)}d.filter(function(o){return!t.isRemove(g,e,n,o)})},T=this;m.size>1&&b<50;)w()},t.prototype.addJunction=function(t){i.MathUtils.limitInteger(0,4)?this.setGridType(t,i.MathUtils.limitInteger(0,3)?o.OpenDoor:o.Floor):this.setGridType(t,o.CloseDoor)},t.prototype.isRemove=function(t,e,n,o){if(n.sub(o).len()<2)return!0;var r=e[o.y*this.width+o.x].map(function(e){return t[e]});return!(new Set(r).size>1)},t.prototype.removeDeadEnds=function(){for(var t=!1,e=cc.v2(0,0),n=0;!t&&n<500;){n++,t=!0;for(var r=1;r<this.width-1;r++)for(var i=1;i<this.height-1;i++)if(e.x=r,e.y=i,this.getGridType(e)!==o.Wall){for(var s=0,c=0,u=a;c<u.length;c++){var l=u[c],p=e.add(this.getDirGridOffset(l));this.map[p.y*this.width+p.x]!==o.Wall&&s++}1===s&&(t=!1,this.regions[i*this.height+r]=0,this.map[i*this.height+r]=o.Wall)}}},t.prototype.instanceMap=function(){},t.prototype.getGridByIdx=function(t){var e=Math.floor(t/this.width),n=t-e*this.width;return cc.v2(n,e)},t.prototype.carveGrid=function(t,e){this.checkGrid(t)&&(this.setGridType(t,e),this.regions[t.y*this.width+t.x]=this.currentRegion)},t.prototype.setGridType=function(t,e){this.map[t.y*this.width+t.x]=e},t.prototype.checkGrid=function(t){return!(t.x<=0||t.x>=this.width-1||t.y<=0||t.y>=this.height-1)||(console.log(" set grid type error: ",t),!1)},t.prototype.getGridType=function(t){return this.map[t.y*this.width+t.x]},t.prototype.canCarve=function(t,e){var n=this.getDirGridOffset(e),r=t.add(n.mul(3));return!(r.x<0||r.x>=this.width||r.y<0||r.y>=this.height)&&(r=t.add(n.mul(2)),this.getGridType(r)===o.Wall)},t.prototype.getDirGridOffset=function(t){var e=cc.v2(0,0);switch(t){case r.Left:e.x=-1;break;case r.Right:e.x=1;break;case r.Up:e.y=1;break;case r.Down:e.y=-1}return e},t}();n.Dungeon=s,cc._RF.pop()},{"./MatchUtils":"MatchUtils"}],EnumUtils:[function(t,e,n){"use strict";cc._RF.push(e,"c0967gbR3dMcbkSIeGpt59T","EnumUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.EnumUtils=void 0;var o=function(){function t(){}return t.getNamesAndValues=function(t){return this.getNames(t).map(function(e){return{name:e,value:t[e]}})},t.getNames=function(t){return this.getObjectValues(t).filter(function(t){return"string"==typeof t})},t.getValues=function(t){return this.getObjectValues(t).filter(function(t){return"number"==typeof t})},t.getObjectValues=function(t){return Object.keys(t).map(function(e){return t[e]})},t}();n.EnumUtils=o,cc._RF.pop()},{}],EventBox:[function(t,e,n){"use strict";cc._RF.push(e,"5df38Ja1shKOa98TL3GuQ66","EventBox"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.eventMap=new Map,this.eventTargetsLock=null,this.removeCountOnLock=0}return t.prototype.on=function(t,e,n,o){void 0===o&&(o=!1);var r=this.eventMap.get(t);if(r){var i={context:e,method:n,isValid:!0,once:o};r.push(i)}else i={context:e,method:n,isValid:!0,once:o},this.eventMap.set(t,[i])},t.prototype.once=function(t,e,n){this.on(t,e,n,!0)},t.prototype.off=function(t,e,n){var o=this.eventMap.get(t);if(o){if(t&&!e&&!n&&o.length>0)if(o==this.eventTargetsLock)for(var r=0,i=o;r<i.length;r++)(s=i[r]).isValid=!1,this.removeCountOnLock++;else o.splice(0,o.length);if(t&&e&&!n)for(var a=o.length-1;a>=0;a--)(s=o[a]).context==e&&(o==this.eventTargetsLock?(s.isValid=!1,this.removeCountOnLock++):o.splice(a,1));if(t&&e&&n)for(a=o.length-1;a>=0;a--){var s;(s=o[a]).context==e&&s.method==n&&(o==this.eventTargetsLock?(s.isValid=!1,this.removeCountOnLock++):o.splice(a,1))}}},t.prototype.emit=function(t,e){var n=this.eventMap.get(t);if(n){this.eventTargetsLock=n;for(var o=0,r=n;o<r.length;o++){var i=r[o];try{i.method.apply(i.context,e)}catch(s){}i.once&&(i.isValid=!1,this.removeCountOnLock++)}if(this.eventTargetsLock=null,this.removeCountOnLock>0){for(var a=n.length-1;a>=0;a--)n[a].isValid||n.splice(a,1);this.removeCountOnLock=0}}},t}();n.default=o,cc._RF.pop()},{}],EventCenter:[function(t,e,n){"use strict";cc._RF.push(e,"5457exhkz1HWKJ6Z7OS0E1z","EventCenter");var o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.EventCenter=n.EventInfo=void 0;var r=t("../Common/Utils/Pool"),i=function(){function t(){}return t.prototype.free=function(){this.callback=null,this.target=null,this.once=!1},t.prototype.init=function(t,e,n){this.callback=t,this.target=e,this.once=n},t}();n.EventInfo=i;var a=function(t,e,n){this.eventName=t,this.callback=e,this.targetId=n},s=1,c=function(){function t(){}return t.on=function(t,e,n,o){void 0===n&&(n=void 0),void 0===o&&(o=!1);var r=(n=n||this).uuid||n.id;void 0===r&&(n.uuid=r=""+s++),this.onById(t,r,n,e,o)},t.once=function(t,e,n){void 0===n&&(n=void 0),this.on(t,e,n,!0)},t.onById=function(t,e,n,o,r){var i=this._listeners[t];i||(i=this._listeners[t]={});var a=i[e];a||(a=i[e]=[]);var s=this._eventPool.alloc();s.init(o,n,r),a.push(s)},t.off=function(t,e,n){void 0===n&&(n=void 0);var o=(n=n||this).uuid||n.id;if(!o)return!1;this.offById(t,e,o)},t.targetOff=function(t){var e=(t=t||this).uuid||t.id;if(e)for(var n in this._listeners){var o=this._listeners[n];void 0!==o[e]&&delete o[e]}},t.offById=function(t,e,n){if(this._dispatching>0){var o=new a(t,e,n);this._removeCommands.push(o)}else this.doOff(t,e,n)},t.doOff=function(t,e,n){var o=this._listeners[t];if(o){var r=o[n];if(r){for(var i=r.length-1;i>=0;i--)r[i].callback===e&&r.splice(i,1);0===r.length&&(o[n]=null,delete o[n])}}},t.doRemoveCommands=function(){if(0===this._dispatching){for(var t=0,e=this._removeCommands;t<e.length;t++){var n=e[t];this.doOff(n.eventName,n.callback,n.targetId)}this._removeCommands.length=0}},t.emit=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._listeners[t];if(!i)return!1;for(var s in this._dispatching++,i)for(var c=0,u=i[s];c<u.length;c++){var l=u[c];if((e=l.callback).call.apply(e,o([l.target],n)),l.once){var p=new a(t,l.callback,s);this._removeCommands.push(p)}}this._dispatching--,this.doRemoveCommands()},t._listeners=cc.js.createMap(),t._dispatching=0,t._removeCommands=[],t._eventPool=new r.Pool(function(){return new i},10),t}();n.EventCenter=c,cc._RF.pop()},{"../Common/Utils/Pool":"Pool"}],EventType:[function(t,e,n){"use strict";cc._RF.push(e,"3a2ce/BnWtAGous8Nu/ZYEZ","EventType"),Object.defineProperty(n,"__esModule",{value:!0}),n.EventType=void 0,function(t){t.GameShow="GameShow",t.GameHide="GameHide",t.WindowClosed="WindowClosed",t.FormClosed="FormClosed"}(n.EventType||(n.EventType={})),cc._RF.pop()},{}],FixedMgr:[function(t,e,n){"use strict";cc._RF.push(e,"727dau44q5IioBgMTJwEQJ0","FixedMgr");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./config/SysDefine"),a=t("./Struct"),s=t("./UIManager"),c=function(){function t(){}return t.prototype.open=function(t,e,n){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return t=a.GetForm(t,i.FormType.Fixed),[4,s.default.getInstance().openForm(t,e,n)];case 1:return[2,o.sent()]}})})},t.prototype.close=function(t,e,n){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return t=a.GetForm(t,i.FormType.Fixed),[4,s.default.getInstance().closeForm(t,e,n)];case 1:return[2,o.sent()]}})})},t}();n.default=new c,cc._RF.pop()},{"./Struct":"Struct","./UIManager":"UIManager","./config/SysDefine":"SysDefine"}],FormMgr:[function(t,e,n){"use strict";cc._RF.push(e,"9a773PrZ4hPdb2eNyT8WZyH","FormMgr");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./config/SysDefine"),a=t("./DrawerMgr"),s=t("./FixedMgr"),c=t("./SceneMgr"),u=t("./TipsMgr"),l=t("./ToastMgr"),p=t("./UIManager"),h=t("./WindowMgr"),f=function(){function t(){}return t.prototype.open=function(t,e,n){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:switch(t.type){case i.FormType.Screen:return[3,1];case i.FormType.Window:return[3,3];case i.FormType.Fixed:return[3,5];case i.FormType.Drawer:return[3,7];case i.FormType.Tips:return[3,9];case i.FormType.Toast:return[3,11]}return[3,13];case 1:return[4,c.default.open(t,e,n)];case 2:return[2,o.sent()];case 3:return[4,h.default.open(t,e,n)];case 4:return[2,o.sent()];case 5:return[4,s.default.open(t,e,n)];case 6:return[2,o.sent()];case 7:return[4,a.default.open(t,e,n)];case 8:return[2,o.sent()];case 9:return[4,u.default.open(t,e,n)];case 10:return[2,o.sent()];case 11:return[4,l.default.open(t,e,n)];case 12:return[2,o.sent()];case 13:return cc.error("\u672a\u77e5\u7c7b\u578b\u7684\u7a97\u4f53: "+t.type),[2,null]}})})},t.prototype.close=function(t,e,n){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:switch(t.type){case i.FormType.Screen:return[3,1];case i.FormType.Window:return[3,3];case i.FormType.Drawer:return[3,5];case i.FormType.Fixed:return[3,7];case i.FormType.Tips:return[3,9];case i.FormType.Toast:return[3,11]}return[3,12];case 1:return[4,c.default.close(t,e,n)];case 2:return[2,o.sent()];case 3:return[4,h.default.close(t,e,n)];case 4:return[2,o.sent()];case 5:return[4,a.default.close(t,e,n)];case 6:return[2,o.sent()];case 7:return[4,s.default.close(t,e,n)];case 8:return[2,o.sent()];case 9:return[4,u.default.close(t,e,n)];case 10:return[2,o.sent()];case 11:return cc.warn("UIToast \u76ee\u524d\u4e0d\u80fd\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u5173\u95ed, \u8bf7\u4f7f\u7528 ToastMgr.close()"),[3,13];case 12:return cc.error("\u672a\u77e5\u7c7b\u578b\u7684\u7a97\u4f53: "+t.type),[2,!1];case 13:return[2]}})})},t.prototype.backScene=function(t,e){return o(this,void 0,void 0,function(){return r(this,function(){return[2,c.default.back(t,e)]})})},t.prototype.closeAllWindows=function(){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,h.default.closeAll()];case 1:return t.sent(),[2]}})})},t.prototype.load=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,p.default.getInstance().loadUIForm(t.prefabUrl)];case 1:return e.sent(),[2]}})})},t}();n.default=new f,cc._RF.pop()},{"./DrawerMgr":"DrawerMgr","./FixedMgr":"FixedMgr","./SceneMgr":"SceneMgr","./TipsMgr":"TipsMgr","./ToastMgr":"ToastMgr","./UIManager":"UIManager","./WindowMgr":"WindowMgr","./config/SysDefine":"SysDefine"}],GPDrag:[function(t,e,n){"use strict";cc._RF.push(e,"5181dEjiW1Hyq4VdL35aHS4","GPDrag");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.GPDrag=n.EasingString=n.DragBackHomeType=n.FloatType=void 0;var a,s,c,u=t("./Components/GPWorkFlow"),l=cc._decorator,p=l.ccclass,h=l.property;(function(t){t[t.None=0]="None",t[t.MoveToTop=1]="MoveToTop",t[t.MoveToTopLayer=2]="MoveToTopLayer"})(a=n.FloatType||(n.FloatType={})),function(t){t[t.SetPosition=0]="SetPosition",t[t.Tween=1]="Tween"}(s=n.DragBackHomeType||(n.DragBackHomeType={})),function(t){t[t.linear=0]="linear",t[t.smooth=1]="smooth",t[t.fade=2]="fade",t[t.constant=3]="constant",t[t.quadIn=4]="quadIn",t[t.quadOut=5]="quadOut",t[t.quadInOut=6]="quadInOut",t[t.quadOutIn=7]="quadOutIn",t[t.cubicIn=8]="cubicIn",t[t.cubicOut=9]="cubicOut",t[t.cubicInOut=10]="cubicInOut",t[t.cubicOutIn=11]="cubicOutIn",t[t.quartIn=12]="quartIn",t[t.quartOut=13]="quartOut",t[t.quartInOut=14]="quartInOut",t[t.quartOutIn=15]="quartOutIn",t[t.quintIn=16]="quintIn",t[t.quintOut=17]="quintOut",t[t.quintInOut=18]="quintInOut",t[t.quintOutIn=19]="quintOutIn",t[t.sineIn=20]="sineIn",t[t.sineOut=21]="sineOut",t[t.sineInOut=22]="sineInOut",t[t.sineOutIn=23]="sineOutIn",t[t.expoIn=24]="expoIn",t[t.expoOut=25]="expoOut",t[t.expoInOut=26]="expoInOut",t[t.expoOutIn=27]="expoOutIn",t[t.circIn=28]="circIn",t[t.circOut=29]="circOut",t[t.circInOut=30]="circInOut",t[t.circOutIn=31]="circOutIn",t[t.elasticIn=32]="elasticIn",t[t.elasticOut=33]="elasticOut",t[t.elasticInOut=34]="elasticInOut",t[t.elasticOutIn=35]="elasticOutIn",t[t.backIn=36]="backIn",t[t.backOut=37]="backOut",t[t.backInOut=38]="backInOut",t[t.backOutIn=39]="backOutIn",t[t.bounceIn=40]="bounceIn",t[t.bounceOut=41]="bounceOut",t[t.bounceInOut=42]="bounceInOut",t[t.bounceOutIn=43]="bounceOutIn"}(c=n.EasingString||(n.EasingString={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.touchOffsetSensitive=!0,e.backHomeWhenFailed=!0,e.backHomeType=s.SetPosition,e.backTweenTime=1,e.backTweenEasing=c.linear,e.floatType=a.None,e.backToOriZ=!0,e.dragStartPos=new cc.Vec2(0,0),e.dragOffset=new cc.Vec2(0,0),e.succeedCheck=null,e.succeedCallback=null,e.backHomeWorkFlow=new u.GPWorkFlow,e}return r(e,t),e.prototype.start=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,this.OnDragStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.OnDragMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.OnDragEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.OnDragEnd,this);var e=new u.GPWorkFlowNode;this.backHomeWorkFlow.headNode=e;var n=this;e.OnStart=function(e){var o=new cc.Vec3(n.dragStartPos.x,n.dragStartPos.y,0);switch(t.backHomeType){case s.SetPosition:n.node.setPosition(o),e.done();break;case s.Tween:n.backTween&&n.backTween.stop();var r=c[n.backTweenEasing];n.backTween=cc.tween(n.node).to(n.backTweenTime,{position:o},{easing:r}).call(function(){e.done()}).start()}};var o=new u.GPWorkFlowNode;e.nextNode=o,o.OnStart=function(t){n.OnArrivedHome(),t.done()}},e.prototype.OnDragStart=function(t){console.log("drag start"),this.dragStartPos.set(cc.v2(this.node.position.x,this.node.position.y));var e=t.getLocation();switch(cc.Vec2.subtract(this.dragOffset,this.dragStartPos,e),this.floatType){case a.MoveToTop:this.zOrder=this.node.getSiblingIndex(),this.node.setSiblingIndex(1/0);break;case a.MoveToTopLayer:this.zOrder=this.node.getSiblingIndex(),this.srcParent=this.node.parent,this.node.parent=this.topLayerNode}},e.prototype.OnDragMove=function(t){var e=t.getLocation();this.touchOffsetSensitive?this.node.setPosition(new cc.Vec3(e.x+this.dragOffset.x,e.y+this.dragOffset.y,0)):this.node.setPosition(new cc.Vec3(e.x,0,e.y))},e.prototype.OnDragEnd=function(t){this.succeedCheck&&this.succeedCheck(t)?this.succeedCallback&&this.succeedCallback(t):this.backHomeWhenFailed&&this.backHomeWorkFlow.start()},e.prototype.OnArrivedHome=function(){if(this.backToOriZ)switch(this.floatType){case a.MoveToTop:this.node.setSiblingIndex(this.zOrder);break;case a.MoveToTopLayer:this.node.parent=this.srcParent,this.node.setSiblingIndex(this.zOrder)}},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.OnDragStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.OnDragMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.OnDragEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.OnDragEnd,this)},e.prototype.update=function(t){this.backHomeWorkFlow.update(t)},i([h({tooltip:"\u89e6\u78b0\u70b9\u504f\u79fb\u91cf\u654f\u611f"})],e.prototype,"touchOffsetSensitive",void 0),i([h({tooltip:"\u5931\u8d25\u65f6\u56de\u5230\u8d77\u59cb\u4f4d\u7f6e"})],e.prototype,"backHomeWhenFailed",void 0),i([h({type:cc.Enum(s),tooltip:"\u56de\u5bb6\u7684\u65b9\u5f0f",visible:function(){return this.backHomeWhenFailed}})],e.prototype,"backHomeType",void 0),i([h({type:cc.Float,visible:function(){return this.backHomeWhenFailed&&this.backHomeType==s.Tween}})],e.prototype,"backTweenTime",void 0),i([h({type:cc.Enum(c),tooltip:"\u7f13\u52a8\u7c7b\u578b",visible:function(){return this.backHomeWhenFailed&&this.backHomeType==s.Tween}})],e.prototype,"backTweenEasing",void 0),i([h({type:cc.Enum(a),tooltip:"\u4e0a\u6d6e\u7c7b\u578b"})],e.prototype,"floatType",void 0),i([h({type:cc.Node,visible:function(){return this.floatType==a.MoveToTopLayer}})],e.prototype,"topLayerNode",void 0),i([h({tooltip:"\u677e\u5f00\u540e\u8fd4\u56de\u539f\u6765\u7684\u5c42\u7ea7",visible:function(){return this.floatType!=a.None}})],e.prototype,"backToOriZ",void 0),i([p("GPDrag")],e)}(cc.Component);n.GPDrag=f,cc._RF.pop()},{"./Components/GPWorkFlow":"GPWorkFlow"}],GPWorkFlow:[function(t,e,n){"use strict";cc._RF.push(e,"00ae3DUSlREBqJ4jLF4bVlj","GPWorkFlow"),Object.defineProperty(n,"__esModule",{value:!0}),n.GPWorkFlow=n.GPWorkFlowNode=void 0;var o=cc._decorator,r=(o.ccclass,o.property,function(){function t(){this.nextNodes=new Array,this._nextIdx=-1}return Object.defineProperty(t.prototype,"nextNode",{get:function(){return this.nextNodes.length>0?this.nextNodes[0]:null},set:function(t){0==this.nextNodes.length?this.nextNodes.push(t):this.nextNodes[0]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextIdx",{get:function(){return this._nextIdx},enumerable:!1,configurable:!0}),t.prototype.done=function(t){void 0===t&&(t=0),this._nextIdx=t,this.OnEnd&&this.OnEnd(this)},t.prototype.isDone=function(){return this._nextIdx>=0},t.prototype.refresh=function(){this._nextIdx=-1;for(var t=0;t<this.nextNodes.length;t++)this.nextNodes[t].refresh()},t.prototype.start=function(){this.OnStart&&this.OnStart(this)},t.prototype.update=function(t){this.OnUpdate&&this.OnUpdate(this,t)},t.prototype.hasNext=function(){return this.nextNodes.length>0},t}());n.GPWorkFlowNode=r;var i=function(){function t(){}return t.prototype.start=function(){this.headNode&&this.headNode.refresh(),this.curNode=this.headNode,this.curNode.start()},t.prototype.update=function(t){null!=this.curNode&&(this.curNode.update(t),this.curNode.isDone()&&(this.curNode.hasNext()?(this.curNode=this.curNode.nextNodes[this.curNode.nextIdx],this.curNode.start()):this.curNode=null))},t.prototype.insertHeadNode=function(t){var e=this.headNode;this.headNode=t,t.nextNode=e},t}();n.GPWorkFlow=i,cc._RF.pop()},{}],GameConfig:[function(t,e,n){"use strict";cc._RF.push(e,"f46b13WB51JHaffBN5ie56i","GameConfig"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return Object.defineProperty(t,"debugUserId",{get:function(){return this._debugUserId},enumerable:!1,configurable:!0}),t.gameId="",t.version="0.0.1",t._debugUserId="",t}();n.default=o,cc._RF.pop()},{}],Game:[function(t,e,n){"use strict";cc._RF.push(e,"30ba5eNytVM3pckqs/AGbqm","Game");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.Game=void 0;var i=t("./Manager/ConfigMgr"),a=t("./Manager/PlayerMgr"),s=function(){function t(){this.inited=!1,this.configMgr=null,this.playerMgr=null}return t.prototype.init=function(){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return this.configMgr=new i.default(this),this.playerMgr=new a.default(this),[4,this.configMgr.loadConfigs()];case 1:return t.sent(),this.inited=!0,[2]}})})},t.prototype.onGameShow=function(){},t.prototype.onGameHide=function(){},t.prototype.update=function(){this.inited},t}();n.Game=s;var c=new s;n.default=c,cc._RF.pop()},{"./Manager/ConfigMgr":"ConfigMgr","./Manager/PlayerMgr":"PlayerMgr"}],GlobalData:[function(t,e,n){"use strict";cc._RF.push(e,"ffa9djWp4hFqooiKPOq5qJN","GlobalData"),Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalData=void 0;var o=function(){function t(){}return t.gameData={roleMoveSpeed:300,rolePlaySpeed:50,waitMaxNumber:10,waitingSpeedY:70,roleCreateTime:10,drinkTime:5},t.tableData=[{x:-250,y:-100}],t.tablePath="img/table/",t.rawPath="img/raw/",t.recipePath="img/recipe/",t.coffeeTypePath="img/coffee/",t.tumblerePath="img/tumbler/",t}();n.GlobalData=o,cc._RF.pop()},{}],GlobalHelper:[function(t,e,n){"use strict";cc._RF.push(e,"97861Bw45RARLIDvaYH8CIV","GlobalHelper"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.Register=function(e,n){t[e]=n},t.Get=function(e){return t._globalMap.hasOwnProperty(e)?t._globalMap[e]:void 0},t._globalMap={},t}();n.default=o,window.GlobalHelper=o,cc._RF.pop()},{}],GridScrollList:[function(t,e,n){"use strict";cc._RF.push(e,"1cacdUiKzNJIJRK/5ihZG1M","GridScrollList");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.GridScrollList=void 0;var a,s=t("../../Common/Components/ScrollViewHelper"),c=cc._decorator,u=c.ccclass,l=c.property;(function(t){t[t.LeftToRight=0]="LeftToRight",t[t.TopToBottom=1]="TopToBottom"})(a||(a={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProxy=[],e.scrollHelper=null,e.rowDirection=a.LeftToRight,e.colSpace=10,e.rowSpace=10,e.colCount=3,e.margin=10,e}return r(e,t),e.prototype.doLayout=function(){this._layoutItems()},e.prototype._layoutItems=function(){this.scrollHelper.clearData();var t=this.allProxy,e=t.length?t[0].region.size:cc.size(0,0),n=this.colSpace,o=this.rowSpace,r=this.colCount,i=this.scrollHelper.scrollView.node.getContentSize();if(this.rowDirection==a.TopToBottom){var s=i.width;i.width=i.height,i.height=s,s=e.width,e.width=e.height,e.height=s}var c=this.margin,u=(i.width-(r*e.width+(r-1)*n))/2,l=u,p=-c+o+e.height,h=-o-e.height,f=n+e.width;this.rowDirection==a.TopToBottom&&(h=o+e.height,f=-n-e.width,p=c-h);for(var d=0;d<t.length;d++){l+=f,d%r==0&&(p+=h,l=u);var _=t[d];this.rowDirection==a.LeftToRight?_.region.origin=cc.v2(l,p-e.height):_.region.origin=cc.v2(p,l-e.height),this.scrollHelper.addData(_)}this.rowDirection==a.LeftToRight?this.scrollHelper.scrollView.content.setContentSize(i.width,-p+e.height+c):this.scrollHelper.scrollView.content.setContentSize(p+e.height+c,i.width)},i([l(s.ScrollViewHelper)],e.prototype,"scrollHelper",void 0),i([l({type:cc.Enum(a)})],e.prototype,"rowDirection",void 0),i([l()],e.prototype,"colSpace",void 0),i([l()],e.prototype,"rowSpace",void 0),i([l()],e.prototype,"colCount",void 0),i([l()],e.prototype,"margin",void 0),i([u],e)}(cc.Component);n.GridScrollList=p,cc._RF.pop()},{"../../Common/Components/ScrollViewHelper":"ScrollViewHelper"}],Joystick:[function(t,e,n){"use strict";cc._RF.push(e,"f4f39PJ1X1HeJ5ebUDPNPNG","Joystick");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.JoystickType=n.SpeedType=n.DirectionType=n.instance=void 0;var a,s,c,u=cc._decorator,l=u.ccclass,p=u.property;n.instance=new cc.EventTarget,function(t){t[t.FOUR=0]="FOUR",t[t.EIGHT=1]="EIGHT",t[t.ALL=2]="ALL"}(a=n.DirectionType||(n.DirectionType={})),function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.FAST=2]="FAST"}(s=n.SpeedType||(n.SpeedType={})),function(t){t[t.FIXED=0]="FIXED",t[t.FOLLOW=1]="FOLLOW"}(c=n.JoystickType||(n.JoystickType={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dot=null,e.ring=null,e.joystickType=c.FIXED,e.directionType=a.ALL,e._stickPos=null,e._touchLocation=null,e._radius=0,e}return r(e,t),e.prototype.onLoad=function(){this._radius=this.ring.width/2,this._initTouchEvent(),this.joystickType===c.FOLLOW&&(this.node.opacity=0)},e.prototype.onEnable=function(){n.instance.on("set_joystick_type",this._onSetJoystickType,this)},e.prototype.onDisable=function(){n.instance.off("set_joystick_type",this._onSetJoystickType,this)},e.prototype._onSetJoystickType=function(t){this.joystickType=t,this.node.opacity=t===c.FIXED?255:0},e.prototype._initTouchEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this._touchStartEvent,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._touchMoveEvent,this),this.node.on(cc.Node.EventType.TOUCH_END,this._touchEndEvent,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEndEvent,this)},e.prototype._touchStartEvent=function(t){n.instance.emit(cc.Node.EventType.TOUCH_START,t);var e=this.node.convertToNodeSpaceAR(t.getLocation());if(this.joystickType===c.FIXED){this._stickPos=this.ring.getPosition();var o=e.sub(this.ring.getPosition()).mag();this._radius>o&&this.dot.setPosition(e)}else this.joystickType===c.FOLLOW&&(this._stickPos=e,this.node.opacity=255,this._touchLocation=t.getLocation(),this.ring.setPosition(e),this.dot.setPosition(e))},e.prototype._touchMoveEvent=function(t){if(this.joystickType===c.FOLLOW&&this._touchLocation===t.getLocation())return!1;var e,o=this.ring.convertToNodeSpaceAR(t.getLocation()),r=o.mag(),i=this._stickPos.x+o.x,a=this._stickPos.y+o.y,u=cc.v2(i,a).sub(this.ring.getPosition()).normalize();if(this._radius>r)this.dot.setPosition(cc.v2(i,a)),e=s.NORMAL;else{var l=this._stickPos.x+u.x*this._radius,p=this._stickPos.y+u.y*this._radius;this.dot.setPosition(cc.v2(l,p)),e=s.FAST}n.instance.emit(cc.Node.EventType.TOUCH_MOVE,t,{speedType:e,moveDistance:u})},e.prototype._touchEndEvent=function(t){this.dot.setPosition(this.ring.getPosition()),this.joystickType===c.FOLLOW&&(this.node.opacity=0),n.instance.emit(cc.Node.EventType.TOUCH_END,t,{speedType:s.STOP})},i([p({type:cc.Node,displayName:"Dot",tooltip:"\u6447\u6746\u64cd\u7eb5\u70b9"})],e.prototype,"dot",void 0),i([p({type:cc.Node,displayName:"Ring",tooltip:"\u6447\u6746\u80cc\u666f\u8282\u70b9"})],e.prototype,"ring",void 0),i([p({type:cc.Enum(c),displayName:"Touch Type",tooltip:"\u89e6\u6478\u7c7b\u578b"})],e.prototype,"joystickType",void 0),i([p({type:cc.Enum(a),displayName:"Direction Type",tooltip:"\u65b9\u5411\u7c7b\u578b"})],e.prototype,"directionType",void 0),i([p({type:cc.Node,tooltip:"\u6447\u6746\u6240\u5728\u4f4d\u7f6e"})],e.prototype,"_stickPos",void 0),i([p({type:cc.Node,tooltip:"\u89e6\u6478\u4f4d\u7f6e"})],e.prototype,"_touchLocation",void 0),i([p({tooltip:"\u534a\u5f84"})],e.prototype,"_radius",void 0),i([l],e)}(cc.Component);n.default=h,cc._RF.pop()},{}],KawaseBlur:[function(t,e,n){"use strict";cc._RF.push(e,"bc261DWSZZNW4xSy/P01RJV","KawaseBlur");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.material=null,e.renderTexture=null,e}return r(e,t),e.prototype.start=function(){var t=this.sprite,e=this.sprite.node,n=this.material;n.setProperty("resolution",cc.v2(e.width,e.height));var o=new cc.RenderTexture,r=new cc.RenderTexture;this.getRenderTexture(e,o),this.renderWithMaterial(o,r,n),this.renderWithMaterial(r,o,n),this.renderWithMaterial(o,r,n),this.renderWithMaterial(r,o,n),this.renderWithMaterial(o,r,n),this.renderTexture=r,t.spriteFrame=new cc.SpriteFrame(this.renderTexture),o.destroy()},e.prototype.onDestroy=function(){this.renderTexture&&this.renderTexture.destroy()},e.prototype.getRenderTexture=function(t,e){if(!cc.isValid(t))return null;e&&e instanceof cc.RenderTexture||(e=new cc.RenderTexture);var n=Math.floor(t.width),o=Math.floor(t.height);e.initWithSize(n,o);var r=new cc.Node;r.parent=t;var i=r.addComponent(cc.Camera);return i.clearFlags|=cc.Camera.ClearFlags.COLOR,i.backgroundColor=cc.color(0,0,0,0),i.zoomRatio=cc.winSize.height/o,i.targetTexture=e,i.render(t),r.destroy(),e},e.prototype.renderWithMaterial=function(t,e,n){e instanceof cc.Material&&(n=e,e=new cc.RenderTexture);var o=new cc.Node;o.setParent(cc.Canvas.instance.node);var r=o.addComponent(cc.Sprite);r.sizeMode=cc.Sprite.SizeMode.RAW,r.trim=!1,r.spriteFrame=new cc.SpriteFrame(t);var i=t.width,a=t.height;e.initWithSize(i,a),n instanceof cc.Material&&r.setMaterial(0,n);var s=new cc.Node;s.setParent(o);var c=s.addComponent(cc.Camera);return c.clearFlags|=cc.Camera.ClearFlags.COLOR,c.backgroundColor=cc.color(0,0,0,0),c.zoomRatio=cc.winSize.height/a,c.targetTexture=e,c.render(o),s.destroy(),o.destroy(),e},i([c({type:cc.Sprite,tooltip:!1})],e.prototype,"sprite",void 0),i([c({type:cc.Material,tooltip:!1})],e.prototype,"material",void 0),i([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],LRUCache:[function(t,e,n){"use strict";cc._RF.push(e,"2516dDnewNJ2I/vyZM6Z9rJ","LRUCache"),Object.defineProperty(n,"__esModule",{value:!0}),n.LRUCache=void 0;var o=t("./Pool"),r=function(){function t(t,e){this.value=t,this.next=e}return t.prototype.use=function(t,e){this.value=t,this.next=e},t.prototype.free=function(){this.value="",this.next=null},t}(),i=function(){function t(t){this.nodePool=new o.Pool(function(){return new r("",null)},3),this.maxSize=t,this.head=new r("head",null),this.size=0}return t.prototype.remove=function(t){var e=this.has(t);e&&this.removeNode(e)},t.prototype.put=function(t){if(this.size<=0)return this.last=this.nodePool.alloc(t,null),this.last.prev=this.head,this.head.next=this.last,void(this.size=1);var e=this.has(t);if(!e)return e=this.nodePool.alloc(t,null),void this.addHead(e);e!=this.head.next&&(this.removeNode(e),this.addHead(e))},t.prototype.needDelete=function(){return this.size>this.maxSize},t.prototype.deleteLastNode=function(){var t=this.last.value;return this.removeNode(this.last),t},t.prototype.removeNode=function(t){t.prev.next=t.next,t.next?t.next.prev=t.prev:this.last=t.prev,t.prev=null,t.next=null,this.nodePool.free(t),this.size--},t.prototype.addHead=function(t){t.next=this.head.next,t.next&&(t.next.prev=t),this.head.next=t,t.prev=this.head,this.size++},t.prototype.has=function(t){for(var e=this.head.next,n=0;e;){if(e.value==t)return e;if(e=e.next,++n>this.maxSize)break}return null},t.prototype.toString=function(){return this.head.next,""},t}();n.LRUCache=i,cc._RF.pop()},{"./Pool":"Pool"}],LightStruct:[function(t,e,n){"use strict";cc._RF.push(e,"c719fETXCJI04htRCnD+NLA","LightStruct"),Object.defineProperty(n,"__esModule",{value:!0}),n.Intersection=void 0;n.Intersection=function(t,e,n,o){this.x=t,this.y=e,this.len=n,this.angle=o},cc._RF.pop()},{}],LightUtils:[function(t,e,n){"use strict";cc._RF.push(e,"cd1b9xWLxVAN7fJCCK/oCfF","LightUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.getIntersections=function(t,e){for(var n=t,o=[],r=0,i=this.getRayEnds(e);r<i.length;r++)for(var a=i[r],s=this.getNormal(a.sub(n)),c=-1;c<=1;c++){var u=a.add(s.mul(.001*c)),l=this.getIntersection(e,n,u);l&&(l.angle=Math.atan2(u.y-n.y,u.x-n.x),o.push(l))}return o.sort(function(t,e){return t.angle-e.angle})},t.getNormal=function(t){var e=t.normalize(),n=e.x;return e.x=e.y,e.y=-n,e},t.getRayEnds=function(t){for(var e=[],n=0;n<t.length;n++)for(var o=t[n],r=0;r<o.length;r++)e.push(o[r]);return e},t.getIntersection=function(t,e,n){for(var o=null,r=0;r<t.length;r++)for(var i=t[r],a=0;a<i.length;a++){var s=this._doGetIntersection(e,n,i[a],a===i.length-1?i[0]:i[a+1]);s&&(!o||s.len<o.len)&&(o=s)}return o},t.getIntersectionByAngle=function(t,e,n,o){var r=t+e;t*=.017453,r*=.017453;var i=cc.v2(Math.cos(t),Math.sin(t)).add(n),a=cc.v2(Math.cos(r),Math.sin(r)).add(n),s=this.getIntersection(o,n,i);s.angle=t;var c=this.getIntersection(o,n,a);c.angle=r;var u=this.getIntersections(n,o),l=this.binarySearchIntersects(u,t,!0),p=this.binarySearchIntersects(u,r,!1);return(u=u.slice(l,p+1)).unshift({x:n.x,y:n.y,len:0},s),u.push(c),u},t.binarySearchIntersects=function(t,e,n){void 0===n&&(n=!1);for(var o=0,r=t.length-1;r-o>1;){var i=Math.floor((o+r)/2);if(e<t[i].angle)r=i;else{if(!(e>t[i].angle))return i;o=i}}return n?r:o},t._doGetIntersection=function(t,e,n,o){var r=t.x,i=t.y,a=e.x-t.x,s=e.y-t.y,c=n.x,u=n.y,l=o.x-n.x,p=o.y-n.y,h=a*a+s*s,f=l*l+p*p;if(a/h==l/f&&s/h==p/f)return null;var d=(a*(u-i)+s*(r-c))/(l*s-p*a),_=(c+l*d-r)/a;return _<0?null:d<0||d>1?null:{x:r+a*_,y:i+s*_,len:_}},t}();n.default=o,cc._RF.pop()},{}],Light:[function(t,e,n){"use strict";cc._RF.push(e,"68edfvWcX9CWav9zMp303o6","Light");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.LightType=void 0;var a,s=t("../Components/QuadTree"),c=cc._decorator,u=c.ccclass,l=c.property;(function(t){t[t.Round=0]="Round",t[t.Sector=1]="Sector"})(a=n.LightType||(n.LightType={}));var p=new s.Bound(0,0,0,0),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.graphics=null,e.lightType=0,e.canvasSize=null,e.visiableSize=null,e.radius=200,e.fade=1,e._material=null,e}return r(e,t),e.prototype.onLoad=function(){this._material=this.graphics.getMaterial(0),this.canvasSize=cc.view.getCanvasSize(),this.visiableSize=cc.view.getCanvasSize(),this.node.setContentSize(this.canvasSize),this._material.setProperty("screen",cc.v2(this.canvasSize.width,this.canvasSize.height));var t=this.radius/this.canvasSize.width;this._material.setProperty("maxRadius",t)},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)},e.prototype.onTouchMove=function(t){this.node.x+=t.getDeltaX(),this.node.y+=t.getDeltaY()},e.prototype.getBound=function(){var t=this.node.getPosition();return p.x=t.x-this.radius/2,p.y=t.y-this.radius/2,p.width=p.height=this.radius,p},e.prototype.draw=function(t){var e=this.node.getPosition();this._doDraw(this.graphics,e,t),this._material.setProperty("lightPos",cc.v2(e.x/this.visiableSize.width,e.y/this.visiableSize.height))},e.prototype._doDraw=function(t,e,n){t.clear(),t.moveTo(n[0].x,n[0].y);for(var o=1;o<n.length;o++){var r=n[o];t.lineTo(r.x,r.y)}t.moveTo(n[0].x,n[0].y),t.fill()},i([l(cc.Graphics)],e.prototype,"graphics",void 0),i([l({type:cc.Enum(a)})],e.prototype,"lightType",void 0),i([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../Components/QuadTree":"QuadTree"}],ListItem:[function(t,e,n){"use strict";cc._RF.push(e,"a7fffNLv8pJKpv/2o70E/WX","ListItem");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,s=cc._decorator,c=s.ccclass,u=s.property,l=s.disallowMultiple,p=s.menu,h=s.executionOrder;(function(t){t[t.NONE=0]="NONE",t[t.TOGGLE=1]="TOGGLE",t[t.SWITCH=2]="SWITCH"})(a||(a={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.title=null,e.selectedMode=a.NONE,e.selectedFlag=null,e.selectedSpriteFrame=null,e._unselectedSpriteFrame=null,e.adaptiveSize=!1,e._selected=!1,e._eventReg=!1,e}return r(e,t),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){if(this._selected=t,this.selectedFlag)switch(this.selectedMode){case a.TOGGLE:this.selectedFlag.active=t;break;case a.SWITCH:var e=this.selectedFlag.getComponent(cc.Sprite);e&&(e.spriteFrame=t?this.selectedSpriteFrame:this._unselectedSpriteFrame)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"btnCom",{get:function(){return this._btnCom||(this._btnCom=this.node.getComponent(cc.Button)),this._btnCom},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){if(this.selectedMode==a.SWITCH){var t=this.selectedFlag.getComponent(cc.Sprite);this._unselectedSpriteFrame=t.spriteFrame}this.btnCom&&this._registerEvent()},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this)},e.prototype._registerEvent=function(){this._eventReg||(this.btnCom&&this.btnCom.clickEvents.unshift(this.createEvt(this,"onClickThis")),this.adaptiveSize&&this.node.on(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this),this._eventReg=!0)},e.prototype._onSizeChange=function(){this.list._onItemAdaptive(this.node)},e.prototype.createEvt=function(t,e,n){if(void 0===n&&(n=null),t.isValid){t.comName=t.comName||t.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");var o=new cc.Component.EventHandler;return o.target=n||t.node,o.component=t.comName,o.handler=e,o}},e.prototype.showAni=function(t,e,n){var o,r=this;switch(t){case 0:o=cc.tween(r.node).to(.2,{scale:.7}).by(.3,{y:2*r.node.height});break;case 1:o=cc.tween(r.node).to(.2,{scale:.7}).by(.3,{x:2*r.node.width});break;case 2:o=cc.tween(r.node).to(.2,{scale:.7}).by(.3,{y:-2*r.node.height});break;case 3:o=cc.tween(r.node).to(.2,{scale:.7}).by(.3,{x:-2*r.node.width});break;default:o=cc.tween(r.node).to(.3,{scale:.1})}(e||n)&&o.call(function(){if(n){r.list._delSingleItem(r.node);for(var t=r.list.displayData.length-1;t>=0;t--)if(r.list.displayData[t].id==r.listId){r.list.displayData.splice(t,1);break}}e()}),o.start()},e.prototype.onClickThis=function(){this.list.selectedId=this.listId},i([u({type:cc.Sprite,tooltip:!1})],e.prototype,"icon",void 0),i([u({type:cc.Node,tooltip:!1})],e.prototype,"title",void 0),i([u({type:cc.Enum(a),tooltip:!1})],e.prototype,"selectedMode",void 0),i([u({type:cc.Node,tooltip:!1,visible:function(){return this.selectedMode>a.NONE}})],e.prototype,"selectedFlag",void 0),i([u({type:cc.SpriteFrame,tooltip:!1,visible:function(){return this.selectedMode==a.SWITCH}})],e.prototype,"selectedSpriteFrame",void 0),i([u({tooltip:!1})],e.prototype,"adaptiveSize",void 0),i([c,l(),p("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List Item"),h(-5001)],e)}(cc.Component);n.default=f,cc._RF.pop()},{}],List:[function(t,e,n){"use strict";cc._RF.push(e,"c90caYxyjpBsprfoYNnL4hm","List");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,s,c,u=cc._decorator,l=u.ccclass,p=u.property,h=u.disallowMultiple,f=u.menu,d=u.executionOrder,_=u.requireComponent,y=t("./ListItem");(function(t){t[t.NODE=1]="NODE",t[t.PREFAB=2]="PREFAB"})(a||(a={})),function(t){t[t.NORMAL=1]="NORMAL",t[t.ADHERING=2]="ADHERING",t[t.PAGE=3]="PAGE"}(s||(s={})),function(t){t[t.NONE=0]="NONE",t[t.SINGLE=1]="SINGLE",t[t.MULT=2]="MULT"}(c||(c={}));var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateType=a.NODE,e.tmpNode=null,e.tmpPrefab=null,e._slideMode=s.NORMAL,e.pageDistance=.3,e.pageChangeEvent=new cc.Component.EventHandler,e._virtual=!0,e.cyclic=!1,e.lackCenter=!1,e.lackSlide=!1,e._updateRate=0,e.frameByFrameRenderNum=0,e.renderEvent=new cc.Component.EventHandler,e.selectedMode=c.NONE,e.repeatEventSingle=!1,e.selectedEvent=new cc.Component.EventHandler,e._selectedId=-1,e._forceUpdate=!1,e._updateDone=!0,e._numItems=0,e._inited=!1,e._needUpdateWidget=!1,e._aniDelRuning=!1,e._doneAfterUpdate=!1,e.adhering=!1,e._adheringBarrier=!1,e.curPageNum=0,e}return r(e,t),Object.defineProperty(e.prototype,"slideMode",{get:function(){return this._slideMode},set:function(t){this._slideMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"virtual",{get:function(){return this._virtual},set:function(t){null!=t&&(this._virtual=t),0!=this._numItems&&this._onScrolling()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateRate",{get:function(){return this._updateRate},set:function(t){t>=0&&t<=6&&(this._updateRate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedId",{get:function(){return this._selectedId},set:function(t){var e,n=this;switch(n.selectedMode){case c.SINGLE:if(!n.repeatEventSingle&&t==n._selectedId)return;e=n.getItemByListId(t);var o=void 0;if(n._selectedId>=0?n._lastSelectedId=n._selectedId:n._lastSelectedId=null,n._selectedId=t,e&&((o=e.getComponent(y.default)).selected=!0),n._lastSelectedId>=0&&n._lastSelectedId!=n._selectedId){var r=n.getItemByListId(n._lastSelectedId);r&&(r.getComponent(y.default).selected=!1)}n.selectedEvent&&cc.Component.EventHandler.emitEvents([n.selectedEvent],e,t%this._actualNumItems,null==n._lastSelectedId?null:n._lastSelectedId%this._actualNumItems);break;case c.MULT:if(!(e=n.getItemByListId(t)))return;o=e.getComponent(y.default),n._selectedId>=0&&(n._lastSelectedId=n._selectedId),n._selectedId=t;var i=!o.selected;o.selected=i;var a=n.multSelected.indexOf(t);i&&a<0?n.multSelected.push(t):!i&&a>=0&&n.multSelected.splice(a,1),n.selectedEvent&&cc.Component.EventHandler.emitEvents([n.selectedEvent],e,t%this._actualNumItems,null==n._lastSelectedId?null:n._lastSelectedId%this._actualNumItems,i)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numItems",{get:function(){return this._actualNumItems},set:function(t){var e=this;if(e.checkInited(!1))if(null==t||t<0)cc.error("numItems set the wrong::",t);else if(e._actualNumItems=e._numItems=t,e._forceUpdate=!0,e._virtual)e._resizeContent(),e.cyclic&&(e._numItems=e._cyclicNum*e._numItems),e._onScrolling(),e.frameByFrameRenderNum||e.slideMode!=s.PAGE||(e.curPageNum=e.nearestListId);else{e.cyclic&&(e._resizeContent(),e._numItems=e._cyclicNum*e._numItems);var n=e.content.getComponent(cc.Layout);if(n&&(n.enabled=!0),e._delRedundantItem(),e.firstListId=0,e.frameByFrameRenderNum>0){for(var o=e.frameByFrameRenderNum>e._numItems?e._numItems:e.frameByFrameRenderNum,r=0;r<o;r++)e._createOrUpdateItem2(r);e.frameByFrameRenderNum<e._numItems&&(e._updateCounter=e.frameByFrameRenderNum,e._updateDone=!1)}else{for(r=0;r<e._numItems;r++)e._createOrUpdateItem2(r);e.displayItemNum=e._numItems}}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollView",{get:function(){return this._scrollView},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._init()},e.prototype.onDestroy=function(){var t=this;cc.isValid(t._itemTmp)&&t._itemTmp.destroy(),cc.isValid(t.tmpNode)&&t.tmpNode.destroy(),t._pool&&t._pool.clear()},e.prototype.onEnable=function(){this._registerEvent(),this._init(),this._aniDelRuning&&(this._aniDelRuning=!1,this._aniDelItem&&(this._aniDelBeforePos&&(this._aniDelItem.position=this._aniDelBeforePos,delete this._aniDelBeforePos),this._aniDelBeforeScale&&(this._aniDelItem.scale=this._aniDelBeforeScale,delete this._aniDelBeforeScale),delete this._aniDelItem),this._aniDelCB&&(this._aniDelCB(),delete this._aniDelCB))},e.prototype.onDisable=function(){this._unregisterEvent()},e.prototype._registerEvent=function(){var t=this;t.node.on(cc.Node.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.on("touch-up",t._onTouchUp,t),t.node.on(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.on("scroll-began",t._onScrollBegan,t,!0),t.node.on("scroll-ended",t._onScrollEnded,t,!0),t.node.on("scrolling",t._onScrolling,t,!0),t.node.on(cc.Node.EventType.SIZE_CHANGED,t._onSizeChanged,t)},e.prototype._unregisterEvent=function(){var t=this;t.node.off(cc.Node.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.off("touch-up",t._onTouchUp,t),t.node.off(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.off("scroll-began",t._onScrollBegan,t,!0),t.node.off("scroll-ended",t._onScrollEnded,t,!0),t.node.off("scrolling",t._onScrolling,t,!0),t.node.off(cc.Node.EventType.SIZE_CHANGED,t._onSizeChanged,t)},e.prototype._init=function(){var t=this;if(!t._inited)if(t._scrollView=t.node.getComponent(cc.ScrollView),t.content=t._scrollView.content,t.content){switch(t._layout=t.content.getComponent(cc.Layout),t._align=t._layout.type,t._resizeMode=t._layout.resizeMode,t._startAxis=t._layout.startAxis,t._topGap=t._layout.paddingTop,t._rightGap=t._layout.paddingRight,t._bottomGap=t._layout.paddingBottom,t._leftGap=t._layout.paddingLeft,t._columnGap=t._layout.spacingX,t._lineGap=t._layout.spacingY,t._colLineNum,t._verticalDir=t._layout.verticalDirection,t._horizontalDir=t._layout.horizontalDirection,t.setTemplateItem(cc.instantiate(t.templateType==a.PREFAB?t.tmpPrefab:t.tmpNode)),t._slideMode!=s.ADHERING&&t._slideMode!=s.PAGE||(t._scrollView.inertia=!1,t._scrollView._onMouseWheel=function(){}),t.virtual||(t.lackCenter=!1),t._lastDisplayData=[],t.displayData=[],t._pool=new cc.NodePool,t._forceUpdate=!1,t._updateCounter=0,t._updateDone=!0,t.curPageNum=0,t.cyclic&&(t._scrollView._processAutoScrolling=this._processAutoScrolling.bind(t),t._scrollView._startBounceBackIfNeeded=function(){return!1}),t._align){case cc.Layout.Type.HORIZONTAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}}}t.content.removeAllChildren(),t._inited=!0}else cc.error(t.node.name+"'s cc.ScrollView unset content!")},e.prototype._processAutoScrolling=function(t){this._scrollView._autoScrollAccumulatedTime+=1*t;var e=Math.min(1,this._scrollView._autoScrollAccumulatedTime/this._scrollView._autoScrollTotalTime);if(this._scrollView._autoScrollAttenuate){var n=e-1;e=n*n*n*n*n+1}var o=this._scrollView._autoScrollStartPosition.add(this._scrollView._autoScrollTargetDelta.mul(e)),r=this._scrollView.getScrollEndedEventTiming(),i=Math.abs(e-1)<=r;Math.abs(e-1)<=this._scrollView.getScrollEndedEventTiming()&&!this._scrollView._isScrollEndedWithThresholdEventFired&&(this._scrollView._dispatchEvent("scroll-ended-with-threshold"),this._scrollView._isScrollEndedWithThresholdEventFired=!0),i&&(this._scrollView._autoScrolling=!1);var a=o.sub(this._scrollView.getContentPosition());this._scrollView._moveContent(this._scrollView._clampDelta(a),i),this._scrollView._dispatchEvent("scrolling"),this._scrollView._autoScrolling||(this._scrollView._isBouncing=!1,this._scrollView._scrolling=!1,this._scrollView._dispatchEvent("scroll-ended"))},e.prototype.setTemplateItem=function(t){if(t){var e=this;e._itemTmp=t,e._resizeMode==cc.Layout.ResizeMode.CHILDREN?e._itemSize=e._layout.cellSize:e._itemSize=cc.size(t.width,t.height);var n=t.getComponent(y.default),o=!1;switch(n||(o=!0),o&&(e.selectedMode=c.NONE),(n=t.getComponent(cc.Widget))&&n.enabled&&(e._needUpdateWidget=!0),e.selectedMode==c.MULT&&(e.multSelected=[]),e._align){case cc.Layout.Type.HORIZONTAL:e._colLineNum=1,e._sizeType=!1;break;case cc.Layout.Type.VERTICAL:e._colLineNum=1,e._sizeType=!0;break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var r=e.content.width-e._leftGap-e._rightGap;e._colLineNum=Math.floor((r+e._columnGap)/(e._itemSize.width+e._columnGap)),e._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var i=e.content.height-e._topGap-e._bottomGap;e._colLineNum=Math.floor((i+e._lineGap)/(e._itemSize.height+e._lineGap)),e._sizeType=!1}}}},e.prototype.checkInited=function(t){return void 0===t&&(t=!0),!!this._inited||(t&&cc.error("List initialization not completed!"),!1)},e.prototype._resizeContent=function(){var t,e=this;switch(e._align){case cc.Layout.Type.HORIZONTAL:if(e._customSize){var n=e._getFixedSize(null);t=e._leftGap+n.val+e._itemSize.width*(e._numItems-n.count)+e._columnGap*(e._numItems-1)+e._rightGap}else t=e._leftGap+e._itemSize.width*e._numItems+e._columnGap*(e._numItems-1)+e._rightGap;break;case cc.Layout.Type.VERTICAL:e._customSize?(n=e._getFixedSize(null),t=e._topGap+n.val+e._itemSize.height*(e._numItems-n.count)+e._lineGap*(e._numItems-1)+e._bottomGap):t=e._topGap+e._itemSize.height*e._numItems+e._lineGap*(e._numItems-1)+e._bottomGap;break;case cc.Layout.Type.GRID:switch(e.lackCenter&&(e.lackCenter=!1),e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var o=Math.ceil(e._numItems/e._colLineNum);t=e._topGap+e._itemSize.height*o+e._lineGap*(o-1)+e._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:var r=Math.ceil(e._numItems/e._colLineNum);t=e._leftGap+e._itemSize.width*r+e._columnGap*(r-1)+e._rightGap}}var i=e.content.getComponent(cc.Layout);if(i&&(i.enabled=!1),e._allItemSize=t,e._allItemSizeNoEdge=e._allItemSize-(e._sizeType?e._topGap+e._bottomGap:e._leftGap+e._rightGap),e.cyclic){var a=e._sizeType?e.node.height:e.node.width;e._cyclicPos1=0,a-=e._cyclicPos1,e._cyclicNum=Math.ceil(a/e._allItemSizeNoEdge)+1;var s=e._sizeType?e._lineGap:e._columnGap;e._cyclicPos2=e._cyclicPos1+e._allItemSizeNoEdge+s,e._cyclicAllItemSize=e._allItemSize+e._allItemSizeNoEdge*(e._cyclicNum-1)+s*(e._cyclicNum-1),e._cycilcAllItemSizeNoEdge=e._allItemSizeNoEdge*e._cyclicNum,e._cycilcAllItemSizeNoEdge+=s*(e._cyclicNum-1)}e._lack=!e.cyclic&&e._allItemSize<(e._sizeType?e.node.height:e.node.width);var c=e._lack&&e.lackCenter||!e.lackSlide?.1:0,u=e._lack?(e._sizeType?e.node.height:e.node.width)-c:e.cyclic?e._cyclicAllItemSize:e._allItemSize;u<0&&(u=0),e._sizeType?e.content.height=u:e.content.width=u},e.prototype._onScrolling=function(t){if(void 0===t&&(t=null),null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&t&&"scroll-ended"!=t.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){if(this.cyclic){var e=this.content.getPosition();e=this._sizeType?e.y:e.x;var n=this._allItemSizeNoEdge+(this._sizeType?this._lineGap:this._columnGap),o=this._sizeType?cc.v2(0,n):cc.v2(n,0);switch(this._alignCalcType){case 1:e>-this._cyclicPos1?(this.content.x=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(o))):e<-this._cyclicPos2&&(this.content.x=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(o)));break;case 2:e<this._cyclicPos1?(this.content.x=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(o))):e>this._cyclicPos2&&(this.content.x=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(o)));break;case 3:e<this._cyclicPos1?(this.content.y=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(o))):e>this._cyclicPos2&&(this.content.y=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(o)));break;case 4:e>-this._cyclicPos1?(this.content.y=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(o))):e<-this._cyclicPos2&&(this.content.y=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(o)))}}var r,i,a,s;if(this._calcViewPos(),this._sizeType?(r=this.viewTop,a=this.viewBottom):(i=this.viewRight,s=this.viewLeft),this._virtual){this.displayData=[];var c=void 0,u=0,l=this._numItems-1;if(this._customSize)for(var p=!1;u<=l&&!p;u++)switch(c=this._calcItemPos(u),this._align){case cc.Layout.Type.HORIZONTAL:c.right>=s&&c.left<=i?this.displayData.push(c):0!=u&&this.displayData.length>0&&(p=!0);break;case cc.Layout.Type.VERTICAL:c.bottom<=r&&c.top>=a?this.displayData.push(c):0!=u&&this.displayData.length>0&&(p=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:c.bottom<=r&&c.top>=a?this.displayData.push(c):0!=u&&this.displayData.length>0&&(p=!0);break;case cc.Layout.AxisDirection.VERTICAL:c.right>=s&&c.left<=i?this.displayData.push(c):0!=u&&this.displayData.length>0&&(p=!0)}}else{var h=this._itemSize.width+this._columnGap,f=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:u=(s-this._leftGap)/h,l=(i-this._leftGap)/h;break;case 2:u=(-i-this._rightGap)/h,l=(-s-this._rightGap)/h;break;case 3:u=(-r-this._topGap)/f,l=(-a-this._topGap)/f;break;case 4:u=(a-this._bottomGap)/f,l=(r-this._bottomGap)/f}for(u=Math.floor(u)*this._colLineNum,l=Math.ceil(l)*this._colLineNum,u<0&&(u=0),--l>=this._numItems&&(l=this._numItems-1);u<=l;u++)this.displayData.push(this._calcItemPos(u))}if(this._delRedundantItem(),this.displayData.length<=0||!this._numItems)return void(this._lastDisplayData=[]);this.firstListId=this.displayData[0].id,this.displayItemNum=this.displayData.length;var d=this._lastDisplayData.length,_=this.displayItemNum!=d;if(_&&(this.frameByFrameRenderNum>0&&this._lastDisplayData.sort(function(t,e){return t-e}),_=this.firstListId!=this._lastDisplayData[0]||this.displayData[this.displayItemNum-1].id!=this._lastDisplayData[d-1]),this._forceUpdate||_)if(this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._updateCounter=0,this._updateDone=!0);else{this._lastDisplayData=[];for(var y=0;y<this.displayItemNum;y++)this._createOrUpdateItem(this.displayData[y]);this._forceUpdate=!1}this._calcNearestItem()}}},e.prototype._calcViewPos=function(){var t=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=t.x>0?t.x:0,this.viewLeft=(t.x<0?-t.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=t.x<0?-t.x:0,this.viewRight=(t.x>0?-t.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=t.y<0?Math.abs(t.y):0,this.viewTop=(t.y>0?-t.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=t.y>0?Math.abs(t.y):0,this.viewBottom=(t.y<0?-t.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},e.prototype._calcItemPos=function(t){var e,n,o,r,i,a,s,c;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:if(this._customSize){var u=this._getFixedSize(t);i=this._leftGap+(this._itemSize.width+this._columnGap)*(t-u.count)+(u.val+this._columnGap*u.count),e=(l=this._customSize[t])>0?l:this._itemSize.width}else i=this._leftGap+(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;return this.lackCenter&&(i-=this._leftGap,i+=this.content.width/2-this._allItemSizeNoEdge/2),{id:t,left:i,right:a=i+e,x:i+this._itemTmp.anchorX*e,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:return this._customSize?(u=this._getFixedSize(t),a=-this._rightGap-(this._itemSize.width+this._columnGap)*(t-u.count)-(u.val+this._columnGap*u.count),e=(l=this._customSize[t])>0?l:this._itemSize.width):(a=-this._rightGap-(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width),this.lackCenter&&(a+=this._rightGap,a-=this.content.width/2-this._allItemSizeNoEdge/2),{id:t,right:a,left:i=a-e,x:i+this._itemTmp.anchorX*e,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:return this._customSize?(u=this._getFixedSize(t),o=-this._topGap-(this._itemSize.height+this._lineGap)*(t-u.count)-(u.val+this._lineGap*u.count),n=(l=this._customSize[t])>0?l:this._itemSize.height):(o=-this._topGap-(this._itemSize.height+this._lineGap)*t,n=this._itemSize.height),this.lackCenter&&(o+=this._topGap,o-=this.content.height/2-this._allItemSizeNoEdge/2),{id:t,top:o,bottom:r=o-n,x:this._itemTmp.x,y:r+this._itemTmp.anchorY*n};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:var l;if(this._customSize)u=this._getFixedSize(t),r=this._bottomGap+(this._itemSize.height+this._lineGap)*(t-u.count)+(u.val+this._lineGap*u.count),n=(l=this._customSize[t])>0?l:this._itemSize.height;else r=this._bottomGap+(this._itemSize.height+this._lineGap)*t,n=this._itemSize.height;return this.lackCenter&&(r-=this._bottomGap,r+=this.content.height/2-this._allItemSizeNoEdge/2),{id:t,top:o=r+n,bottom:r,x:this._itemTmp.x,y:r+this._itemTmp.anchorY*n}}case cc.Layout.Type.GRID:var p=Math.floor(t/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c=(r=(o=-this._topGap-(this._itemSize.height+this._lineGap)*p)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:o=(r=this._bottomGap+(this._itemSize.height+this._lineGap)*p)+this._itemSize.height,c=r+this._itemTmp.anchorY*this._itemSize.height}switch(s=this._leftGap+t%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:s+=this._itemTmp.anchorX*this._itemSize.width,s-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:s+=(1-this._itemTmp.anchorX)*this._itemSize.width,s-=(1-this.content.anchorX)*this.content.width,s*=-1}return{id:t,top:o,bottom:r,x:s,y:c};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:a=(i=this._leftGap+(this._itemSize.width+this._columnGap)*p)+this._itemSize.width,s=i+this._itemTmp.anchorX*this._itemSize.width,s-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:s=(i=(a=-this._rightGap-(this._itemSize.width+this._columnGap)*p)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,s+=(1-this.content.anchorX)*this.content.width}switch(c=-this._topGap-t%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c-=(1-this._itemTmp.anchorY)*this._itemSize.height,c+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:c-=this._itemTmp.anchorY*this._itemSize.height,c+=this.content.anchorY*this.content.height,c*=-1}return{id:t,left:i,right:a,x:s,y:c}}}},e.prototype._calcExistItemPos=function(t){var e=this.getItemByListId(t);if(!e)return null;var n={id:t,x:e.x,y:e.y};return this._sizeType?(n.top=e.y+e.height*(1-e.anchorY),n.bottom=e.y-e.height*e.anchorY):(n.left=e.x-e.width*e.anchorX,n.right=e.x+e.width*(1-e.anchorX)),n},e.prototype.getItemPos=function(t){return this._virtual?this._calcItemPos(t):this.frameByFrameRenderNum?this._calcItemPos(t):this._calcExistItemPos(t)},e.prototype._getFixedSize=function(t){if(!this._customSize)return null;null==t&&(t=this._numItems);var e=0,n=0;for(var o in this._customSize)parseInt(o)<t&&(e+=this._customSize[o],n++);return{val:e,count:n}},e.prototype._onScrollBegan=function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},e.prototype._onScrollEnded=function(){var t=this;if(t.curScrollIsTouch=!1,null!=t.scrollToListId){var e=t.getItemByListId(t.scrollToListId);t.scrollToListId=null,e&&cc.tween(e).to(.1,{scale:1.06}).to(.1,{scale:1}).start()}t._onScrolling(),t._slideMode!=s.ADHERING||t.adhering?t._slideMode==s.PAGE&&(null!=t._beganPos&&t.curScrollIsTouch?this._pageAdhere():t.adhere()):t.adhere()},e.prototype._onTouchStart=function(t,e){if(!this._scrollView.hasNestedViewGroup(t,e)&&(this.curScrollIsTouch=!0,t.eventPhase!==cc.Event.AT_TARGET||t.target!==this.node)){for(var n=t.target;null==n._listId&&n.parent;)n=n.parent;this._scrollItem=null!=n._listId?n:t.target}},e.prototype._onTouchUp=function(){var t=this;t._scrollPos=null,t._slideMode==s.ADHERING?(this.adhering&&(this._adheringBarrier=!0),t.adhere()):t._slideMode==s.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere()),this._scrollItem=null},e.prototype._onTouchCancelled=function(t,e){var n=this;n._scrollView.hasNestedViewGroup(t,e)||t.simulate||(n._scrollPos=null,n._slideMode==s.ADHERING?(n.adhering&&(n._adheringBarrier=!0),n.adhere()):n._slideMode==s.PAGE&&(null!=n._beganPos?n._pageAdhere():n.adhere()),this._scrollItem=null)},e.prototype._onSizeChanged=function(){this.checkInited(!1)&&this._onScrolling()},e.prototype._onItemAdaptive=function(t){if(!this._sizeType&&t.width!=this._itemSize.width||this._sizeType&&t.height!=this._itemSize.height){this._customSize||(this._customSize={});var e=this._sizeType?t.height:t.width;this._customSize[t._listId]!=e&&(this._customSize[t._listId]=e,this._resizeContent(),this.updateAll(),null!=this._scrollToListId&&(this._scrollPos=null,this.unschedule(this._scrollToSo),this.scrollTo(this._scrollToListId,Math.max(0,this._scrollToEndTime-(new Date).getTime()/1e3))))}},e.prototype._pageAdhere=function(){var t=this;if(t.cyclic||!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){var e=t._sizeType?t.viewTop:t.viewLeft,n=(t._sizeType?t.node.height:t.node.width)*t.pageDistance;if(Math.abs(t._beganPos-e)>n)switch(t._alignCalcType){case 1:case 4:t._beganPos>e?t.prePage(.5):t.nextPage(.5);break;case 2:case 3:t._beganPos<e?t.prePage(.5):t.nextPage(.5)}else t.elasticTop<=0&&t.elasticRight<=0&&t.elasticBottom<=0&&t.elasticLeft<=0&&t.adhere();t._beganPos=null}},e.prototype.adhere=function(){var t=this;if(t.checkInited()&&!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){t.adhering=!0,t._calcNearestItem();var e=(t._sizeType?t._topGap:t._leftGap)/(t._sizeType?t.node.height:t.node.width);t.scrollTo(t.nearestListId,.7,e)}},e.prototype.update=function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var t=this._updateCounter+this.frameByFrameRenderNum>this.displayItemNum?this.displayItemNum:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++){var n=this.displayData[e];n&&this._createOrUpdateItem(n)}this._updateCounter>=this.displayItemNum-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._doneAfterUpdate=!1):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem(),this.slideMode==s.PAGE&&(this.curPageNum=this.nearestListId)):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(t=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++)this._createOrUpdateItem2(e);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem(),this.slideMode==s.PAGE&&(this.curPageNum=this.nearestListId)},e.prototype._createOrUpdateItem=function(t){var e=this.getItemByListId(t.id);if(e)this._forceUpdate&&this.renderEvent&&(e.setPosition(cc.v2(t.x,t.y)),this._resetItemSize(e),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id%this._actualNumItems));else{var n=this._pool.size()>0;if(e=n?this._pool.get():cc.instantiate(this._itemTmp),n&&cc.isValid(e)||(e=cc.instantiate(this._itemTmp),n=!1),e._listId!=t.id&&(e._listId=t.id,e.setContentSize(this._itemSize)),e.setPosition(cc.v2(t.x,t.y)),this._resetItemSize(e),this.content.addChild(e),n&&this._needUpdateWidget){var o=e.getComponent(cc.Widget);o&&o.updateAlignment()}e.setSiblingIndex(this.content.childrenCount-1);var r=e.getComponent(y.default);e.listItem=r,r&&(r.listId=t.id,r.list=this,r._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id%this._actualNumItems)}this._resetItemSize(e),this._updateListItem(e.listItem),this._lastDisplayData.indexOf(t.id)<0&&this._lastDisplayData.push(t.id)},e.prototype._createOrUpdateItem2=function(t){var e,n=this.content.children[t];n?this._forceUpdate&&this.renderEvent&&(n._listId=t,e&&(e.listId=t),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,t%this._actualNumItems)):((n=cc.instantiate(this._itemTmp))._listId=t,this.content.addChild(n),e=n.getComponent(y.default),n.listItem=e,e&&(e.listId=t,e.list=this,e._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,t%this._actualNumItems)),this._updateListItem(e),this._lastDisplayData.indexOf(t)<0&&this._lastDisplayData.push(t)},e.prototype._updateListItem=function(t){if(t&&this.selectedMode>c.NONE){var e=t.node;switch(this.selectedMode){case c.SINGLE:t.selected=this.selectedId==e._listId;break;case c.MULT:t.selected=this.multSelected.indexOf(e._listId)>=0}}},e.prototype._resetItemSize=function(){},e.prototype._updateItemPos=function(t){var e=isNaN(t)?t:this.getItemByListId(t),n=this.getItemPos(e._listId);e.setPosition(n.x,n.y)},e.prototype.setMultSelected=function(t,e){var n=this;if(n.checkInited()){if(Array.isArray(t)||(t=[t]),null==e)n.multSelected=t;else{var o=void 0,r=void 0;if(e)for(var i=t.length-1;i>=0;i--)o=t[i],(r=n.multSelected.indexOf(o))<0&&n.multSelected.push(o);else for(i=t.length-1;i>=0;i--)o=t[i],(r=n.multSelected.indexOf(o))>=0&&n.multSelected.splice(r,1)}n._forceUpdate=!0,n._onScrolling()}},e.prototype.getMultSelected=function(){return this.multSelected},e.prototype.hasMultSelected=function(t){return this.multSelected&&this.multSelected.indexOf(t)>=0},e.prototype.updateItem=function(t){if(this.checkInited()){Array.isArray(t)||(t=[t]);for(var e=0,n=t.length;e<n;e++){var o=t[e],r=this.getItemByListId(o);r&&cc.Component.EventHandler.emitEvents([this.renderEvent],r,o%this._actualNumItems)}}},e.prototype.updateAll=function(){this.checkInited()&&(this.numItems=this.numItems)},e.prototype.getItemByListId=function(t){if(this.content)for(var e=this.content.childrenCount-1;e>=0;e--){var n=this.content.children[e];if(n._listId==t)return n}},e.prototype._getOutsideItem=function(){for(var t,e=[],n=this.content.childrenCount-1;n>=0;n--)t=this.content.children[n],this.displayData.find(function(e){return e.id==t._listId})||e.push(t);return e},e.prototype._delRedundantItem=function(){if(this._virtual)for(var t=this._getOutsideItem(),e=t.length-1;e>=0;e--){var n=t[e];if(!this._scrollItem||n._listId!=this._scrollItem._listId){n.isCached=!0,this._pool.put(n);for(var o=this._lastDisplayData.length-1;o>=0;o--)if(this._lastDisplayData[o]==n._listId){this._lastDisplayData.splice(o,1);break}}}else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},e.prototype._delSingleItem=function(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null},e.prototype.aniDelItem=function(t,e,n){var o=this;if(!o.checkInited()||o.cyclic||!o._virtual)return cc.error("This function is not allowed to be called!");if(!e)return cc.error("CallFunc are not allowed to be NULL, You need to delete the corresponding index in the data array in the CallFunc!");if(o._aniDelRuning)return cc.warn("Please wait for the current deletion to finish!");var r,i=o.getItemByListId(t);if(i){r=i.getComponent(y.default),o._aniDelRuning=!0,o._aniDelCB=e,o._aniDelItem=i,o._aniDelBeforePos=i.position,o._aniDelBeforeScale=i.scale;var a=o.displayData[o.displayData.length-1].id,s=r.selected;r.showAni(n,function(){var n,r,u;if(a<o._numItems-2&&(n=a+1),null!=n){var l=o._calcItemPos(n);o.displayData.push(l),o._virtual?o._createOrUpdateItem(l):o._createOrUpdateItem2(n)}else o._numItems--;if(o.selectedMode==c.SINGLE)s?o._selectedId=-1:o._selectedId-1>=0&&o._selectedId--;else if(o.selectedMode==c.MULT&&o.multSelected.length){var p=o.multSelected.indexOf(t);p>=0&&o.multSelected.splice(p,1);for(var h=o.multSelected.length-1;h>=0;h--)(_=o.multSelected[h])>=t&&o.multSelected[h]--}if(o._customSize){o._customSize[t]&&delete o._customSize[t];var f={},d=void 0;for(var _ in o._customSize){d=o._customSize[_];var y=parseInt(_);f[y-(y>=t?1:0)]=d}o._customSize=f}for(h=null!=n?n:a;h>=t+1;h--)if(i=o.getItemByListId(h)){var v=o._calcItemPos(h-1);r=cc.tween(i).to(.2333,{position:cc.v2(v.x,v.y)}),h<=t+1&&(u=!0,r.call(function(){o._aniDelRuning=!1,e(t),delete o._aniDelCB})),r.start()}u||(o._aniDelRuning=!1,e(t),o._aniDelCB=null)},!0)}else e(t)},e.prototype.scrollTo=function(t,e,n,o){void 0===e&&(e=.5),void 0===n&&(n=null),void 0===o&&(o=!1);var r=this;if(r.checkInited(!1)){null==e?e=.5:e<0&&(e=0),t<0?t=0:t>=r._numItems&&(t=r._numItems-1),!r._virtual&&r._layout&&r._layout.enabled&&r._layout.updateLayout();var i,a,s=r.getItemPos(t);if(!s)return!1;switch(r._alignCalcType){case 1:i=s.left,i-=null!=n?r.node.width*n:r._leftGap,s=cc.v2(i,0);break;case 2:i=s.right-r.node.width,i+=null!=n?r.node.width*n:r._rightGap,s=cc.v2(i+r.content.width,0);break;case 3:a=s.top,a+=null!=n?r.node.height*n:r._topGap,s=cc.v2(0,-a);break;case 4:a=s.bottom+r.node.height,a-=null!=n?r.node.height*n:r._bottomGap,s=cc.v2(0,-a+r.content.height)}var c=r.content.getPosition();c=Math.abs(r._sizeType?c.y:c.x);var u=r._sizeType?s.y:s.x;Math.abs((null!=r._scrollPos?r._scrollPos:c)-u)>.5&&(r._scrollView.scrollToOffset(s,e),r._scrollToListId=t,r._scrollToEndTime=(new Date).getTime()/1e3+e,r._scrollToSo=r.scheduleOnce(function(){if(r._adheringBarrier||(r.adhering=r._adheringBarrier=!1),r._scrollPos=r._scrollToListId=r._scrollToEndTime=r._scrollToSo=null,o){var e=r.getItemByListId(t);e&&cc.tween(e).to(.1,{scale:1.05}).to(.1,{scale:1}).start()}},e+.1),e<=0&&r._onScrolling())}},e.prototype._calcNearestItem=function(){var t,e,n,o,r,i,a=this;a.nearestListId=null,a._virtual&&a._calcViewPos(),n=a.viewTop,o=a.viewRight,r=a.viewBottom,i=a.viewLeft;for(var s=!1,c=0;c<a.content.childrenCount&&!s;c+=a._colLineNum)if(t=a._virtual?a.displayData[c]:a._calcExistItemPos(c))switch(e=a._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,a._alignCalcType){case 1:t.right>=i&&(a.nearestListId=t.id,i>e&&(a.nearestListId+=a._colLineNum),s=!0);break;case 2:t.left<=o&&(a.nearestListId=t.id,o<e&&(a.nearestListId+=a._colLineNum),s=!0);break;case 3:t.bottom<=n&&(a.nearestListId=t.id,n<e&&(a.nearestListId+=a._colLineNum),s=!0);break;case 4:t.top>=r&&(a.nearestListId=t.id,r>e&&(a.nearestListId+=a._colLineNum),s=!0)}if((t=a._virtual?a.displayData[a.displayItemNum-1]:a._calcExistItemPos(a._numItems-1))&&t.id==a._numItems-1)switch(e=a._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,a._alignCalcType){case 1:o>e&&(a.nearestListId=t.id);break;case 2:i<e&&(a.nearestListId=t.id);break;case 3:r<e&&(a.nearestListId=t.id);break;case 4:n>e&&(a.nearestListId=t.id)}},e.prototype.prePage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum-1,t)},e.prototype.nextPage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum+1,t)},e.prototype.skipPage=function(t,e){var n=this;if(n.checkInited())return n._slideMode!=s.PAGE?cc.error("This function is not allowed to be called, Must SlideMode = PAGE!"):void(t<0||t>=n._numItems||n.curPageNum!=t&&(n.curPageNum=t,n.pageChangeEvent&&cc.Component.EventHandler.emitEvents([n.pageChangeEvent],t),n.scrollTo(t,e)))},e.prototype.calcCustomSize=function(t){var e=this;if(e.checkInited()){if(!e._itemTmp)return cc.error("Unset template item!");if(!e.renderEvent)return cc.error("Unset Render-Event!");e._customSize={};var n=cc.instantiate(e._itemTmp);e.content.addChild(n);for(var o=0;o<t;o++)cc.Component.EventHandler.emitEvents([e.renderEvent],n,o),n.height==e._itemSize.height&&n.width==e._itemSize.width||(e._customSize[o]=e._sizeType?n.height:n.width);return Object.keys(e._customSize).length||(e._customSize=null),n.removeFromParent(),n.destroy&&n.destroy(),e._customSize}},i([p({type:cc.Enum(a),tooltip:!1})],e.prototype,"templateType",void 0),i([p({type:cc.Node,tooltip:!1,visible:function(){return this.templateType==a.NODE}})],e.prototype,"tmpNode",void 0),i([p({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType==a.PREFAB}})],e.prototype,"tmpPrefab",void 0),i([p()],e.prototype,"_slideMode",void 0),i([p({type:cc.Enum(s),tooltip:!1})],e.prototype,"slideMode",null),i([p({type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this._slideMode==s.PAGE}})],e.prototype,"pageDistance",void 0),i([p({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this._slideMode==s.PAGE}})],e.prototype,"pageChangeEvent",void 0),i([p()],e.prototype,"_virtual",void 0),i([p({type:cc.Boolean,tooltip:!1})],e.prototype,"virtual",null),i([p({tooltip:!1,visible:function(){var t=this.slideMode==s.NORMAL;return t||(this.cyclic=!1),t}})],e.prototype,"cyclic",void 0),i([p({tooltip:!1,visible:function(){return this.virtual}})],e.prototype,"lackCenter",void 0),i([p({tooltip:!1,visible:function(){var t=this.virtual&&!this.lackCenter;return t||(this.lackSlide=!1),t}})],e.prototype,"lackSlide",void 0),i([p({type:cc.Integer})],e.prototype,"_updateRate",void 0),i([p({type:cc.Integer,range:[0,6,1],tooltip:!1,slide:!0})],e.prototype,"updateRate",null),i([p({type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0})],e.prototype,"frameByFrameRenderNum",void 0),i([p({type:cc.Component.EventHandler,tooltip:!1})],e.prototype,"renderEvent",void 0),i([p({type:cc.Enum(c),tooltip:!1})],e.prototype,"selectedMode",void 0),i([p({tooltip:!1,visible:function(){return this.selectedMode==c.SINGLE}})],e.prototype,"repeatEventSingle",void 0),i([p({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this.selectedMode>c.NONE}})],e.prototype,"selectedEvent",void 0),i([p({serializable:!1})],e.prototype,"_numItems",void 0),i([l,h(),f("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List"),_(cc.ScrollView),d(-5e3)],e)}(cc.Component);n.default=v,cc._RF.pop()},{"./ListItem":"ListItem"}],Main:[function(t,e,n){"use strict";cc._RF.push(e,"e1b90/rohdEk4SdmmEZANaD","Main");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./Common/Components/PropController"),s=t("./UIScript/UIHome"),c=cc._decorator,u=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.building=null,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){s.default.open()},e.prototype.onDestroy=function(){},i([l(a.default)],e.prototype,"building",void 0),i([u],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./Common/Components/PropController":"PropController","./UIScript/UIHome":"UIHome"}],MaskPlus:[function(t,e,n){"use strict";cc._RF.push(e,"a1aa9cyaadEZ67qCIT1FuzO","MaskPlus");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.MaskPlusType=void 0;var a,s=t("../Utils/CommonUtils");(function(t){t[t.RECT=0]="RECT",t[t.ELLIPSE=1]="ELLIPSE",t[t.IMAGE_STENCIL=2]="IMAGE_STENCIL",t[t.Polygon=3]="Polygon"})(a=n.MaskPlusType||(n.MaskPlusType={}));var c=new cc.Vec2,u=new cc.Mat4,l=[];function p(t,e,n){l.length=0;for(var o=2*Math.PI/n,r=0;r<n;++r)l.push(cc.v2(e.x*Math.cos(o*r)+t.x,e.y*Math.sin(o*r)+t.y));return l}var h=function(){},f=cc._decorator,d=f.ccclass,_=f.property,y=f.executeInEditMode,v=f.menu,g=f.help,m=f.inspector,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._type=0,e._polygon=[],e.ellipse=new h,e}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){if(this._type!==t&&this._resetAssembler(),this._type=t,this._type===a.Polygon&&0===this._polygon.length){var e=this.getNodeRect(),n=e[0],o=e[1],r=e[2],i=e[3];this._polygon.push(cc.v2(n,o),cc.v2(n+r,o),cc.v2(n+r,o+i),cc.v2(n,o+i))}this._type!==a.IMAGE_STENCIL&&(this.spriteFrame=null,this.alphaThreshold=0,this._updateGraphics()),this._activateMaterial()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygon",{get:function(){return this._polygon},set:function(t){this._polygon=t,this._updateGraphics()},enumerable:!1,configurable:!0}),e.prototype.setEllipse=function(t,e,n){this.ellipse.center=t,this.ellipse.r=e,this.ellipse.segments=n||this.segements},e.prototype._updateGraphics=function(){this.node;var t=this._graphics;t.clear(!1);var e=this.getNodeRect(),n=e[0],o=e[1],r=e[2],i=e[3];if(this._type===a.RECT)t.rect(n,o,r,i);else if(this._type===a.ELLIPSE){for(var s=p(this.ellipse.center||cc.v2(n+r/2,o+i/2),this.ellipse.r||{x:r/2,y:i/2},this.ellipse.segments||this._segments),c=0;c<s.length;++c){var u=s[c];0===c?t.moveTo(u.x,u.y):t.lineTo(u.x,u.y)}t.close()}else if(this._type===a.Polygon){for(0===this._polygon.length&&this._polygon.push(cc.v2(0,0)),t.moveTo(this._polygon[0].x,this._polygon[0].y),c=1;c<this._polygon.length;c++)t.lineTo(this._polygon[c].x,this._polygon[c].y);t.lineTo(this._polygon[0].x,this._polygon[0].y)}cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?t.stroke():t.fill()},e.prototype._hitTest=function(t){var e=this.node,n=e.getContentSize(),o=n.width,r=n.height,i=c;if(e._updateWorldMatrix(),!cc.Mat4.invert(u,e._worldMatrix))return!1;var l=cc.v2(0,0);cc.Vec2.transformMat4(l,t,u),i.x=l.x+e._anchorPoint.x*o,i.y=l.y+e._anchorPoint.y*r;var p=!1;if(this.type===a.RECT||this.type===a.IMAGE_STENCIL)p=i.x>=0&&i.y>=0&&i.x<=o&&i.y<=r;else if(this.type===a.ELLIPSE){var h=o/2,f=r/2,d=i.x-.5*o,_=i.y-.5*r;p=d*d/(h*h)+_*_/(f*f)<1}else this.type===a.Polygon&&(p=s.CommonUtils.isInPolygon(l,this.polygon));return this.inverted&&(p=!p),p},e.prototype.getNodeRect=function(){var t=this.node._contentSize.width,e=this.node._contentSize.height;return[-t*this.node._anchorPoint.x,-e*this.node._anchorPoint.y,t,e]},e.Type=a,i([_({type:cc.Enum(a),override:!0})],e.prototype,"_type",void 0),i([_({type:cc.Enum(a),override:!0})],e.prototype,"type",null),i([_({type:[cc.Vec2],serializable:!0})],e.prototype,"_polygon",void 0),i([_({type:[cc.Vec2],serializable:!0})],e.prototype,"polygon",null),i([d,v("i18n:MAIN_MENU.component.renderers/MaskPlus"),y,g("i18n:COMPONENT.help_url.mask"),m("packages://maskplus/inspector.js")],e)}(cc.Mask);n.default=b,cc.MaskPlus=b,cc._RF.pop()},{"../Utils/CommonUtils":"CommonUtils"}],MatchUtils:[function(t,e,n){"use strict";cc._RF.push(e,"ce2a5iLaMdGPJK3POfEqDgZ","MatchUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.MathUtils=void 0;var o=function(){function t(){}return t.clamp=function(t,e,n){if(t>e){var o=t;t=e,e=o}return n<t?t:n>e?e:n},t.getAngle=function(t){return 180*t/Math.PI},t.getRadian=function(t){return t/180*Math.PI},t.getRadian2=function(t,e,n,o){var r=n-t,i=o-e;return Math.atan2(i,r)},t.getDistance=function(t,e,n,o){var r=n-t,i=o-e,a=r*r+i*i;return Math.sqrt(a)},t.toFixedStr=function(t,e){return t.toFixed(e).replace(/\.?0*$/,"")},t.toPercentStr=function(t,e){return this.toFixedStr(100*t,e)+"%"},t.toFixedWan=function(e){var n=1e4*Math.floor(e/1e4);return e>1e5?t.toFixedStr(n/1e5*10,1)+"\u4e07":e.toString()},t.getFinalValueBasedOnParams=function(t,e,n){if(e.length<5)return 0;var o=e[4]*(e[0]*Math.pow(t,e[3])+e[1]*t+e[2]);return n&&(o=Math.ceil(o)),o},t.limit=function(t,e){t=Math.min(t,e);var n=(e=Math.max(t,e))-t;return t+Math.random()*n},t.limitInteger=function(e,n){return Math.round(t.limit(e,n))},t.randomArray=function(t){return t[Math.floor(Math.random()*t.length)]},t}();n.MathUtils=o,cc._RF.pop()},{}],Measure:[function(t,e,n){"use strict";cc._RF.push(e,"88f3djvTDJHMY+UnVZdcrvg","Measure"),Object.defineProperty(n,"__esModule",{value:!0}),n.measure=void 0,n.measure=function(t,e,n){var o=n.value;return n.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=performance.now(),i=o.apply(this,t),a=performance.now();return console.log(e+" Execution time: "+(a-r).toFixed(2)+" milliseconds"),i},n},cc._RF.pop()},{}],MenuItem:[function(t,e,n){"use strict";cc._RF.push(e,"8f753evmXpEpJHipBbmNcOy","MenuItem");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../UIScript/UIWorkDesk"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.desk=null,e.itemData=null,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(t){this.desk=t},e.prototype.start=function(){this.registerEvent()},e.prototype.registerEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.desk.dragMove.bind(this.desk),this),this.node.on(cc.Node.EventType.TOUCH_END,this.desk.dragEnd.bind(this.desk),this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.desk.dragEnd.bind(this.desk),this)},e.prototype.unRegisterEvent=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.desk.dragMove.bind(this.desk),this),this.node.off(cc.Node.EventType.TOUCH_END,this.desk.dragEnd.bind(this.desk),this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.desk.dragEnd.bind(this.desk),this)},e.prototype.touchStart=function(t){this.desk.dragNode(t,this,a.DragType.Menu)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.unRegisterEvent()},i([u({type:cc.Sprite,tooltip:!1})],e.prototype,"icon",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../UIScript/UIWorkDesk":"UIWorkDesk"}],MeshAssembler:[function(t,e,n){"use strict";cc._RF.push(e,"9ba87xSitVM9boajZ/wQdaJ","MeshAssembler");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=cc.gfx,a=new i.VertexFormat([{name:i.ATTR_POSITION,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_UV0,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_COLOR,type:i.ATTR_TYPE_UINT8,num:4,normalize:!0}]),s=function(t){function e(){var e=t.call(this)||this;return e.row=0,e.col=0,e._realRow=0,e._realCol=0,e.stepRow=0,e.StepCol=0,e.verticesCount=4,e.indicesCount=6,e.floatsPerVert=5,e.uvOffset=2,e.colorOffset=4,e._renderData=null,e._local=null,e._renderData=new cc.RenderData,e._renderData.init(e),e.initData(),e.initLocal(),e}return r(e,t),Object.defineProperty(e.prototype,"verticesFloats",{get:function(){return this.verticesCount*this.floatsPerVert},enumerable:!1,configurable:!0}),e.prototype.getTriangleCount=function(){return(this.row-1)*(this.col-1)*2},e.prototype.getTriangle=function(t){if(t<0||t>=this.getTriangleCount())return null;var e=this._renderData.vDatas[0],n=Math.floor(t/this._realCol)*this._realCol*2+t;return t%2==0?[cc.v2(e[n*this.floatsPerVert],e[n*this.floatsPerVert+1]),cc.v2(e[(n+1)*this.floatsPerVert],e[(n+1)*this.floatsPerVert+1]),cc.v2(e[(n+this._realCol)*this.floatsPerVert],e[(n+this._realCol)*this.floatsPerVert+1])]:[cc.v2(e[n*this.floatsPerVert],e[n*this.floatsPerVert+1]),cc.v2(e[(n+this._realCol)*this.floatsPerVert],e[(n+this._realCol)*this.floatsPerVert+1]),cc.v2(e[(n+this._realCol-1)*this.floatsPerVert],e[(n+this._realCol-1)*this.floatsPerVert+1])]},e.prototype.setTriangle=function(t,e,n){if(!(t<0||t>=this.getTriangleCount())){var o=this._renderData.vDatas[0],r=Math.floor(t/this._realCol)*this._realCol*2+t;t%2==0?(o[r*this.floatsPerVert]=e[0].x,o[r*this.floatsPerVert+1]=e[0].y,o[(r+1)*this.floatsPerVert]=e[1].x,o[(r+1)*this.floatsPerVert+1]=e[1].y,o[(r+this._realCol)*this.floatsPerVert]=e[2].x,o[(r+this._realCol)*this.floatsPerVert+1]=e[2].y):(o[r*this.floatsPerVert]=e[0].x,o[r*this.floatsPerVert+1]=e[0].y,o[(r+this._realCol)*this.floatsPerVert]=e[1].x,o[(r+this._realCol)*this.floatsPerVert+1]=e[1].y,o[(r+this._realCol-1)*this.floatsPerVert]=e[2].x,o[(r+this._realCol-1)*this.floatsPerVert+1]=e[2].y),n._vertsDirty=!0}},e.prototype.getRectCount=function(){return(this.row-1)*(this.col-1)},e.prototype.getRect=function(t){if(t<0||t>=this.getRectCount())return null;var e=this._renderData.vDatas[0],n=Math.floor(2*t/this._realCol)*this._realCol*2+2*t%this._realCol;return[cc.v2(e[n*this.floatsPerVert],e[n*this.floatsPerVert+1]),cc.v2(e[(n+1)*this.floatsPerVert],e[(n+1)*this.floatsPerVert+1]),cc.v2(e[(n+this._realCol)*this.floatsPerVert],e[(n+this._realCol)*this.floatsPerVert+1]),cc.v2(e[(n+this._realCol+1)*this.floatsPerVert],e[(n+this._realCol+1)*this.floatsPerVert+1])]},e.prototype.setRect=function(t,e){if(!(t<0||t>=this.getRectCount())){var n=this._renderData.vDatas[0],o=Math.floor(2*t/this._realCol)*this._realCol*2+2*t%this._realCol;n[o*this.floatsPerVert]=e[0].x,n[o*this.floatsPerVert+1]=e[0].y,n[(o+1)*this.floatsPerVert]=e[1].x,n[(o+1)*this.floatsPerVert+1]=e[1].y,n[(o+this._realCol)*this.floatsPerVert]=e[2].x,n[(o+this._realCol)*this.floatsPerVert+1]=e[2].y,n[(o+this._realCol+1)*this.floatsPerVert]=e[3].x,n[(o+this._realCol+1)*this.floatsPerVert+1]=e[3].y}},e.prototype.resetData=function(t){if(t.texture){var e=t.texture.width,n=t.texture.height,o=t.step;this.row=Math.floor(n/o)+1,this.col=Math.floor(e/o)+1,this.stepRow=n/(this.row-1),this.StepCol=e/(this.col-1),this._realRow=2+2*(this.row-2),this._realCol=2+2*(this.col-2),cc.log(this.row,this.col),this.verticesCount=this._realRow*this._realCol,this.indicesCount=(this.row-1)*(this.col-1)*6,this._renderData.clear(),this.initData()}},e.prototype.getVfmt=function(){return a},e.prototype.getBuffer=function(){return cc.renderer._handle.getBuffer("mesh",this.getVfmt())},e.prototype.initData=function(){this._renderData.createQuadData(0,this.verticesFloats,this.indicesCount);for(var t=this._renderData.iDatas[0],e=0,n=0;n<this.row-1;++n)for(var o=0;o<this.col-1;++o){var r=2*n*this._realCol+2*o;t[e++]=r,t[e++]=r+1,t[e++]=r+this._realCol,t[e++]=r+1,t[e++]=r+this._realCol+1,t[e++]=r+this._realCol}},e.prototype.initLocal=function(){this._local=[],this._local.length=4},e.prototype.updateColor=function(t,e){var n=this._renderData.uintVDatas[0];if(n){e=null!=e?e:t.node.color._val;for(var o=this.floatsPerVert,r=this.colorOffset,i=0;i<this.verticesCount;i++)n[r+i*o]=e}},e.prototype.updateUVs=function(){for(var t=this,e=this.uvOffset,n=this.floatsPerVert,o=this._renderData.vDatas[0],r=0,i=function(t,r,i){var a=i*n;o[a+e]=t,o[a+e+1]=r},a=function(e){for(var n=0;n<t.col;n++){var o=n/(t.col-1);i(o,e,r++),0!==n&&n!==t.col-1&&i(o,e,r++)}},s=0;s<this.row;s++){var c=1-s/(this.row-1);a(c),0!==s&&s!==this.row-1&&a(c)}},e.prototype.updateWorldVertsWebGL=function(t){var e=this,n=this._local,o=this._renderData.vDatas[0],r=t.node._worldMatrix.m,i=r[0],a=r[1],s=r[4],c=r[5],u=r[12],l=r[13],p=n[0],h=n[2],f=n[1],d=n[3],_=1===i&&0===a&&0===s&&1===c,y=this.floatsPerVert,v=0,g=function(t,e,n){var r=y*n;o[r]=t+u,o[r+1]=e+l},m=function(t,e,n){var r=n*y;o[r]=t*i+e*s+u,o[r+1]=t*a+e*c+l},b=function(t,n){for(var o=0;o<e.col;o++){var r=o==e.col-1?h:p+o*e.StepCol;n(r,t,v++),0!==o&&o!==e.col-1&&n(r,t,v++)}};if(_)for(var w=0;w<this.row;w++)b(T=w==this.row-1?d:f+w*this.stepRow,g),0!==w&&w!==this.row-1&&b(T,g);else for(w=0;w<this.row;w++){var T;b(T=w==this.row-1?d:f+w*this.stepRow,m),0!==w&&w!==this.row-1&&b(T,m)}},e.prototype.updateWorldVertsNative=function(){var t=this._local,e=this._renderData.vDatas[0],n=this.floatsPerVert,o=t[0],r=t[2],i=t[1],a=t[3],s=0;e[s]=o,e[s+1]=i,e[s+=n]=r,e[s+1]=i,e[s+=n]=o,e[s+1]=a,e[s+=n]=r,e[s+1]=a},e.prototype.updateWorldVerts=function(t){this.updateWorldVertsWebGL(t)},e.prototype.updateVerts=function(t){var e,n,o,r,i=t.node,a=i.width,s=i.height,c=i.anchorX*a,u=i.anchorY*s;e=-c,n=-u,o=a-c,r=s-u;var l=this._local;l[0]=e,l[1]=n,l[2]=o,l[3]=r,this.updateWorldVerts(t)},e.prototype.updateRenderData=function(t){t._vertsDirty&&(this.resetData(t),this.updateUVs(t),this.updateVerts(t),t._vertsDirty=!1)},e.prototype.fillBuffers=function(t,e){e.worldMatDirty&&this.updateWorldVerts(t);var n=this._renderData,o=n.vDatas[0],r=n.iDatas[0],i=this.getBuffer(),a=i.request(this.verticesCount,this.indicesCount),s=a.byteOffset>>2,c=i._vData;o.length+s>c.length?c.set(o.subarray(0,c.length-s),s):c.set(o,s);for(var u=i._iData,l=a.indiceOffset,p=a.vertexOffset,h=0,f=r.length;h<f;h++)u[l++]=p+r[h]},e.prototype.packToDynamicAtlas=function(t,e){if(!e._original&&cc.dynamicAtlasManager&&e._texture.packable){var n=cc.dynamicAtlasManager.insertSpriteFrame(e);n&&e._setDynamicAtlasFrame(n)}var o=t._materials[0];o&&o.getProperty("texture")!==e._texture&&(t._vertsDirty=!0,t._updateMaterial())},e}(cc.Assembler);n.default=s,cc._RF.pop()},{}],MeshTexture:[function(t,e,n){"use strict";cc._RF.push(e,"1acd7QWgaNGAIz6Mkh6ICTD","MeshTexture");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Assemblers/MeshAssembler"),u=cc._decorator,l=u.ccclass,p=u.menu,h=u.executeInEditMode,f=u.mixins,d=u.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._texture=null,e.step=10,e.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,e.dstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA,e._assembler=null,e}return r(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this.node.width=t.width,this.node.height=t.height,this._updateMaterial()},enumerable:!1,configurable:!0}),e.prototype._updateVerts=function(){this.setVertsDirty()},e.prototype._updateMaterial=function(){var t=this._texture,e=this.getMaterial(0);e&&(void 0!==e.getDefine("USE_TEXTURE")&&e.define("USE_TEXTURE",!0),e.setProperty("texture",t)),this.__proto__._updateBlendFunc.call(this),this.setVertsDirty()},e.prototype._validateRender=function(){},e.prototype._resetAssembler=function(){(this._assembler=window.textureAssember=new c.default).init(this),this._updateColor(),this.setVertsDirty()},e.prototype.getPolygonCenter=function(t){for(var e=0,n=0,o=0;o<t.length;o++)e+=t[o].x,n+=t[o].y;return e/=t.length,n/=t.length,cc.v2(e,n)},e.prototype.tweenVec2=function(t,e,n,o,r,i){void 0===i&&(i=0);var a={_value:t};Object.defineProperty(a,"position",{get:function(){return a._value},set:function(t){a._value=t,o&&o(a._value)}});var s=cc.tween(a).delay(i).to(n,{position:e}).call(r);return s.start(),s},e.prototype.tweenVec2Bezier=function(t,e,n,o,r,i){void 0===i&&(i=0);var a={_value:t};Object.defineProperty(a,"position",{get:function(){return a._value},set:function(t){a._value=t,o&&o(a._value)}});var s=cc.tween(a).delay(i).bezierTo(n,cc.v2(t.x,t.y+100),cc.v2(e.x,e.y+100),e).call(r);return s.start(),s},e.prototype.doScaleEffect=function(){var t=this;return new Promise(function(e){for(var n=t._assembler.getRectCount(),o=t.node.convertToWorldSpaceAR(cc.v2(0,0)),r=function(r){var i=t._assembler.getRect(r),a=t.getPolygonCenter(i).sub(o).normalize();t.tweenVec2(cc.v2(0,0),a.mul(1.5),.3,function(e){t._assembler.setRect(r,[i[0].addSelf(e),i[1].addSelf(e),i[2].addSelf(e),i[3].addSelf(e)])},function(){r==n-1&&e(!0)})},i=0;i<n;i++)r(i)})},e.prototype.doTextureMove=function(t,e){return a(this,void 0,void 0,function(){var t,n,o,r,i,a=this;return s(this,function(){for(t=cc.v2(-1,0),"right"==e&&(t=cc.v2(1,0)),n=this._assembler.getRectCount(),this.node.convertToWorldSpaceAR(cc.v2(0,0)),o=function(e){var o=n-e-1,i=r._assembler.getRect(o),s=t.mul(400);r.tweenVec2Bezier(cc.v2(0,0),s,1,function(t){a._assembler.setRect(o,[i[0].add(t),i[1].add(t),i[2].add(t),i[3].add(t)])},function(){a._assembler.setRect(o,[i[0].add(s),i[1].add(s),i[2].add(s),i[3].add(s)])},.1*Math.floor(e/40))},r=this,i=0;i<n;i++)o(i);return[2]})})},i([d(cc.Texture2D)],e.prototype,"_texture",void 0),i([d(cc.Texture2D)],e.prototype,"texture",null),i([d({displayName:"\u6b65\u957f"})],e.prototype,"step",void 0),i([d({type:cc.Enum(cc.macro.BlendFactor),override:!0})],e.prototype,"srcBlendFactor",void 0),i([d({type:cc.Enum(cc.macro.BlendFactor),override:!0})],e.prototype,"dstBlendFactor",void 0),i([l,h,p("i18n:MAIN_MENU.component.ui/MeshTexture"),f(cc.BlendFunc)],e)}(cc.RenderComponent);n.default=_,cc._RF.pop()},{"../Assemblers/MeshAssembler":"MeshAssembler"}],MessageInfo:[function(t,e,n){"use strict";cc._RF.push(e,"19cfc8vrhdFtKaKI74EWCyv","MessageInfo"),Object.defineProperty(n,"__esModule",{value:!0}),n.MessageInfo=void 0;var o=function(){function t(){}return t.rawInfo="\u5148\u628a\u539f\u6599\u653e\u5165\u63d2\u69fd",t.makeSucc="\u5236\u4f5c\u6210\u529f",t.checkMenuErrr="\u914d\u65b9\u5339\u914d\u5931\u8d25",t.unlockRecipe="\u672a\u89e3\u9501\u5f53\u524d\u914d\u65b9",t}();n.MessageInfo=o,cc._RF.pop()},{}],MessageType:[function(t,e,n){"use strict";cc._RF.push(e,"64f8ceb62tIyYTl7+o/NdOW","MessageType"),Object.defineProperty(n,"__esModule",{value:!0}),n.TableType=n.RoleType=n.MessageType=void 0,(n.MessageType||(n.MessageType={})).RoleStand="0",function(t){t.COME="come",t.LEAVE="leave",t.SIT="sit",t.WAIT="wait"}(n.RoleType||(n.RoleType={})),function(t){t.NONE="none",t.DRINK="drink",t.TRASH="trash"}(n.TableType||(n.TableType={})),cc._RF.pop()},{}],ModalMgr1:[function(t,e,n){"use strict";cc._RF.push(e,"6c4f4bdEj1Ng5N+KJWsftEv","ModalMgr1");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./UIModalScript"),u=t("./config/SysDefine"),l=cc._decorator,p=l.ccclass,h=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiModal=null,e}var n;return r(e,t),n=e,Object.defineProperty(e,"inst",{get:function(){if(null==this._inst){this._inst=new n;var t=new cc.Node("UIModalNode");n.popUpRoot=u.SysDefine.SYS_UIROOT_NAME+"/"+u.SysDefine.SYS_DRAWER_NODE,cc.find(n.popUpRoot).addChild(t),this._inst.uiModal=t.addComponent(c.default),this._inst.uiModal.init()}return this._inst},enumerable:!1,configurable:!0}),e.prototype.showModal=function(t){return a(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.uiModal.showModal(t.opacity,t.easingTime,t.isEasing,t.dualBlur)];case 1:return e.sent(),[2]}})})},e.prototype.checkModalWindow=function(t){if(t.length<=0)this.uiModal.node.active=!1;else{this.uiModal.node.active=!0,this.uiModal.node.parent&&this.uiModal.node.removeFromParent();for(var e=t.length-1;e>=0;e--)if(t[e].modalType.opacity>0){cc.find(n.popUpRoot).addChild(this.uiModal.node,Math.max(t[e].node.zIndex-1,0)),this.uiModal.fid=t[e].fid,this.showModal(t[e].modalType);break}}},e.popUpRoot="",e._inst=null,n=i([p],e)}(cc.Component));n.default=h,cc._RF.pop()},{"./UIModalScript":"UIModalScript","./config/SysDefine":"SysDefine"}],ModalMgr:[function(t,e,n){"use strict";cc._RF.push(e,"9b75bodHflDGK6GhPrmOvTs","ModalMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./UIModalScript"),u=t("./config/SysDefine"),l=cc._decorator,p=l.ccclass,h=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiModal=null,e}var n;return r(e,t),n=e,Object.defineProperty(e,"inst",{get:function(){if(null==this._inst){this._inst=new n;var t=new cc.Node("UIModalNode");n.popUpRoot=u.SysDefine.SYS_UIROOT_NAME+"/"+u.SysDefine.SYS_POPUP_NODE,cc.find(n.popUpRoot).addChild(t),this._inst.uiModal=t.addComponent(c.default),this._inst.uiModal.init()}return this._inst},enumerable:!1,configurable:!0}),e.prototype.showModal=function(t){return a(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.uiModal.showModal(t.opacity,t.easingTime,t.isEasing,t.dualBlur)];case 1:return e.sent(),[2]}})})},e.prototype.checkModalWindow=function(t){if(t.length<=0)this.uiModal.node.active=!1;else{this.uiModal.node.active=!0,this.uiModal.node.parent&&this.uiModal.node.removeFromParent();for(var e=t.length-1;e>=0;e--)if(t[e].modalType.opacity>0){cc.find(n.popUpRoot).addChild(this.uiModal.node,Math.max(t[e].node.zIndex-1,0)),this.uiModal.fid=t[e].fid,this.showModal(t[e].modalType);break}}},e.popUpRoot="",e._inst=null,n=i([p],e)}(cc.Component));n.default=h,cc._RF.pop()},{"./UIModalScript":"UIModalScript","./config/SysDefine":"SysDefine"}],Obstacle:[function(t,e,n){"use strict";cc._RF.push(e,"eaa90oCwvRPFqm2RBIJWdZL","Obstacle");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Components/QuadTree"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._quadtree=null,e._polygons=cc.js.createMap(),e}return r(e,t),e.prototype.onLoad=function(){var t=cc.view.getVisibleSize();this._quadtree=new a.default({x:0,y:0,width:t.width,height:t.height})},e.prototype.addPolygon=function(t,e){this._polygons[t]=e;var n=this._getBound(e);n.uid=t,this._quadtree.insert(n)},e.prototype.removePolygon=function(){},e.prototype.getPolygons=function(t){for(var e=[],n=0,o=this._quadtree.retrieve(t);n<o.length;n++){var r=o[n];e.push(this._polygons[r.uid])}return e},e.prototype._getBound=function(t){for(var e=t[0],n=e.x,o=e.x,r=e.y,i=e.y,s=0;s<t.length;s++)t[s].x<n&&(n=t[s].x),t[s].x>o&&(o=t[s].x),t[s].y<r&&(r=t[s].y),t[s].y>i&&(i=t[s].y);return new a.Bound(n,r,o-n,i-r)},e.prototype.clear=function(){this._quadtree.clear(),this._polygons={}},i([c],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../Components/QuadTree":"QuadTree"}],PlayerMgr:[function(t,e,n){"use strict";cc._RF.push(e,"bea7406655LzLidqx+dJrtq","PlayerMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onConfigChange=function(){},e}(t("./BaseMgr").BaseMgr);n.default=i,cc._RF.pop()},{"./BaseMgr":"BaseMgr"}],Player:[function(t,e,n){"use strict";cc._RF.push(e,"c6524N6VP9KkIrAUdQgv6Tz","Player");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Extra/Joystick"),s=cc._decorator,c=s.ccclass,u=s.property,l=t("../Extra/Joystick"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rigidbody=!1,e.moveDir=cc.v2(0,1),e._speedType=a.SpeedType.STOP,e._moveSpeed=0,e.stopSpeed=0,e.normalSpeed=100,e.fastSpeed=200,e.PlayerCamera=null,e}return r(e,t),e.prototype.onLoad=function(){this.rigidbody&&(cc.director.getPhysicsManager().enabled=!0,this._body=this.getComponent(cc.RigidBody)),this._ani=this.getComponent(cc.Animation),l.instance.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),l.instance.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),l.instance.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.start=function(){this._ani.playAdditive("idle")},e.prototype.onTouchStart=function(){},e.prototype.onTouchMove=function(t,e){this._speedType=e.speedType,this.moveDir=e.moveDistance},e.prototype.onTouchEnd=function(t,e){this._speedType=e.speedType},e.prototype.move=function(){if(this.node.scaleX=this.moveDir.x>=0?-1:1,this.rigidbody)this._body.applyForceToCenter(cc.v2(200*this.moveDir.x,200*this.moveDir.y),!0);else{var t=cc.v2();this.node.getPosition(t);var e=t.add(this.moveDir.mul(this._moveSpeed/120));this.node.setPosition(e)}},e.prototype.update=function(){switch(this._speedType){case a.SpeedType.STOP:this._moveSpeed=this.stopSpeed;break;case a.SpeedType.NORMAL:this._moveSpeed=this.normalSpeed;break;case a.SpeedType.FAST:this._moveSpeed=this.fastSpeed}this._speedType!==a.SpeedType.STOP&&this.move()},i([u({displayName:"\u521a\u4f53\u6a21\u5f0f",tooltip:"\u4e0d\u4f1a\u7acb\u5373\u505c\u6b62"})],e.prototype,"rigidbody",void 0),i([u({displayName:"Move Dir",tooltip:"\u79fb\u52a8\u65b9\u5411"})],e.prototype,"moveDir",void 0),i([u({displayName:"Speed Type",tooltip:"\u901f\u5ea6\u7ea7\u522b"})],e.prototype,"_speedType",void 0),i([u({type:cc.Integer,displayName:"Move Speed",tooltip:"\u79fb\u52a8\u901f\u5ea6"})],e.prototype,"_moveSpeed",void 0),i([u({type:cc.Integer,displayName:"Stop Speed",tooltip:"\u505c\u6b62\u65f6\u901f\u5ea6"})],e.prototype,"stopSpeed",void 0),i([u({type:cc.Integer,tooltip:"\u6b63\u5e38\u901f\u5ea6"})],e.prototype,"normalSpeed",void 0),i([u({type:cc.Integer,tooltip:"\u6700\u5feb\u901f\u5ea6"})],e.prototype,"fastSpeed",void 0),i([u(cc.Camera)],e.prototype,"PlayerCamera",void 0),i([c],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Extra/Joystick":"Joystick"}],PolygonUtil:[function(t,e,n){"use strict";cc._RF.push(e,"97fd0nhC4FP37VI4oHddHl0","PolygonUtil"),Object.defineProperty(n,"__esModule",{value:!0}),n.PolygonUtil=void 0;var o=function(){function t(){}return t.splitPolygonByLine=function(t,e,n,o){void 0===o&&(o=!1);for(var r=[],i=n.length-1;i>=0;i--){var a=n[i],s=0==i?n[n.length-1]:n[i-1],c=this.lineCrossPoint(a,s,t,e),u=c[0],l=c[1];-1!=u&&(n.splice(i,-1,l),r.push(i+1))}return r},t.lineCrossPoint=function(t,e,n,o){var r,i,a,s,c,u,l=t,p=e,h=n,f=o,d=new cc.Vec2(0,0);return a=this.dblcmp(r=this.ab_cross_ac(l,p,h),0),s=this.dblcmp(i=this.ab_cross_ac(l,p,f),0),c=this.dblcmp(this.ab_cross_ac(h,f,l),0),u=this.dblcmp(this.ab_cross_ac(h,f,p),0),-2==(a^s)&&-2==(c^u)?(d.x=(h.x*i-f.x*r)/(i-r),d.y=(h.y*i-f.y*r)/(i-r),[0,d]):0==a&&this.point_on_line(h,l,p)<=0?[1,d=h]:0==s&&this.point_on_line(f,l,p)<=0?[1,d=f]:0==c&&this.point_on_line(l,h,f)<=0?[1,d=l]:0==u&&this.point_on_line(p,h,f)<=0?[1,d=p]:[-1,null]},t.isLineSegmentCross=function(t,e,n,o){return((n.x-t.x)*(n.y-o.y)-(n.y-t.y)*(n.x-o.x))*((n.x-e.x)*(n.y-o.y)-(n.y-e.y)*(n.x-o.x))<0||((t.x-n.x)*(t.y-e.y)-(t.y-n.y)*(t.x-e.x))*((t.x-o.x)*(t.y-e.y)-(t.y-o.y)*(t.x-e.x))<0},t.point_on_line=function(t,e,n){return this.dblcmp(this.dot(e.x-t.x,e.y-t.y,n.x-t.x,n.y-t.y),0)},t.rayPointToLine=function(t,e,n){Math.min(e.x,n.x);var o=Math.max(e.x,n.x),r=Math.min(e.y,n.y),i=Math.max(e.y,n.y);if(t.y<r||t.y>i||t.x>o)return-1;var a=e.x+(n.x-e.x)/(n.y-e.y)*(t.y-e.y);return a>t.x?0:a==t.x?1:-1},t.relationPointToPolygon=function(t,e){for(var n=0,o=0;o<e.length;++o){if(e[o].equals(t))return 2;var r=e[o],i=e[0];o<e.length-1&&(i=e[o+1]);var a=this.rayPointToLine(t,r,i);if(1==a)return 1;0==a&&n++}return n%2==0?-1:0},t.lineCutPolygon=function(t,e,n){for(var o=[],r=[],i=[],a=0;a<n.length;++a){r.push(n[a]);var s=n[a],c=n[0];a<n.length-1&&(c=n[a+1]);var u=this.lineCrossPoint(t,e,s,c);0==u[0]?(i.push(r.length),r.push(u[1])):u[0]>0&&(u[1].equals(s)?i.push(r.length-1):i.push(r.length))}if(i.length>1){var l=r[i[0]],p=r[i[1]],h=this.relationPointToPolygon(new cc.Vec2((l.x+p.x)/2,(l.y+p.y)/2),n),f=h>=0;i.length>2&&l.sub(p).mag()>l.sub(r[i[i.length-1]]).mag()&&(p=r[i[i.length-1]],f=(h=this.relationPointToPolygon(new cc.Vec2((l.x+p.x)/2,(l.y+p.y)/2),n))<0);var d=f,_=0,y=i[_],v=[],g=[],m=0;for(v.push(r[y]),f&&g.push(r[y]),_++,m++,y++;m<r.length;){y==r.length&&(y=0);var b=r[y];_>=0&&y==i[_]?(++_>=i.length&&(_=0),f?(g.push(b),o.push(g),g=[]):(g=[]).push(b),v.push(b),f=!f):f?g.push(b):v.push(b),y++,m++}if(f)if(!d&&g.length>1)g.push(r[i[0]]),o.push(g);else for(a=0;a<g.length;++a)v.push(g[a]);o.push(v)}return o},t.ab_cross_ac=function(t,e,n){return this.cross(e.x-t.x,e.y-t.y,n.x-t.x,n.y-t.y)},t.dot=function(t,e,n,o){return t*n+e*o},t.cross=function(t,e,n,o){return t*o-n*e},t.dblcmp=function(t,e){return Math.abs(t-e)<=1e-6?0:t>e?1:-1},t}();n.PolygonUtil=o,cc._RF.pop()},{}],Pool:[function(t,e,n){"use strict";cc._RF.push(e,"284d8zxqTdJtYjT+CGS5XDE","Pool"),Object.defineProperty(n,"__esModule",{value:!0}),n.Pool=void 0;var o=function(){function t(t,e){this._fn=t,this._idx=e-1,this._frees=new Array(e);for(var n=0;n<e;n++)this._frees[n]=t()}return Object.defineProperty(t.prototype,"freeCount",{get:function(){return this._frees.length},enumerable:!1,configurable:!0}),t.prototype.alloc=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._idx<0&&this._expand(Math.round(1.2*this._frees.length)+1);var n=this._frees[this._idx];return this._frees.splice(this._idx),--this._idx,n.use&&n.use.apply(n,t),n},t.prototype.free=function(t){++this._idx,t.free&&t.free(),this._frees[this._idx]=t},t.prototype.clear=function(t){for(var e=0;e<this._idx;e++)t&&t(this._frees[e]);this._frees.splice(0),this._idx=-1},t.prototype._expand=function(t){var e=this._frees;this._frees=new Array(t);for(var n=t-e.length,o=0;o<n;o++)this._frees[o]=this._fn();o=n;for(var r=0;o<t;++o,++r)this._frees[o]=e[r];this._idx+=n},t}();n.Pool=o,cc._RF.pop()},{}],Printer:[function(t,e,n){"use strict";cc._RF.push(e,"8f39dwNrqdDNaoXE30RfAfY","Printer");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.Priter=void 0;var a,s=cc._decorator,c=s.ccclass,u=s.property;(function(t){t[t.Label=0]="Label",t[t.RichText=1]="RichText"})(a||(a={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelType=a.Label,e.label=null,e.printerTimer=null,e}return r(e,t),e.prototype.onLoad=function(){this.richTextEditBox&&(this.richTextEditBox.string="FF0000")},e.prototype.beforeDestory=function(){this.printerTimer&&clearInterval(this.printerTimer)},e.prototype.showLabelPrinter=function(t){this.label.string="",this.makeLabelPrinter(t)},e.prototype.makeLabelPrinter=function(t){var e=this,n=t.split(""),o=0;this.printerTimer&&clearInterval(this.printerTimer),this.printerTimer=setInterval(function(){o>=n.length?e.printerTimer&&clearInterval(e.printerTimer):(o+=1,e.label.string=n.slice(0,o).join(""))},150)},e.prototype.showRichTextPrinter=function(t){this.richText.string="",this.makeRichTextPrinter(t)},e.prototype.makeRichTextPrinter=function(t){for(var e=this,n=/<.+?\/?>/g,o=t.match(n),r=["\u2701","\u2702","\u2703","\u2704","\u273a","\u273b","\u273c","\u2744","\u2745","\u2746","\u2747","\u2748","\u2749","\u274a"].find(function(e){return-1==t.indexOf(e)}),i=t.replace(n,r),a=[],s=[],c={},u=0,l=0;l<i.length;l++)i[l]==r&&(s.push(l),s.length>=2?(c.endStr=o[2*a.length+1],c.endtIdx=l-u,a.push(c),s=[],c={}):(c.startIdx=l-u,c.startStr=o[2*a.length]),u+=1);var p=t.replace(n,"").split(""),h=[];for(l=1;l<=p.length;l++){for(var f=p.join("").slice(0,l),d=0,_=0;_<a.length;_++){var y=a[_],v=y.startIdx,g=y.endtIdx;l>v&&l<=g?(f=f.slice(0,v+d)+y.startStr+f.slice(v+d)+y.endStr,d+=y.startStr.length+y.endStr.length):l>g&&(f=f.slice(0,v+d)+y.startStr+f.slice(v+d,g+d)+y.endStr+f.slice(g+d),d+=y.startStr.length+y.endStr.length)}h.unshift(f)}this.printerTimer&&clearInterval(this.printerTimer),this.printerTimer=setInterval(function(){h.length?e.richText.string=h.pop():e.printerTimer&&clearInterval(e.printerTimer)},50)},i([u({type:cc.Enum(a),tooltip:!1})],e.prototype,"labelType",void 0),i([u({type:cc.Label,visible:function(){return this.labelType==a.Label}})],e.prototype,"label",void 0),i([u({type:cc.RichText,visible:function(){return this.labelType==a.RichText}})],e.prototype,"richText",void 0),i([u({type:cc.RichText,visible:function(){return this.labelType==a.RichText}})],e.prototype,"richTextEditBox",void 0),i([c("Priter")],e)}(cc.Component);n.Priter=l,cc._RF.pop()},{}],PriorityQueue:[function(t,e,n){"use strict";cc._RF.push(e,"f2318nn5GJChLoRevUhhLkg","PriorityQueue"),Object.defineProperty(n,"__esModule",{value:!0}),n.PriorityElement=void 0;var o=function(t,e){this.data=t,this.priority=e};n.PriorityElement=o;var r=function(){function t(){this.queue=new Array(32),this._size=0}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),t.prototype.hasElement=function(t){for(var e=0,n=this.queue;e<n.length;e++)if(n[e].data===t)return!0;return!1},t.prototype.enqueue=function(t,e){void 0===e&&(e=0),this._size>this.queue.length&&this._expand(),this.queue[this._size++]=new o(t,e),this.upAdjust()},t.prototype.dequeue=function(){if(this._size<=0)return null;var t=this.queue[0];return this.queue[0]=this.queue[--this._size],this.downAdjust(),t.data},t.prototype.clear=function(){this.queue=[],this._size=0},t.prototype.upAdjust=function(){for(var t=this._size-1,e=Math.floor(t/2),n=this.queue[t];t>0&&n.priority>this.queue[e].priority;)this.queue[t]=this.queue[e],t=e,e=Math.floor(e/2);this.queue[t]=n},t.prototype.downAdjust=function(){for(var t=0,e=this.queue[t],n=1;n<this._size&&(n+1<this._size&&this.queue[n+1].priority>this.queue[n].priority&&n++,!(e.priority>=this.queue[n].priority));)this.queue[t]=this.queue[n],t=n,n=2*n+1;this.queue[t]=e},t.prototype._expand=function(){var t=Math.round(1.2*this.queue.length)+1,e=this.queue;this.queue=new Array(t);for(var n=0;n<e.length;n++)this.queue[n]=e[n]},t.prototype.toString=function(){for(var t="",e=0;e<this._size;e++){var n=this.queue[e].data;n.toString?t+=n.toString():t+="object"==typeof n?JSON.stringify(n):n}return t},t}();n.default=r,cc._RF.pop()},{}],PriorityStack:[function(t,e,n){"use strict";cc._RF.push(e,"9ed15uYIzxGna5Bj3+zkuo8","PriorityStack"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./PriorityQueue"),r=function(){function t(t){this.compare=function(t,e){return t===e},this.stack=new Array,this._size=0,this.compare=t}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),t.prototype.clear=function(){return this.stack.length=0,this._size=0,!0},t.prototype.getTopEPriority=function(){return this.stack.length<=0?-1:this.stack[this.stack.length-1].priority},t.prototype.getTopElement=function(){return this.stack.length<=0?null:this.stack[this.stack.length-1].data},t.prototype.getElements=function(){for(var t=[],e=0,n=this.stack;e<n.length;e++){var o=n[e];t.push(o.data)}return t},t.prototype.push=function(t,e){void 0===e&&(e=0),this.stack.push(new o.PriorityElement(t,e)),this._size++,this._adjust()},t.prototype.pop=function(){return this.stack.length<=0?null:(this._size--,this.stack.pop().data)},t.prototype._adjust=function(){for(var t=this.stack.length-1;t>0;t--)this.stack[t].priority<this.stack[t-1].priority&&this._swap(t,t-1)},t.prototype._swap=function(t,e){var n=this.stack[t];this.stack[t]=this.stack[e],this.stack[e]=n},t.prototype.hasElement=function(t){for(var e=0,n=this.stack;e<n.length;e++){var o=n[e];if(this.compare(o.data,t))return!0}return!1},t.prototype.remove=function(t){for(var e=this.stack.length-1;e>=0;e--)if(this.compare(this.stack[e].data,t))return this.stack.splice(e,1),this._size--,!0;return!1},t}();n.default=r,cc._RF.pop()},{"./PriorityQueue":"PriorityQueue"}],PropBind:[function(t,e,n){"use strict";cc._RF.push(e,"2f9f8Tv5WdH8a3E1C7Bm4Ro","PropBind"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.bind=function(){},t}();n.default=o,cc._RF.pop()},{}],PropController:[function(t,e,n){"use strict";cc._RF.push(e,"9c55bh8k9BD0JhzsvfCJYNE","PropController");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.NodePathType=void 0;var a,s=t("./PropSelector");(function(t){t[t.Name=0]="Name",t[t.SiblingIndex=1]="SiblingIndex"})(a=n.NodePathType||(n.NodePathType={})),cc.NodePathType=a;var c=cc._decorator,u=c.ccclass,l=c.executeInEditMode,p=c.menu,h=c.inspector,f=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodePathType=a.SiblingIndex,e.open=!0,e._uid="",e._state=0,e._states=[],e.propertyJson="",e}return r(e,t),Object.defineProperty(e.prototype,"uid",{get:function(){return this._uid},set:function(t){this._uid=t,this._refreshIdEnum()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t,this.doControl(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"states",{get:function(){return this._states},set:function(t){this._states=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.open=!1,this._refresh(),this._refreshIdEnum()},e.prototype.start=function(){},e.prototype.doControl=function(t){var e=t,n=JSON.parse(this.propertyJson)[e];for(var o in n){var r=o.split(":"),i=null;switch(+r[0]){case a.Name:i=cc.find(r[1],this.node);break;case a.SiblingIndex:i=this._getNodeBySiblingIndex(r[1],this.node)}if(i){var s=n[o];for(var c in s){var u=_[c];u&&u(i,s[c])}}else cc.warn("find node faild, path:",o)}},e.prototype._getNodeBySiblingIndex=function(t,e){for(var n=0,o=(t="/"==t[0]?t.substring(1):t).split("/");n<o.length;n++){var r=o[n];e=e.children[+r]}return e},e.prototype._refresh=function(){},e.prototype._refreshIdEnum=function(){},i([f({type:cc.Enum(a),tooltip:"Name: \u6839\u636enode name\u4fdd\u5b58, SiblingIndex: \u6839\u636enode \u5728children\u7684index\u4fdd\u5b58"})],e.prototype,"nodePathType",void 0),i([f({tooltip:"\u662f\u5426\u542f\u7528\u63a7\u5236\u5668"})],e.prototype,"open",void 0),i([f({serializable:!0})],e.prototype,"_uid",void 0),i([f],e.prototype,"uid",null),i([f({type:cc.Enum({})})],e.prototype,"_state",void 0),i([f({type:cc.Enum({})})],e.prototype,"state",null),i([f],e.prototype,"_states",void 0),i([f([cc.String])],e.prototype,"states",null),i([f()],e.prototype,"propertyJson",void 0),i([u,l,p("i18n:\u72b6\u6001\u63a7\u5236/PropController"),h("packages://propcontroller/dist/inspector.js")],e)}(cc.Component);n.default=d;var _={};function y(t,e){_[t]&&cc.warn(""),_[t]=e}y(s.PropEmum.All,function(t,e){var n=e.node;for(var o in t.active=n.active,t.setPosition(n.position),t.angle=n.angle,t.scaleX=n.scale.scaleX,t.scaleY=n.scale.scaleY,t.anchorX=n.anchor.anchorX,t.anchorY=n.anchor.anchorY,t.setContentSize(n.size),t.color=new cc.Color(n.color.r,n.color.g,n.color.b),t.opacity=n.opacity,e.coms){var r=e.coms[o];o=o.replace("_",".");var i=t.getComponent(o);for(var a in r)a.startsWith("_")||(i[a]=r[a])}}),y(s.PropEmum.Active,function(t,e){t.active=e}),y(s.PropEmum.Position,function(t,e){t.setPosition(e)}),y(s.PropEmum.Color,function(t,e){t.color=new cc.Color(e.r,e.g,e.b)}),y(s.PropEmum.Scale,function(t,e){t.scaleX=e.scaleX,t.scaleY=e.scaleY}),y(s.PropEmum.Rotation,function(t,e){t.angle=e}),y(s.PropEmum.Opacity,function(t,e){t.opacity=e}),y(s.PropEmum.Slew,function(t,e){t.skewX=e.skewX,t.skewY=e.skewY}),y(s.PropEmum.Size,function(t,e){t.setContentSize(e)}),y(s.PropEmum.Anchor,function(t,e){t.anchorX=e.anchorX,t.anchorY=e.anchorY}),y(s.PropEmum.Label_String,function(t,e){t.getComponent(cc.Label).string=e}),y(s.PropEmum.Sprite_Texture,function(t,e){var n,o=null!==(n=e.url)&&void 0!==n?n:"";e.uuid,o.includes("resources")&&(o=(o=o.replace("resources/","")).split(".")[0]),cc.resources.load(o,cc.Texture2D,function(e,n){e?Editor.warn("PropController  load sprite texture faild",o,e):t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n)})}),cc._RF.pop()},{"./PropSelector":"PropSelector"}],PropSelector:[function(t,e,n){"use strict";cc._RF.push(e,"95cf9sVxtJHbIz3btfe766G","PropSelector");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.PropEmum=void 0;var a,s=cc._decorator,c=s.ccclass,u=s.executeInEditMode,l=s.menu,p=s.property;(function(t){t[t.All=0]="All",t[t.Active=1]="Active",t[t.Position=2]="Position",t[t.Rotation=3]="Rotation",t[t.Scale=4]="Scale",t[t.Anchor=5]="Anchor",t[t.Size=6]="Size",t[t.Color=7]="Color",t[t.Opacity=8]="Opacity",t[t.Slew=9]="Slew",t[t.Label_String=10]="Label_String",t[t.Sprite_Texture=11]="Sprite_Texture"})(a=n.PropEmum||(n.PropEmum={})),cc.PropEmum=a,cc.Enum({});var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.props=[0],e}return r(e,t),i([p({type:[cc.Enum(a)],tooltip:"\u88ab\u63a7\u5236\u7684\u5c5e\u6027"})],e.prototype,"props",void 0),i([c,l("i18n:\u72b6\u6001\u63a7\u5236/PropSelector"),u],e)}(cc.Component);n.default=h,cc._RF.pop()},{}],QuadTree:[function(t,e,n){"use strict";cc._RF.push(e,"97092zpFuhN/oWHIMkF7jei","QuadTree"),Object.defineProperty(n,"__esModule",{value:!0}),n.Bound=void 0;n.Bound=function(t,e,n,o,r){void 0===r&&(r=""),this.x=t,this.y=e,this.width=n,this.height=o,this.uid=r};var o=function(){function t(t,e,n,o){this._maxObject=10,this._maxLevel=4,this._level=0,this._bound=null,this._objects=[],this._nodes=[],this._bound=t,this._maxObject=e||this._maxObject,this._maxLevel=n||this._maxLevel,this._level=o||this._level}return t.prototype.split=function(){var e=this._level+1,n=this._bound.width/2,o=this._bound.height/2,r=this._bound.x,i=this._bound.y;this._nodes[0]=new t({uid:e+"-top-right",x:r+n,y:i,width:n,height:o},this._maxObject,this._maxLevel,e),this._nodes[1]=new t({uid:e+"-top-left",x:r,y:i,width:n,height:o},this._maxObject,this._maxLevel,e),this._nodes[2]=new t({uid:e+"-bottom-left",x:r,y:i+o,width:n,height:o},this._maxObject,this._maxLevel,e),this._nodes[3]=new t({uid:e+"-bottom-right",x:r+n,y:i+o,width:n,height:o},this._maxObject,this._maxLevel,e)},t.prototype.getIndex=function(t){var e=[],n=this._bound.x+this._bound.width/2,o=this._bound.y+this._bound.height/2,r=t.y<o,i=t.x<n,a=t.x+t.width>n,s=t.y+t.height>o;return r&&a&&e.push(0),i&&r&&e.push(1),i&&s&&e.push(2),a&&s&&e.push(3),e},t.prototype.insert=function(t){var e=0,n=[];if(this._nodes.length)for(n=this.getIndex(t),e=0;e<n.length;e++)this._nodes[n[e]].insert(t);else if(this._objects.push(t),this._objects.length>this._maxObject&&this._level<this._maxLevel){for(this._nodes.length||this.split(),e=0;e<this._objects.length;e++){n=this.getIndex(this._objects[e]);for(var o=0;o<n.length;o++)this._nodes[n[o]].insert(this._objects[e])}this._objects=[]}},t.prototype.retrieve=function(t){var e=this.getIndex(t),n=this._objects;if(this._nodes.length)for(var o=0;o<e.length;o++)n=n.concat(this._nodes[e[o]].retrieve(t));return n=n.filter(function(t,e){return n.indexOf(t)>=e})},t.prototype.clear=function(){this._objects=[];for(var t=0;t<this._nodes.length;t++)this._nodes.length&&this._nodes[t].clear();this._nodes=[]},t}();n.default=o,cc._RF.pop()},{}],Queue:[function(t,e,n){"use strict";cc._RF.push(e,"146d9Q6AJVLm5Z5V9zs9sHL","Queue"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.count=0,this.lowestCount=0,this.items={}}return t.prototype.enqueue=function(t){this.items[this.count]=t,this.count++},t.prototype.dequeue=function(){if(!this.isEmpty()){var t=this.items[this.lowestCount];return delete this.items[this.lowestCount],this.lowestCount++,t}},t.prototype.peek=function(){if(!this.isEmpty())return this.items[this.lowestCount]},t.prototype.isEmpty=function(){return 0===this.size()},t.prototype.clear=function(){this.items={},this.count=0,this.lowestCount=0},t.prototype.size=function(){return this.count-this.lowestCount},t.prototype.toString=function(){if(this.isEmpty())return"";for(var t=""+this.items[this.lowestCount],e=this.lowestCount+1;e<this.count;e++)t=t+","+this.items[e];return t},t}();n.default=o,cc._RF.pop()},{}],RawItem:[function(t,e,n){"use strict";cc._RF.push(e,"ba46bd5sDpHoJSuHZGhdI7j","RawItem");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Components/ListItem"),s=t("../../Common/Utils/CommonUtils"),c=t("../../Config/GlobalData"),u=t("../../UIScript/UIWorkDesk"),l=cc._decorator,p=l.ccclass,h=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemData=null,e.desk=null,e}return r(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.start=function(){this.registerEvent()},e.prototype.registerEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.desk.dragMove.bind(this.desk),this),this.node.on(cc.Node.EventType.TOUCH_END,this.desk.dragEnd.bind(this.desk),this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.desk.dragEnd.bind(this.desk),this)},e.prototype.unRegisterEvent=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.desk.dragMove.bind(this.desk),this),this.node.off(cc.Node.EventType.TOUCH_END,this.desk.dragEnd.bind(this.desk),this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.desk.dragEnd.bind(this.desk),this)},e.prototype.touchStart=function(t){this.desk.dragNode(t,this,u.DragType.Raw)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.unRegisterEvent()},e.prototype.onClickThis=function(){t.prototype.onClickThis.call(this),console.log("RawItem onClickThis")},e.prototype.initUi=function(t,e){this.itemData=t,this.desk=e,this.title.getComponent(cc.Label).string=t.name,s.CommonUtils.setItemSpriteFrame(this.icon,""+c.GlobalData.rawPath+t.ID)},i([p],e)}(a.default));n.default=h,cc._RF.pop()},{"../../Common/Components/ListItem":"ListItem","../../Common/Utils/CommonUtils":"CommonUtils","../../Config/GlobalData":"GlobalData","../../UIScript/UIWorkDesk":"UIWorkDesk"}],RawMaterial:[function(t,e,n){"use strict";cc._RF.push(e,"134487N1MJIzIe1T0+0PwIs","RawMaterial"),Object.defineProperty(n,"__esModule",{value:!0}),n.BackpackList=n.RecipeList=n.BackPackModule=n.BackpackType=n.RecipeModule=n.RawMaterial=void 0,n.RawMaterial=[{ID:2001,name:"\u6c34",price:0,intro:"\u4e00\u4efd\u7eaf\u51c0\u6c34\uff0c\u4e07\u7269\u7684\u8d77\u6e90,\u4e0d\u53ef\u51fa\u552e",type:"item_raw",sell:0},{ID:2002,name:"\u5496\u5561\u8c46",price:0,intro:"\u70d8\u7119\u597d\u7684\u5496\u5561\u8c46,\u4e0d\u53ef\u51fa\u552e",type:"item_raw",sell:0},{ID:2003,name:"\u51b0",price:0,intro:"\u628a\u90a3\u4e2a\u7eaf\u51c0\u6c34\u653e\u8fdb\u5236\u51b0\u673a\u91cc\u5f97\u6765\u7684,\u4e0d\u53ef\u51fa\u552e",type:"item_raw",sell:0},{ID:2004,name:"\u725b\u5976",price:20,intro:"\u7eaf\u725b\u5976\uff0c\u7edd\u5bf9\u6ca1\u6709\u4efb\u4f55\u6dfb\u52a0\uff0c\u4f60\u9700\u8981\u5c3d\u5feb\u4f7f\u7528,\u4e0d\uff01\u7136\uff01\u5c31\uff01\u4f1a\uff01\u574f\uff01\u6389\uff01,\u4e0d\u53ef\u51fa\u552e",type:"item_raw",sell:0},{ID:2005,name:"\u5de7\u514b\u529b",price:50,intro:"\u7eaf\u53ef\u53ef\u8102\u7684\u5de7\u514b\u529b\uff0c\u5077\u5403\u4e00\u70b9\u6ca1\u4eba\u53d1\u73b0\u5427\uff1f\u4e0d\u53ef\u51fa\u552e",type:"item_raw",sell:0},{ID:2006,name:"\u6930\u5b50",price:80,intro:"\u80af\u5b9a\u662f\u4ece\u5f88\u70ed\u7684\u5730\u65b9\u8fd0\u8fc7\u6765\u7684\uff0c\u4e0a\u9762\u8fd8\u6709\u9633\u5149\u548c\u6d77\u5cb8\u7ebf\u5347\u8d77\u7684\u5473\u9053,\u4e0d\u53ef\u51fa\u552e",type:"item_raw",sell:0},{ID:2007,name:"\u5976\u6cb9\u74f6",price:150,intro:"\u4e00\u74f6\u55b5\u9020\u690d\u7269\u5976\u6cb9,\u4e0d\u53ef\u51fa\u552e",type:"item_raw",sell:0},{ID:2008,name:"\u7126\u7cd6",price:130,intro:"\u767d\u7802\u7cd6\u71ac\u716e\u540e\u7126\u5316\u7684\u996e\u6599\u8c03\u5473\u54c1\uff0c\u5f88\u8bb2\u7a76\u706b\u5019,\u4e0d\u53ef\u51fa\u552e",type:"item_raw",sell:0}],n.RecipeModule=[{name:"\u914d\u65b9",color:"C38460"},{name:"\u914d\u65b91",color:"C36660"},{name:"\u914d\u65b92",color:"C39660"}],n.BackpackType=[[{name:"\u539f\u6750\u6599",color:"D6EE92",color_unSelected:"B6C194"},{name:"\u6742\u7269",color:"D6EE92",color_unSelected:"B6C194"},{name:"\u4efb\u52a1\u9053\u5177",color:"D6EE92",color_unSelected:"B6C194"}],[{name:"\u684c\u5b50",color:"EED492",color_unSelected:"C1AA94"},{name:"\u6446\u4ef6",color:"EED492",color_unSelected:"C1AA94"},{name:"\u5899\u9762\u6446\u4ef6",color:"EED492",color_unSelected:"C1AA94"}],[{name:"\u5934\u9970",color:"EEAD92",color_unSelected:"C68282"},{name:"\u8863\u670d",color:"EEAD92",color_unSelected:"C68282"},{name:"\u978b\u5b50",color:"EEAD92",color_unSelected:"C68282"}]],n.BackPackModule=[{name:"\u9053\u5177",color:"A3C360"},{name:"\u8863\u6a71",color:"C36060"},{name:"\u5bb6\u5177",color:"6EC360"}],n.RecipeList=[[{ID:1001,name:"%s\u6c34",name_e:"water",raw1:2001,raw2:"",raw3:"",raw4:"",raw5:"",raw6:"",coldDrink:!0,price:2,resPath:1001,cupType:1,tumbler_f:"glass10",tumbler_b:"glass11",intro:"\u4e00\u676f\u6c34",type:"formula",subType:"",unlock:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1002,name:"\u610f\u5f0f\u6d53\u7f29\u5496\u5561",name_e:"Espresso",raw1:2002,raw2:"",raw3:"",raw4:"",raw5:"",raw6:"",coldDrink:"",price:3,resPath:1002,cupType:3,tumbler_f:"glass30",tumbler_b:"glass31",intro:"\u7ecf\u5178\u7684\u6d53\u7f29\u5496\u5561\uff0c\u5982\u679c\u76f4\u996e\u5efa\u8bae\u52a0\u7cd6",type:"formula",subType:"",unlock:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1003,name:"%s\u7f8e\u5f0f\u5496\u5561",name_e:"Americano",raw1:2001,raw2:2002,raw3:"",raw4:"",raw5:"",raw6:"",coldDrink:!0,price:4,resPath:1003,cupType:1,tumbler_f:"glass10",tumbler_b:"glass11",intro:"\u7ecf\u5178\u597d\u559d\uff01",type:"formula",subType:"",unlock:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1004,name:"%s\u62ff\u94c1\u5496\u5561",name_e:"latte",raw1:2004,raw2:2002,raw3:"",raw4:"",raw5:"",raw6:"",coldDrink:!0,price:5,resPath:1004,cupType:1,tumbler_f:"glass10",tumbler_b:"glass11",intro:"\u7ecf\u5178\u7684\u62ff\u94c1\u5496\u5561\uff0c\u5728\u5f88\u591a\u5730\u65b9\u90fd\u662f\u62db\u724c",type:"formula",subType:"",unlock:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1005,name:"\u6469\u5361\u5496\u5561",name_e:"Mocha",raw1:2004,raw2:2002,raw3:2005,raw4:"",raw5:"",raw6:"",coldDrink:"",price:9,resPath:1005,cupType:2,tumbler_f:"glass20",tumbler_b:"glass21",intro:"\u4e00\u79cd\u53e4\u8001\u7684\u5496\u5561",type:"formula",subType:"",unlock:"unlock","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1006,name:"\u70ed\u5de7\u514b\u529b",name_e:"Hot_chocolate",raw1:2005,raw2:"",raw3:"",raw4:"",raw5:"",raw6:"",coldDrink:"",price:6,resPath:1006,cupType:2,tumbler_f:"glass20",tumbler_b:"glass21",intro:"\u788e\u788e\u7684\u5de7\u514b\u529b\u52a0\u4e0a\u725b\u5976\u540e\u4e00\u8d77\u52a0\u70ed\u5f62\u6210\u4e86\u8fd9\u79cd\u5947\u5999\u4e1d\u6ed1\u7684\u996e\u54c1",type:"formula",subType:"",unlock:"unlock","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1007,name:"%s\u6930\u6c41",name_e:"Coconut",raw1:2006,raw2:"",raw3:"",raw4:"",raw5:"",raw6:"",coldDrink:!0,price:5,resPath:1007,cupType:1,tumbler_f:"glass10",tumbler_b:"glass11",intro:"\u6930\u5b50~\u597d\u559d\u7684\u6930\u5b50~\n\u800c\u4e14\u7edd\u5bf9\u6ca1\u6709\u5151\u6c34",type:"formula",subType:"",unlock:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1008,name:"\u6930\u6c41%s\u62ff\u94c1",name_e:"Coconut_latte",raw1:2006,raw2:2004,raw3:2002,raw4:"",raw5:"",raw6:"",coldDrink:!0,price:10,resPath:1008,cupType:1,tumbler_f:"glass10",tumbler_b:"glass11",intro:"\u52a0\u5165\u4e86\u5976\u6cb9\u7684\u62ff\u94c1\u5496\u5561\uff0c\u8ba9\u53e3\u611f\u53d8\u5f97\u66f4\u52a0\u6e05\u723d",type:"formula",subType:"",unlock:"unlock","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1009,name:"\u5976\u6cb9%s\u62ff\u94c1",name_e:"Cream_latte",raw1:2005,raw2:2004,raw3:"",raw4:"",raw5:"",raw6:"",coldDrink:!0,price:13,resPath:1009,cupType:1,tumbler_f:"glass10",tumbler_b:"glass11",intro:"\u52a0\u5165\u4e86\u5976\u6cb9\u7684\u62ff\u94c1\u5496\u5561\uff0c\u8ba9\u53e3\u611f\u53d8\u5f97\u66f4\u52a0\u7ec6\u817b\u9999\u751c",type:"formula",subType:"",unlock:"unlock","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1010,name:"\u5976\u6cb9\u5de7\u514b\u529b",name_e:"Cream_chocolate",raw1:2004,raw2:2002,raw3:2007,raw4:"",raw5:"",raw6:"",coldDrink:"",price:14,resPath:1010,cupType:2,tumbler_f:"glass20",tumbler_b:"glass21",intro:"\u5947\u5999\u7684\u5e78\u798f\u6ce1\u6ce1",type:"formula",subType:"",unlock:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1011,name:"\u7126\u7cd6\u7f8e\u5f0f",name_e:"Caramel_Americano",raw1:2005,raw2:2004,raw3:2007,raw4:"",raw5:"",raw6:"",coldDrink:"",price:12,resPath:1011,cupType:1,tumbler_f:"glass10",tumbler_b:"glass11",intro:"\u50cf\u8dc3\u52a8\u7740\u7684\u706b\u7cbe\u7075",type:"formula",subType:"",unlock:"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},{ID:1012,name:"\u7126\u7cd6\u739b\u5947\u6735",name_e:"Caramel_macchiato",raw1:2008,raw2:2001,raw3:2002,raw4:"",raw5:"",raw6:"",coldDrink:"",price:12,resPath:1012,cupType:2,tumbler_f:"glass20",tumbler_b:"glass21",intro:"\u751c\u871c\u7684\u5370\u8bb0",type:"formula",subType:"",unlock:"unlock","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}],[],[]],n.BackpackList=[],cc._RF.pop()},{}],RecipeItem:[function(t,e,n){"use strict";cc._RF.push(e,"bbdd70BoJ9NkL0eV9lYN/kX","RecipeItem");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("lodash"),s=t("../../Common/Components/ListItem"),c=t("../../Common/Utils/CommonUtils"),u=t("../../Config/GlobalData"),l=t("../../UIScript/UIRecipeInfo"),p=t("../../UIScript/toast/UIToast1"),h=t("../../Config/MessageInfo"),f=cc._decorator,d=f.ccclass,_=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemData=null,e.desk=null,e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.onEnable=function(){this.registerEvent()},e.prototype.onDisable=function(){this.unRegisterEvent()},e.prototype.registerEvent=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.clickRecipeInfo,this)},e.prototype.unRegisterEvent=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.clickRecipeInfo,this)},e.prototype.initUi=function(t,e){this.itemData=t,this.desk=e,t.unlock?(this.title.getComponent(cc.Label).string="\u672a\u89e3\u9501",c.CommonUtils.setItemSpriteFrame(this.icon,""+u.GlobalData.recipePath+t.unlock)):(this.title.getComponent(cc.Label).string=1==t.name.includes("%s")?t.name.replace("%s",""):t.name,c.CommonUtils.setItemSpriteFrame(this.icon,""+u.GlobalData.recipePath+t.resPath)),"1001"==t.id&&(this.selected=!0)},e.prototype.clickRecipeInfo=function(){if(this.itemData.unlock)p.default.open({info:h.MessageInfo.unlockRecipe});else{var t=this.node.parent;a.forEach(t.children,function(t){t.getComponent(n).selected=!1}),this.selected=!0,l.default.open(this.itemData)}},n=i([d],e)}(s.default));n.default=_,cc._RF.pop()},{"../../Common/Components/ListItem":"ListItem","../../Common/Utils/CommonUtils":"CommonUtils","../../Config/GlobalData":"GlobalData","../../Config/MessageInfo":"MessageInfo","../../UIScript/UIRecipeInfo":"UIRecipeInfo","../../UIScript/toast/UIToast1":"UIToast1",lodash:1}],RecipeModuleItem:[function(t,e,n){"use strict";cc._RF.push(e,"1cef5Q0QUhHBZGIKgAq798N","RecipeModuleItem");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Common/Components/ListItem"),s=t("../../Config/RawMaterial"),c=cc._decorator,u=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.desk=null,e.itemData=null,e.moduleLength=0,e.viewWidth=750,e}return r(e,t),e.prototype.onEnable=function(){this.registerEvent()},e.prototype.onDisable=function(){this.unRegisterEvent()},e.prototype.initUi=function(t,e){this.itemData="UIRecipe"==e.node.name?s.RecipeModule:s.BackPackModule,this.desk=e,this.node.color=cc.color(this.itemData[t].color),this.title.getComponent(cc.Label).string=this.itemData[t].name,this.setNodeSize(),0==t&&(this.node.height=this.desk.nodeHeight[1],this.title.y=this.desk.titlePos[1])},e.prototype.setNodeSize=function(){this.moduleLength=this.itemData.length;for(var t=1;t<this.moduleLength;t++)this.node.width=t>5?this.viewWidth/5:this.viewWidth/this.moduleLength},e.prototype.registerEvent=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.clickModule,this)},e.prototype.unRegisterEvent=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.clickModule,this)},e.prototype.clickModule=function(t){var e=t.target.name;this.desk.curModuleNumber=parseInt(e),this.desk.initAllModule(),this.desk.changeRecipeItem(),this.node.height=this.desk.nodeHeight[1],this.title.y=this.desk.titlePos[1]},i([u],e)}(a.default));n.default=l,cc._RF.pop()},{"../../Common/Components/ListItem":"ListItem","../../Config/RawMaterial":"RawMaterial"}],RecycleScroll:[function(t,e,n){"use strict";cc._RF.push(e,"0d95cDuDTpNHL3GyMiGr8Cr","RecycleScroll");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=a.menu,l=0,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemPrefab=null,e.spacing=cc.Vec2.ZERO,e.offsetContentHeight=0,e.parentContent=null,e._numItems=0,e._tempContentHeight=0,e.isDown=!0,e._viewCol=0,e._viewRow=0,e._viewW=0,e._viewH=0,e._itemW=0,e._itemH=0,e._lastPosY=0,e._isInit=!1,e._itemsUUIDToIndex={},e._fleshInterval=.2,e._fleshCounter=0,e._initTimer=.05,e._initCounter=0,e._isResize=!1,e._itemStartPos=cc.Vec2.ZERO,e._isResizeFinish=!1,e._lineIndex=-1,e.itemList=[],e.content=null,e}return r(e,t),Object.defineProperty(e.prototype,"numItems",{get:function(){return this._numItems},set:function(t){this._numItems=t,this._hideAllItems(),this._initialize(),this._updateContentHeight(),this.updateAllItems()},enumerable:!1,configurable:!0}),e.prototype.onItemRender=function(){},e.prototype.onItemClicked=function(){},e.prototype.updateAllItems=function(){var t=this;this.itemList.forEach(function(e){return t._updateItem(t._itemsUUIDToIndex[e.uuid],e,!0)})},e.prototype.scrollToIndexVertical=function(t,e){void 0===e&&(e=.2);var n=this._getContentUTF(),o=this._itemH*t/(n.height-this._viewH);this.node.getComponent(cc.ScrollView).scrollToPercentVertical(1-o,e)},e.prototype.getItemDirPos=function(t){var e=t%this._viewCol*this._itemW,n=-Math.floor(t/this._viewCol)*this._itemH+(this.spacing.y>>1),o=this._getContentUTF().convertToWorldSpaceAR(cc.v3(e,n)),r=this._getContentUTF().parent.convertToNodeSpaceAR(o);return[r.x<-this._viewW/2?-1:r.x>this._viewW/2?1:0,r.y<-this._viewH/2?-1:r.y>this._viewH/2?1:0]},e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.SIZE_CHANGED,this.onSizeChange,this)},e.prototype.onSizeChange=function(){this._isResize=!0,this._initCounter=0,this._itemsUUIDToIndex={},this._getContentUTF().removeAllChildren()},e.prototype.onDestroy=function(){this.node.targetOff(this)},e.prototype._hideAllItems=function(){this.itemList.forEach(function(t){return t.active=!1})},e.prototype._getContentUTF=function(){return this.node.getComponent(cc.ScrollView).content},e.prototype._initialize=function(){var t=this;if(!this._isInit){var e=this.node.getComponent(cc.ScrollView);e.enabled=!1,this._isInit=!0;var n=this._getContentUTF();this.content=n,n.removeAllChildren(),this.itemList=[];var o=n.parent;this._viewW=o.width,this._viewH=o.height;var r=this.itemPrefab.data;this._itemW=r.width+this.spacing.x,this._itemH=r.height+this.spacing.y,this._lastPosY=n.position.y,this._viewRow=Math.ceil(this._viewH/this._itemH)+1,this._viewCol=Math.floor(this._viewW/this._itemW);var i=this._viewW-this._viewCol*this._itemW,a=cc.v2((-this._viewW>>1)+(this._itemW>>1)+(i>>1),-this._itemH>>1);this._itemStartPos=a;var s=this._viewRow*this._viewCol;console.log("\u5b9e\u4f8b\u5316\u6570\u91cf:"+s);var c=0;h(s,function(o){if(cc.isValid(n)){var r=cc.instantiate(t.itemPrefab);r.parent=n;var i=o%t._viewCol*t._itemW,u=-Math.floor(o/t._viewCol)*t._itemH+(t.spacing.y>>1),l=cc.v3(i+a.x,u+a.y);r.setPosition(l),r.on(cc.Node.EventType.TOUCH_END,function(){t.onItemClicked(t._itemsUUIDToIndex[r.uuid],r)},t),t.itemList[o]=r,r.needRender=!0,t._updateItem(o,r),t._itemsUUIDToIndex[r.uuid]=o,++c==s&&(e.enabled=!0)}},16,0,++l)}},e.prototype._updateContentHeight=function(){var t=this._getContentUTF(),e=Math.floor(this._viewW/this._itemW),n=Math.ceil(this.numItems/e);t.height=(n+4)*(this.itemPrefab.data.height+this.spacing.y)-this.spacing.y+this.offsetContentHeight},e.prototype._getPosInView=function(t){var e=this._getContentUTF(),n=e.parent,o=e.convertToWorldSpaceAR(t.position);return n.convertToNodeSpaceAR(o)},e.prototype._updateItem=function(t,e,n){void 0===n&&(n=!1);var o=t>=0&&t<this.numItems;e.active=o,o&&(e.needRender||n)&&(this.onItemRender(t,e),e.needRender=!1)},e.prototype.update=function(t){if(this._isResize)return this._initCounter+=t,void(this._initCounter>=this._initTimer&&(this._isInit=!1,this._isResize=!1,this.numItems=this._numItems,this._isResizeFinish=!0));var e=this._getContentUTF().position.y,n=e-this._lastPosY;if(this._lastPosY=e,this._fleshCounter+=t,0!=n||this._isResizeFinish){var o=n<0;this.isDown=o;var r=this._viewH>>1,i=this._itemH>>1,a=Math.floor((e-r)/this._itemH),s=this._lineIndex!=a;if(s||this._isResizeFinish){this._isResizeFinish=!1,this._lineIndex=a;for(var c=this._itemH*this._viewRow,u=this._viewRow*this._viewCol,l=Math.floor((e-r)/c),p=this.itemList.length,h=0;h<p;++h){var f=h,d=this.itemList[h],_=f%this._viewCol*this._itemW,y=-Math.floor(f/this._viewCol)*this._itemH+(this.spacing.y>>1),v=cc.v3(_+this._itemStartPos.x,y+this._itemStartPos.y-l*c);d.setPosition(v);var g=this._getPosInView(d),m=this._itemsUUIDToIndex[d.uuid],b=l*u+h;o?(g.y>=r+i&&(d.setPosition(cc.v3(d.position.x,d.position.y-this._viewRow*this._itemH)),b+=p),s&&this._getPosInView(d).y<=-(r+i)&&(d.setPosition(cc.v3(d.position.x,d.position.y+this._viewRow*this._itemH)),b-=p)):g.y>=r+i&&(d.setPosition(cc.v3(d.position.x,d.position.y-this._viewRow*this._itemH)),b+=p),b!=m&&(d.needRender=!0,this._updateItem(b,d)),this._itemsUUIDToIndex[d.uuid]=b}}}},i([c(cc.Prefab)],e.prototype,"itemPrefab",void 0),i([c(cc.Vec2)],e.prototype,"spacing",void 0),i([c(Number)],e.prototype,"offsetContentHeight",void 0),i([c(cc.Node)],e.prototype,"parentContent",void 0),i([s("RecycleScroll"),u("\u6027\u80fd\u4f18\u5316/RecycleScroll")],e)}(cc.Component);function h(t,e,n,o,r){void 0===n&&(n=16),void 0===o&&(o=0),void 0===r&&(r=0);for(var i=t,a=(new Date).getTime(),s=0;s<i&&r==l&&!(o>=i);++s){try{e&&e(o)}catch(c){cc.error(c)}if(o++,(new Date).getTime()-a>n){setTimeout(function(){h(i,e,n,o,r)},10);break}}}n.default=p,cc._RF.pop()},{}],RenderUtil:[function(t,e,n){"use strict";cc._RF.push(e,"4bd3bJ9z/JCjJ33ca5fBEZA","RenderUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.getRenderTexture=function(t,e){if(!cc.isValid(t))return null;e&&e instanceof cc.RenderTexture||(e=new cc.RenderTexture);var n=Math.floor(t.width),o=Math.floor(t.height);e.initWithSize(n,o);var r=new cc.Node;r.parent=t;var i=r.addComponent(cc.Camera);return i.clearFlags|=cc.Camera.ClearFlags.COLOR,i.backgroundColor=cc.color(0,0,0,0),i.zoomRatio=cc.winSize.height/o,i.targetTexture=e,i.render(t),r.destroy(),e},t.renderWithMaterial=function(t,e,n){e instanceof cc.Material&&(n=e,e=new cc.RenderTexture);var o=new cc.Node;o.setParent(cc.Canvas.instance.node);var r=o.addComponent(cc.Sprite);r.sizeMode=cc.Sprite.SizeMode.RAW,r.trim=!1,r.spriteFrame=new cc.SpriteFrame(t);var i=t.width,a=t.height;e.initWithSize(i,a),n instanceof cc.Material&&r.setMaterial(0,n);var s=new cc.Node;s.setParent(o);var c=s.addComponent(cc.Camera);return c.clearFlags|=cc.Camera.ClearFlags.COLOR,c.backgroundColor=cc.color(0,0,0,0),c.zoomRatio=cc.winSize.height/a,c.targetTexture=e,c.render(o),s.destroy(),o.destroy(),e},t.getPixelsData=function(t,e){if(void 0===e&&(e=!0),!cc.isValid(t))return null;var n=Math.floor(t.width),o=Math.floor(t.height),r=new cc.Node;r.parent=t;var i=r.addComponent(cc.Camera);i.clearFlags|=cc.Camera.ClearFlags.COLOR,i.backgroundColor=cc.color(0,0,0,0),i.zoomRatio=cc.winSize.height/o;var a=new cc.RenderTexture;a.initWithSize(n,o,cc.RenderTexture.DepthStencilFormat.RB_FMT_S8),i.targetTexture=a,i.render(t);var s=a.readPixels();if(a.destroy(),r.destroy(),e){for(var c=s.length,u=4*n,l=new Uint8Array(c),p=0,h=c-u;p<c;p+=u,h-=u)for(var f=0;f<u;f++)l[p+f]=s[h+f];return l}return s},t.flipY=function(t,e){for(var n=t.length,o=new Uint8Array(n),r=0,i=n-e;r<n;r+=e,i-=e)for(var a=0;a<e;a++)o[r+a]=t[i+a];return o},t}();n.default=o,cc._RF.pop()},{}],ResConfig:[function(t,e,n){"use strict";cc._RF.push(e,"97044gds7tDBJR/h6CihizM","ResConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.RoleState=n.EntityDirection=void 0,function(t){t[t.LEFT_UP=0]="LEFT_UP",t[t.RIGHT_UP=1]="RIGHT_UP",t[t.LEFT_DOWN=2]="LEFT_DOWN",t[t.RIGHT_DOWN=3]="RIGHT_DOWN",t[t.DOWN=4]="DOWN",t[t.UP=5]="UP"}(n.EntityDirection||(n.EntityDirection={})),function(t){t.run="run",t.idle="idle"}(n.RoleState||(n.RoleState={})),cc._RF.pop()},{}],ResMgr:[function(t,e,n){"use strict";cc._RF.push(e,"de5dbVuBfFIMLLJqz5PKFHB","ResMgr");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./CocosHelper"),a=function(){function t(){this._prefabDepends=cc.js.createMap(),this._dynamicTags=cc.js.createMap(),this._tmpAssetsDepends=[],this._assetsReference=cc.js.createMap(),this._prefabs=cc.js.createMap()}return Object.defineProperty(t,"inst",{get:function(){return null===this.instance&&(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),t.prototype.getFormPrefab=function(t){return this._prefabs[t]},t.prototype.loadFormPrefab=function(t){return o(this,void 0,void 0,function(){var e,n,o;return r(this,function(r){switch(r.label){case 0:return this._prefabs[t]?[2,this._prefabs[t]]:[4,this._loadResWithReference(t,cc.Prefab)];case 1:return e=r.sent(),n=e.res,o=e.deps,this._prefabDepends[t]=o,this._prefabs[t]=n,[2,n]}})})},t.prototype.destoryFormPrefab=function(t){this._prefabs[t]&&(this._prefabs[t].destroy(),this._prefabs[t]=null,delete this._prefabs[t]),this._destoryResWithReference(this._prefabDepends[t]),this._prefabDepends[t]=null,delete this._prefabDepends[t]},t.prototype.loadDynamicRes=function(t,e,n){return o(this,void 0,void 0,function(){var o,i,a,s;return r(this,function(r){switch(r.label){case 0:return[4,this._loadResWithReference(t,e)];case 1:return o=r.sent(),i=o.res,a=o.deps,this._dynamicTags[n]||(this._dynamicTags[n]=[]),(s=this._dynamicTags[n]).push.apply(s,a),[2,i]}})})},t.prototype.destoryDynamicRes=function(t){return!!this._dynamicTags[t]&&(this._destoryResWithReference(this._dynamicTags[t]),this._dynamicTags[t]=null,delete this._dynamicTags[t],!0)},t.prototype._loadResWithReference=function(t,e){return o(this,void 0,void 0,function(){var n,o;return r(this,function(r){switch(r.label){case 0:return[4,i.default.loadResSync(t,e,this._addTmpAssetsDepends.bind(this))];case 1:return(n=r.sent())?(this._clearTmpAssetsDepends(),(o=cc.assetManager.dependUtil.getDepsRecursively(n._uuid)||[]).push(n._uuid),this.addAssetsDepends(o),[2,{res:n,deps:o}]):(this._clearTmpAssetsDepends(),[2,null])}})})},t.prototype._destoryResWithReference=function(t){var e=this.removeAssetsDepends(t);return this._destoryAssets(e),!0},t.prototype.addAssetsDepends=function(t){for(var e=0,n=t;e<n.length;e++){var o=n[e];this._checkIsBuiltinAssets(o)||(this._assetsReference[o]?this._assetsReference[o]+=1:this._assetsReference[o]=1)}},t.prototype.removeAssetsDepends=function(t){for(var e=[],n=0,o=t;n<o.length;n++){var r=o[n];this._assetsReference[r]&&0!==this._assetsReference[r]&&(this._assetsReference[r]--,0===this._assetsReference[r]&&(e.push(r),delete this._assetsReference[r]))}return e},t.prototype._destoryAssets=function(t){for(var e=0,n=t;e<n.length;e++){var o=n[e];this._destoryAsset(o)}},t.prototype._destoryAsset=function(t){if(!this._checkIsBuiltinAssets(t)){var e=cc.assetManager.assets.get(t);e&&(e.destroy(),cc.assetManager.assets.remove(t),cc.assetManager.dependUtil.remove(t))}},t.prototype._addTmpAssetsDepends=function(t,e,n){var o,r=cc.assetManager.dependUtil.getDepsRecursively(n.uuid)||[];r.push(n.uuid),this.addAssetsDepends(r),(o=this._tmpAssetsDepends).push.apply(o,r)},t.prototype._clearTmpAssetsDepends=function(){for(var t=0,e=this._tmpAssetsDepends;t<e.length;t++){var n=e[t];this._assetsReference[n]&&0!==this._assetsReference[n]&&(this._assetsReference[n]--,0===this._assetsReference[n]&&delete this._assetsReference[n])}this._tmpAssetsDepends=[]},t.prototype._checkIsBuiltinAssets=function(t){var e=cc.assetManager.assets.get(t);return!(!e||-1==e._name.indexOf("builtin"))},t.prototype.computeTextureCache=function(){var t=cc.assetManager.assets,e=0,n=0;return t.forEach(function(t){if("cc.Texture2D"==(t&&t.__classname__?t.__classname__:"")){var o=t,r=o.width*o.height*((".jpg"===o._native?3:4)/1024/1024);e+=r,n++}}),"\u7f13\u5b58 [\u7eb9\u7406\u603b\u6570:"+n+"][\u7eb9\u7406\u7f13\u5b58:"+e.toFixed(2)+"M]"},t.instance=null,t}();n.default=a,cc._RF.pop()},{"./CocosHelper":"CocosHelper"}],RoleMgr:[function(t,e,n){"use strict";cc._RF.push(e,"3b40fEGK7xLwYO1n0n2/Vh5","RoleMgr");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../Common/Utils/utils"),a=t("../../Config/GlobalData"),s=function(){function t(){this._waitQueue=new Map,this._home=null,this._pos=null}return Object.defineProperty(t,"ins",{get:function(){return t._ins||(t._ins=new t),t._ins},enumerable:!1,configurable:!0}),t.prototype.init=function(t,e){this._home=t,this._pos=e},t.prototype.welcome=function(t){return this.enqueue(t)},Object.defineProperty(t.prototype,"firstRole",{get:function(){return this._waitQueue.get(1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"waitSize",{get:function(){return this._waitQueue.size},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){var e=this._waitQueue.size,n=e+1;return t.awaitIndex=n,t.toPos(i.getPosByDesign(cc.v2(this._pos.x,this._pos.y-e*a.GlobalData.gameData.waitingSpeedY))),this._waitQueue.set(n,t),!0},t.prototype.updateSpareRoles=function(){return o(this,void 0,void 0,function(){var t,e,n;return r(this,function(){if(!(t=this._waitQueue.size))return[2];for(e=1;e<=t;e++){if(!(n=this._waitQueue.get(e)))return[2];1===e?(this._waitQueue.delete(e),n.awaitIndex=0):(n.awaitIndex=e-1,n.toPos(i.getPosByDesign(cc.v2(this._pos.x,this._pos.y-(e-2)*a.GlobalData.gameData.waitingSpeedY))),this._waitQueue.set(e-1,n))}return this._waitQueue.delete(t),[2]})})},t._ins=null,t}();n.default=s,cc._RF.pop()},{"../../Common/Utils/utils":"utils","../../Config/GlobalData":"GlobalData"}],SceneMgr:[function(t,e,n){"use strict";cc._RF.push(e,"df3116tk7BDOqeyh6sIDQKE","SceneMgr");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./config/SysDefine"),a=t("./Struct"),s=t("./TipsMgr"),c=t("./UIManager"),u=function(){function t(){this._scenes=[]}return t.prototype.getCurrScene=function(){return c.default.getInstance().getForm(this._currScene.prefabUrl)},t.prototype.open=function(t,e,n){return o(this,void 0,void 0,function(){var o,i,s,u,l;return r(this,function(r){switch(r.label){case 0:return t=a.GetForm(t),o=t.prefabUrl,this._currScene&&this._currScene.prefabUrl==o?(cc.warn("SceneMgr","\u5f53\u524d\u573a\u666f\u548c\u9700\u8981open\u7684\u573a\u666f\u662f\u540c\u4e00\u4e2a"),[2,null]):[4,this.openLoading(null==n?void 0:n.loadingForm,e,n)];case 1:return r.sent(),this._scenes.length>0?(i=this._scenes[this._scenes.length-1],[4,c.default.getInstance().closeForm(i)]):[3,3];case 2:r.sent(),r.label=3;case 3:for(s=-1,u=0;u<this._scenes.length;u++)if(this._scenes[u].prefabUrl===t.prefabUrl){s=u;break}return-1==s?this._scenes.push(t):this._scenes.length=s+1,this._currScene=t,[4,c.default.getInstance().openForm(t,e,n)];case 4:return l=r.sent(),[4,this.closeLoading(null==n?void 0:n.loadingForm)];case 5:return r.sent(),[2,l]}})})},t.prototype.back=function(t,e){return o(this,void 0,void 0,function(){var n;return r(this,function(o){switch(o.label){case 0:return this._scenes.length<=1?(cc.warn("SceneMgr","\u5df2\u7ecf\u662f\u6700\u540e\u4e00\u4e2a\u573a\u666f\u4e86, \u65e0\u5904\u53ef\u9000"),[2]):[4,this.openLoading(null==e?void 0:e.loadingForm,t,e)];case 1:return o.sent(),n=this._scenes.pop(),[4,c.default.getInstance().closeForm(n)];case 2:return o.sent(),this._currScene=this._scenes[this._scenes.length-1],[4,c.default.getInstance().openForm(this._currScene,t,e)];case 3:return o.sent(),[4,this.closeLoading(null==e?void 0:e.loadingForm)];case 4:return o.sent(),[2]}})})},t.prototype.close=function(t,e,n){return o(this,void 0,void 0,function(){return r(this,function(){return t=a.GetForm(t),[2,c.default.getInstance().closeForm(t,e,n)]})})},t.prototype.openLoading=function(t,e,n){return o(this,void 0,void 0,function(){var o;return r(this,function(r){switch(r.label){case 0:return(o=t||i.SysDefine.defaultLoadingForm)?[4,s.default.open(o.prefabUrl,e,n)]:[2];case 1:return r.sent(),[2]}})})},t.prototype.closeLoading=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){switch(n.label){case 0:return(e=t||i.SysDefine.defaultLoadingForm)?[4,s.default.close(e.prefabUrl)]:[2];case 1:return n.sent(),[2]}})})},t}();n.default=new u,cc._RF.pop()},{"./Struct":"Struct","./TipsMgr":"TipsMgr","./UIManager":"UIManager","./config/SysDefine":"SysDefine"}],Scene:[function(t,e,n){"use strict";cc._RF.push(e,"b13f3yncLhOvJSRs1QLB0sR","Scene");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Logic/Game"),u=t("../UIFrame/AdapterMgr"),l=t("../UIFrame/EventCenter"),p=t("../UIFrame/EventType"),h=cc._decorator,f=h.ccclass,d=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndBlock=null,e._block=0,e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){this.initBlockNode()},e.prototype.initBlockNode=function(){this.ndBlock=new cc.Node("block"),this.ndBlock.addComponent(cc.BlockInputEvents),this.node.addChild(this.ndBlock,cc.macro.MAX_ZINDEX)},e.prototype.start=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return n.inst=this,u.default.inst.adapteByType(u.AdapterType.StretchHeight|u.AdapterType.StretchWidth,this.node),[4,this.onGameInit()];case 1:return t.sent(),this.registerEvent(),[2]}})})},e.prototype.onGameInit=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,c.default.init(this.node)];case 1:return t.sent(),[2]}})})},e.prototype.registerEvent=function(){cc.sys.platform===cc.sys.WECHAT_GAME?(wx.onShow(this.onGameShow.bind(this)),wx.onHide(this.onGameHide.bind(this))):(cc.game.on(cc.game.EVENT_SHOW,this.onGameShow,this),cc.game.on(cc.game.EVENT_HIDE,this.onGameHide,this))},e.prototype.onGameShow=function(t){l.EventCenter.emit(p.EventType.GameShow,t),cc.director.resume()},e.prototype.onGameHide=function(){l.EventCenter.emit(p.EventType.GameHide),cc.director.pause()},e.prototype.update=function(t){c.default.update(t)},e.prototype.lateUpdate=function(){},e.prototype.setInputBlock=function(t){this.ndBlock?(t?++this._block:--this._block,this.ndBlock.active=this._block>0):cc.warn("\u672a\u542f\u7528 block input")},e.inst=null,n=i([f],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../Logic/Game":"Game","../UIFrame/AdapterMgr":"AdapterMgr","../UIFrame/EventCenter":"EventCenter","../UIFrame/EventType":"EventType"}],ScrollViewHelper:[function(t,e,n){"use strict";cc._RF.push(e,"90448z1fXJKVppxfCvCjY6W","ScrollViewHelper");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.ScrollViewHelper=n.ScrollViewElementProxy=n.ScrollViewElementProxyState=void 0;var a,s=cc._decorator,c=s.ccclass,u=s.property;(function(t){t[t.NoUI=0]="NoUI",t[t.HaveUI=1]="HaveUI"})(a=n.ScrollViewElementProxyState||(n.ScrollViewElementProxyState={}));var l=function(){this.state=a.NoUI};n.ScrollViewElementProxy=l;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.syncInterval=.05,e._proxys=[],e._syncCounter=0,e._lastCheckX=0,e}return r(e,t),Object.defineProperty(e.prototype,"scrollView",{get:function(){return this._svCachedScrollView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"datas",{get:function(){return this._proxys},enumerable:!1,configurable:!0}),e.prototype.clearData=function(){for(var t=0,e=this._proxys;t<e.length;t++){var n=e[t];n.ui&&this.onFreeUI&&this.onFreeUI(n)}this._proxys.length=0},e.prototype.addData=function(t){this._initializeProxy(t),this._proxys.push(t)},e.prototype.setDebug=function(t){t&&!this._debugNode?(this._debugNode=(new cc.Node).addComponent(cc.Graphics),this.scrollView.content.addChild(this._debugNode.node),this._debugNode.node.setPosition(cc.v2(0,0))):!t&&this._debugNode&&(this._debugNode.node.removeFromParent(),this._debugNode.node.destroy()),this._refreshDebug()},e.prototype.checkUI=function(){this._checkUIState(),this._syncingUI=!0},e.prototype.setLoopHorizontal=function(t){if(t!=this._horizontalLoop){if(t){for(var e=this._proxys.length-1;e>=0;e--)if(!(o=this._proxys[e]).horizontalLoop){var n=new l;this._initializeProxy(n),n.src=o.src,n.region=new cc.Rect(o.region.x,o.region.y,o.region.width,o.region.height),n.horizontalLoop=!0,n.verticalLoop=o.verticalLoop,n.region.x+=this.scrollView.content.width,this._proxys.push(n)}this.scrollView.content.setContentSize(2*this.scrollView.content.width,this.scrollView.content.height)}else{for(e=this._proxys.length-1;e>=0;e--){var o;(o=this._proxys[e]).horizontalLoop&&o.ui&&(this.onFreeUI(o),o.ui=null,this._proxys.splice(e,1))}this.scrollView.content.setContentSize(this.scrollView.content.width/2,this.scrollView.content.height)}this._horizontalLoop=t}},e.prototype.onLoad=function(){this._bindScrollView(this.getComponent(cc.ScrollView))},e.prototype.update=function(t){this._syncingUI&&(this._syncCounter+=t,this._syncCounter>=this.syncInterval&&(this._syncCounter=0,this._syncUIState(1)))},e.prototype._initializeProxy=function(t){t.horizontalLoop=!1,t.src=t,t.state=a.NoUI,t.ui=null,t.verticalLoop=!1},e.prototype._checkLoopHorizontal=function(){var t=this.scrollView.getScrollOffset(),e=t.x-this._lastCheckX;if(Math.abs(e)>2){this._lastCheckX=t.x;var n=this.scrollView.content.width/2;e<0&&t.x<-n?(t.x+=n,this._lastCheckX=t.x,t.x=-t.x,this.scrollView.scrollToOffset(t)):e>0&&t.x>0&&(t.x-=n,this._lastCheckX=t.x,t.x=-t.x,this.scrollView.scrollToOffset(t))}},e.prototype._bindScrollView=function(){this._svCachedScrollView=this.getComponent(cc.ScrollView);var t=new cc.Component.EventHandler;t.target=this.node,t.component="ScrollViewHelper",t.handler="_onScroll",this._svCachedScrollView.scrollEvents.push(t),this._svCachedScrollView.node.on(cc.Node.EventType.SIZE_CHANGED,this._refreshViewportRect,this),this._svCachedScrollView.content.on(cc.Node.EventType.ANCHOR_CHANGED,this._refreshViewportRect,this),this._svCachedScrollView.content.on(cc.Node.EventType.SIZE_CHANGED,this._refreshViewportRect,this),this._refreshViewportRect()},e.prototype._refreshViewportRect=function(){this._rectCachedViewport=cc.rect(),this._rectCachedViewport.size=this._svCachedScrollView.node.getContentSize(),this._rectCachedViewport.origin=cc.v2(-this._svCachedScrollView.content.anchorX*this._svCachedScrollView.content.width,(1-this._svCachedScrollView.content.anchorY)*this._svCachedScrollView.content.height-this._rectCachedViewport.size.height),this._checkUIState(),this._syncingUI=!0},e.prototype._checkUIState=function(){for(var t=this._svCachedScrollView.getScrollOffset(),e=this._rectCachedViewport.width,n=this._rectCachedViewport.height,o=-t.x+this._rectCachedViewport.x,r=-t.y+this._rectCachedViewport.y,i=0,s=this._proxys;i<s.length;i++){var c=s[i],u=c.region,l=u.x,p=u.y;l>o-u.width&&l<o+e&&p>r-u.height&&p<r+n?c.state=a.HaveUI:c.state=a.NoUI}},e.prototype._syncUIState=function(t){for(var e=0,n=0,o=this._proxys;n<o.length;n++)(s=o[n]).state==a.NoUI&&s.ui&&(this.onFreeUI(s),e++,this._debugNode&&cc.log("ScrollViewHelper._syncUIState ----\x3e free ui"));for(var r=0,i=this._proxys;r<i.length;r++){var s;if((s=i[r]).state==a.HaveUI&&!s.ui){var c=this.isUIPooled&&this.isUIPooled(s);this.onAllocUI(s),e++,c||t--,this._debugNode&&cc.log("ScrollViewHelper._syncUIState ----\x3e alloc ui")}if(t<=0)break}e<=0&&(this._syncingUI=!1)},e.prototype._onScroll=function(){this._horizontalLoop&&this._checkLoopHorizontal(),this._checkUIState(),this._syncingUI=!0},e.prototype._refreshDebug=function(){if(this._debugNode){this._debugNode.clear(),this._debugNode.fillColor=cc.color(255,0,0,255);for(var t=0;t<this._proxys.length;t++)this._debugNode.fillRect(this._proxys[t].region.x,this._proxys[t].region.y,this._proxys[t].region.width,this._proxys[t].region.height)}},i([u()],e.prototype,"syncInterval",void 0),i([c],e)}(cc.Component);n.ScrollViewHelper=p,cc._RF.pop()},{}],Shake:[function(t,e,n){"use strict";cc._RF.push(e,"50dd1CK5CZDxKf4hgecFu92","Shake");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._initial_x=0,e._initial_y=0,e._strength_x=0,e._strength_y=0,e}var n;return r(e,t),n=e,e.create=function(t,e,o){var r=new n;return r.initWithDuration(t,e,o),r},e.prototype.initWithDuration=function(t,e,n){return cc.ActionInterval.prototype.initWithDuration.apply(this,arguments),this._strength_x=e,this._strength_y=n,!0},e.prototype.fgRangeRand=function(t,e){return Math.random()*(e-t)+t},e.prototype.update=function(){var t=this.fgRangeRand(-this._strength_x,this._strength_x),e=this.fgRangeRand(-this._strength_y,this._strength_y);this.getTarget().setPosition(t+this._initial_x,e+this._initial_y)},e.prototype.startWithTarget=function(t){cc.ActionInterval.prototype.startWithTarget.apply(this,arguments),this._initial_x=t.x,this._initial_y=t.y},e.prototype.stop=function(){this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y)),cc.ActionInterval.prototype.stop.apply(this)},n=i([s],e)}(cc.ActionInterval));n.default=c,cc._RF.pop()},{}],SoundMgr:[function(t,e,n){"use strict";cc._RF.push(e,"53a8cu6MiRDyaBRISmEhgTZ","SoundMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./CocosHelper"),u=t("./config/SysDefine"),l=cc._decorator,p=l.ccclass,h=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioCache=cc.js.createMap(),e.currEffectId=-1,e.currMusicId=-1,e.volume=new f,e}return r(e,t),Object.defineProperty(e,"inst",{get:function(){return null==this._inst&&(this._inst=cc.find(u.SysDefine.SYS_UIROOT_NAME).addComponent(this)),this._inst},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t=this.getVolumeToLocal();t?this.volume=t:(this.volume.musicVolume=1,this.volume.effectVolume=1),this.setVolumeToLocal(),cc.game.on(cc.game.EVENT_HIDE,function(){cc.audioEngine.pauseAll()},this),cc.game.on(cc.game.EVENT_SHOW,function(){cc.audioEngine.resumeAll()},this)},e.prototype.getVolume=function(){return this.volume},e.prototype.start=function(){},e.prototype.setMusicVolume=function(t){this.volume.musicVolume=t,this.setVolumeToLocal()},e.prototype.setEffectVolume=function(t){this.volume.effectVolume=t,this.setVolumeToLocal()},e.prototype.playMusic=function(t,e){return void 0===e&&(e=!0),a(this,void 0,void 0,function(){var n;return s(this,function(o){switch(o.label){case 0:return t&&""!==t?this.audioCache[t]?(cc.audioEngine.playMusic(this.audioCache[t],e),[2]):[4,c.default.loadResSync(t,cc.AudioClip)]:[2];case 1:return n=o.sent(),this.audioCache[t]=n,this.currMusicId=cc.audioEngine.playMusic(n,e),[2]}})})},e.prototype.playEffect=function(t,e){return void 0===e&&(e=!1),a(this,void 0,void 0,function(){var n;return s(this,function(o){switch(o.label){case 0:return t&&""!==t?this.audioCache[t]?(cc.audioEngine.playEffect(this.audioCache[t],e),[2]):[4,c.default.loadResSync(t,cc.AudioClip)]:[2];case 1:return n=o.sent(),this.audioCache[t]=n,this.currEffectId=cc.audioEngine.playEffect(n,e),[2]}})})},e.prototype.getVolumeToLocal=function(){var t=cc.sys.localStorage.getItem("Volume_For_Creator");return t?JSON.parse(t):null},e.prototype.setVolumeToLocal=function(){cc.audioEngine.setMusicVolume(this.volume.musicVolume),cc.audioEngine.setEffectsVolume(this.volume.effectVolume),cc.sys.localStorage.setItem("Volume_For_Creator",JSON.stringify(this.volume))},e.prototype.setEffectActive=function(t,e){void 0===e&&(e=-1),t?cc.audioEngine.stop(e<0?this.currEffectId:e):cc.audioEngine.resume(e<0?this.currEffectId:e)},e._inst=null,i([p],e)}(cc.Component));n.default=h;var f=function(){};cc._RF.pop()},{"./CocosHelper":"CocosHelper","./config/SysDefine":"SysDefine"}],SpinePlus:[function(t,e,n){"use strict";cc._RF.push(e,"30062r80kNGeKSQLxsTnRWf","SpinePlus");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=a.executeInEditMode,l=a.menu,p=a.help,h=a.inspector,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.paused=!1,e}return r(e,t),e.prototype.start=function(){},e.prototype.update=function(e){t.prototype.update.call(this,e)},i([c({override:!0,visible:!0})],e.prototype,"paused",void 0),i([s,l("i18n:MAIN_MENU.component.ui/SpinePlus"),u,p("app://docs/html/components/spine.html"),h("packages://custom-inspector/inspector/spine.js")],e)}(sp.Skeleton);n.default=f,cc._RF.pop()},{}],StateMachine:[function(t,e,n){"use strict";var o;cc._RF.push(e,"a7054SKrgdF4Z4s5xp++8qZ","StateMachine"),o={VERSION:"2.4.0",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(t,e){var n="string"==typeof t.initial?{state:t.initial}:t.initial,r=t.terminal||t.final,i=e||t.target||{},a=t.events||[],s=t.callbacks||{},c={},u={},l=function(t){var e=Array.isArray(t.from)?t.from:t.from?[t.from]:[o.WILDCARD];c[t.name]=c[t.name]||{};for(var n=0;n<e.length;n++)u[e[n]]=u[e[n]]||[],u[e[n]].push(t.name),c[t.name][e[n]]=t.to||e[n];t.to&&(u[t.to]=u[t.to]||[])};n&&(n.event=n.event||"startup",l({name:n.event,from:"none",to:n.state}));for(var p=0;p<a.length;p++)l(a[p]);for(var h in c)c.hasOwnProperty(h)&&(i[h]=o.buildEvent(h,c[h]));for(var h in s)s.hasOwnProperty(h)&&(i[h]=s[h]);return i.current="none",i.is=function(t){return Array.isArray(t)?t.indexOf(this.current)>=0:this.current===t},i.can=function(t){return!this.transition&&void 0!==c[t]&&(c[t].hasOwnProperty(this.current)||c[t].hasOwnProperty(o.WILDCARD))},i.cannot=function(t){return!this.can(t)},i.transitions=function(){return(u[this.current]||[]).concat(u[o.WILDCARD]||[])},i.isFinished=function(){return this.is(r)},i.error=t.error||function(t,e,n,o,r,i,a){throw a||i},i.states=function(){return Object.keys(u).sort()},n&&!n.defer&&i[n.event](),i},doCallback:function(t,e,n,r,i,a){if(e)try{return e.apply(t,[n,r,i].concat(a))}catch(s){return t.error(n,r,i,a,o.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",s)}},beforeAnyEvent:function(t,e,n,r,i){return o.doCallback(t,t.onbeforeevent,e,n,r,i)},afterAnyEvent:function(t,e,n,r,i){return o.doCallback(t,t.onafterevent||t.onevent,e,n,r,i)},leaveAnyState:function(t,e,n,r,i){return o.doCallback(t,t.onleavestate,e,n,r,i)},enterAnyState:function(t,e,n,r,i){return o.doCallback(t,t.onenterstate||t.onstate,e,n,r,i)},changeState:function(t,e,n,r,i){return o.doCallback(t,t.onchangestate,e,n,r,i)},beforeThisEvent:function(t,e,n,r,i){return o.doCallback(t,t["onbefore"+e],e,n,r,i)},afterThisEvent:function(t,e,n,r,i){return o.doCallback(t,t["onafter"+e]||t["on"+e],e,n,r,i)},leaveThisState:function(t,e,n,r,i){return o.doCallback(t,t["onleave"+n],e,n,r,i)},enterThisState:function(t,e,n,r,i){return o.doCallback(t,t["onenter"+r]||t["on"+r],e,n,r,i)},beforeEvent:function(t,e,n,r,i){if(!1===o.beforeThisEvent(t,e,n,r,i)||!1===o.beforeAnyEvent(t,e,n,r,i))return!1},afterEvent:function(t,e,n,r,i){o.afterThisEvent(t,e,n,r,i),o.afterAnyEvent(t,e,n,r,i)},leaveState:function(t,e,n,r,i){var a=o.leaveThisState(t,e,n,r,i),s=o.leaveAnyState(t,e,n,r,i);return!1!==a&&!1!==s&&(o.ASYNC===a||o.ASYNC===s?o.ASYNC:void 0)},enterState:function(t,e,n,r,i){o.enterThisState(t,e,n,r,i),o.enterAnyState(t,e,n,r,i)},buildEvent:function(t,e){return function(){var n=this.current,r=e[n]||(e[o.WILDCARD]!=o.WILDCARD?e[o.WILDCARD]:n)||n,i=Array.prototype.slice.call(arguments);if(this.transition)return this.error(t,n,r,i,o.Error.PENDING_TRANSITION,"event "+t+" inappropriate because previous transition did not complete");if(this.cannot(t))return this.error(t,n,r,i,o.Error.INVALID_TRANSITION,"event "+t+" inappropriate in current state "+this.current);if(!1===o.beforeEvent(this,t,n,r,i))return o.Result.CANCELLED;if(n===r)return o.afterEvent(this,t,n,r,i),o.Result.NOTRANSITION;var a=this;this.transition=function(){return a.transition=null,a.current=r,o.enterState(a,t,n,r,i),o.changeState(a,t,n,r,i),o.afterEvent(a,t,n,r,i),o.Result.SUCCEEDED},this.transition.cancel=function(){a.transition=null,o.afterEvent(a,t,n,r,i)};var s=o.leaveState(this,t,n,r,i);return!1===s?(this.transition=null,o.Result.CANCELLED):o.ASYNC===s?o.Result.PENDING:this.transition?this.transition():void 0}}},void 0!==n?(void 0!==e&&e.exports&&(n=e.exports=o),n.StateMachine=o):"function"==typeof define&&define.amd?define(function(){return o}):"undefined"!=typeof window?window.StateMachine=o:"undefined"!=typeof self&&(self.StateMachine=o),cc._RF.pop()},{}],Struct:[function(t,e,n){"use strict";cc._RF.push(e,"10f94bOjGlIYIzXaowVjrbs","Struct"),Object.defineProperty(n,"__esModule",{value:!0}),n.ECloseType=n.EPriority=n.GetForm=n.ModalType=void 0;var o=t("./config/SysDefine"),r=function(){function t(t,e,n,r){void 0===t&&(t=o.ModalOpacity.OpacityHalf),void 0===e&&(e=!1),void 0===n&&(n=!0),void 0===r&&(r=.2),this.opacity=o.ModalOpacity.OpacityHalf,this.clickMaskClose=!1,this.isEasing=!0,this.easingTime=.2,this.dualBlur=!1,this.opacity=t,this.clickMaskClose=e,this.isEasing=n,this.easingTime=r}return t.prototype.useBlur=function(){return this.dualBlur=!0,this},t}();n.ModalType=r,n.GetForm=function(t,e){return void 0===e&&(e=o.FormType.Screen),"string"==typeof t?{prefabUrl:t,type:e}:t},function(t){t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.TWO=2]="TWO",t[t.THREE=3]="THREE",t[t.FOUR=4]="FOUR",t[t.FIVE=5]="FIVE",t[t.SIX=6]="SIX",t[t.SEVEN=7]="SEVEN",t[t.EIGHT=8]="EIGHT",t[t.NINE=9]="NINE"}(n.EPriority||(n.EPriority={})),function(t){t[t.CloseAndHide=0]="CloseAndHide",t[t.CloseAndDestory=1]="CloseAndDestory",t[t.LRU=2]="LRU"}(n.ECloseType||(n.ECloseType={})),cc._RF.pop()},{"./config/SysDefine":"SysDefine"}],SysConfig:[function(t,e,n){"use strict";cc._RF.push(e,"9963eJiicZFX5wMEhMsIL+C","SysConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.SysConfig=void 0;var o=function(){function t(){}return t.useLRUCache=!1,t}();n.SysConfig=o,cc._RF.pop()},{}],SysDefine:[function(t,e,n){"use strict";cc._RF.push(e,"7ef5dNjssZO34e85HHLM2ES","SysDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.SysDefine=n.UIState=n.ModalOpacity=n.FormType=void 0;var o=t("../../UIConfig");(function(t){t.Screen="UIScreen",t.Drawer="UIDrawer",t.Fixed="UIFixed",t.Window="UIWindow",t.Toast="UIToast",t.Tips="UITips"})(n.FormType||(n.FormType={})),function(t){t[t.None=0]="None",t[t.OpacityZero=1]="OpacityZero",t[t.OpacityLow=2]="OpacityLow",t[t.OpacityHalf=3]="OpacityHalf",t[t.OpacityHigh=4]="OpacityHigh",t[t.OpacityFull=5]="OpacityFull",t[t.GuassBlur=6]="GuassBlur"}(n.ModalOpacity||(n.ModalOpacity={})),function(t){t[t.None=0]="None",t[t.Loading=1]="Loading",t[t.Showing=2]="Showing",t[t.Hiding=3]="Hiding"}(n.UIState||(n.UIState={}));var r=function(){function t(){}return t.defaultLoadingForm=o.default.UILoading,t.SYS_PATH_CANVAS="Canvas",t.SYS_PATH_UIFORMS_CONFIG_INFO="UIFormsConfigInfo",t.SYS_PATH_CONFIG_INFO="SysConfigInfo",t.SYS_UIROOT_NAME="Canvas/Scene/UIROOT",t.SYS_UIMODAL_NAME="Canvas/Scene/UIROOT/UIModalManager",t.SYS_UIAdapter_NAME="Canvas/Scene/UIROOT/UIAdapterManager",t.SYS_SCENE_NODE="Scene",t.SYS_UIROOT_NODE="UIROOT",t.SYS_SCREEN_NODE="Screen",t.SYS_DRAWER_NODE="Drawer",t.SYS_FIXED_NODE="FixedUI",t.SYS_POPUP_NODE="PopUp",t.SYS_TOPTIPS_NODE="TopTips",t.SYS_TOAST_NODE="Toast",t.SYS_MODAL_NODE="UIModalNode",t.SYS_STANDARD_Prefix="_",t.SYS_STANDARD_Separator="$",t.SYS_STANDARD_End="#",t.UI_PATH_ROOT="UIForms/",t.SeparatorMap={_Node:"cc.Node",_Label:"cc.Label",_Button:"cc.Button",_Sprite:"cc.Sprite",_RichText:"cc.RichText",_Mask:"cc.Mask",_MotionStreak:"cc.MotionStreak",_TiledMap:"cc.TiledMap",_TiledTile:"cc.TiledTile",_Spine:"sp.Skeleton",_Graphics:"cc.Graphics",_Animation:"cc.Animation",_WebView:"cc.WebView",_EditBox:"cc.EditBox",_ScrollView:"cc.ScrollView",_VideoPlayer:"cc.VideoPlayer",_ProgressBar:"cc.ProgressBar",_PageView:"cc.PageView",_Slider:"cc.Slider",_Toggle:"cc.Toggle",_ButtonPlus:"ButtonPlus"},t}();n.SysDefine=r,cc._RF.pop()},{"../../UIConfig":"UIConfig"}],TableMgr:[function(t,e,n){"use strict";cc._RF.push(e,"9d6darNywdMQb+BzcUyTUVK","TableMgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../Config/GlobalData"),r=t("../../Enum/MessageType"),i=t("../base/BaseTable"),a=function(){function t(){this._home=null,this._tableArr=[]}return Object.defineProperty(t,"ins",{get:function(){return t._ins||(t._ins=new t),t._ins},enumerable:!1,configurable:!0}),t.prototype.queryNullTable=function(){return this._tableArr.find(function(t){return t.state===r.TableType.NONE})},t.prototype.init=function(t){this._home=t},t.prototype.addTable=function(){for(var t,e=0,n=o.GlobalData.tableData;e<n.length;e++){var r=n[e],a=this._home.tablePool.get();if(!a)return;a.setPosition(cc.v2(r.x,r.y)),this._home.view.Obs.addChild(a);var s=a.getComponent(i.default);s.init(this._home),this._tableArr.push(s)}(t=this._home).updateMap.apply(t,this._home.view.Obs.children)},t._ins=null,t}();n.default=a,cc._RF.pop()},{"../../Config/GlobalData":"GlobalData","../../Enum/MessageType":"MessageType","../base/BaseTable":"BaseTable"}],TaskMgr:[function(t,e,n){"use strict";cc._RF.push(e,"a001c6UsFtNA5aXLrNhEDJy","TaskMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.Command=n.CommandType=void 0;var o=t("./PriorityQueue");n.CommandType||(n.CommandType={});n.Command=function(){};var r=function(){function t(){this._cmdMap=cc.js.createMap(),this._debugHistory=[],this._debug=!1}return Object.defineProperty(t,"inst",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.setDebug=function(t){void 0===t&&(t=!0),this._debug=t},t.prototype.pushCommand=function(t,e,n){void 0===n&&(n=0),this._debug&&this._debugHistory.push(e);var r=this._cmdMap[t];r||(r=this._cmdMap[t]=new o.default),r.enqueue(e,n)},t.prototype.popCommand=function(t){var e=this._cmdMap[t];return e?e.dequeue():null},t.prototype.hasCommand=function(t,e){if(e)return this._cmdMap[e].hasElement(t);for(var n in this._cmdMap)if(this._cmdMap[n].hasElement(t))return!0;return!1},t._instance=null,t}();n.default=r,cc._RF.pop()},{"./PriorityQueue":"PriorityQueue"}],TextureAssembler:[function(t,e,n){"use strict";cc._RF.push(e,"e0687tDW69CxalPcgT1Omra","TextureAssembler");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Utils/CommonUtils"),a=cc.gfx,s=new a.VertexFormat([{name:a.ATTR_POSITION,type:a.ATTR_TYPE_FLOAT32,num:2},{name:a.ATTR_UV0,type:a.ATTR_TYPE_FLOAT32,num:2},{name:a.ATTR_COLOR,type:a.ATTR_TYPE_UINT8,num:4,normalize:!0}]),c=function(t){function e(){var e=t.call(this)||this;return e.verticesCount=4,e.indicesCount=6,e.floatsPerVert=5,e.uvOffset=2,e.colorOffset=4,e._renderData=null,e._renderData=new cc.RenderData,e._renderData.init(e),e.initData(),e}return r(e,t),Object.defineProperty(e.prototype,"verticesFloats",{get:function(){return this.verticesCount*this.floatsPerVert},enumerable:!1,configurable:!0}),e.prototype.getVfmt=function(){return s},e.prototype.getBuffer=function(){return cc.renderer._handle.getBuffer("mesh",this.getVfmt())},e.prototype.initData=function(){this._renderData.createQuadData(0,this.verticesFloats,this.indicesCount)},e.prototype.resetData=function(t){var e=t.polygon;!e||e.length<3||(this.verticesCount=e.length,this.indicesCount=this.verticesCount+2*(this.verticesCount-3),this._renderData.clear(),this.initData())},e.prototype.initQuadIndices=function(t,e){for(var n=0;n<e.length;n++)t[n]=e[n]},e.prototype.updateColor=function(t,e){var n=this._renderData.uintVDatas[0];if(n){e=null!=e?e:t.node.color._val;for(var o=this.floatsPerVert,r=this.colorOffset,i=t.polygon,a=0;a<i.length;a++)n[r+a*o]=e}},e.prototype.updateUVs=function(t){for(var e=this.uvOffset,n=this.floatsPerVert,o=this._renderData.vDatas[0],r=i.CommonUtils.computeUv(t.polygon,t.node.width,t.node.height),a=t.polygon,s=0;s<a.length;s++){var c=n*s+e;o[c]=r[s].x,o[c+1]=r[s].y}},e.prototype.updateWorldVertsWebGL=function(t){var e=this._renderData.vDatas[0],n=t.node._worldMatrix.m,o=n[0],r=n[1],i=n[4],a=n[5],s=n[12],c=n[13],u=1===o&&0===r&&0===i&&1===a,l=this.floatsPerVert;if(u)for(var p=t.polygon,h=0;h<p.length;h++)e[h*l]=p[h].x+s,e[h*l+1]=p[h].y+c;else for(p=t.polygon,h=0;h<p.length;h++)e[h*l]=o*p[h].x+i*p[h].y+s,e[h*l+1]=r*p[h].x+a*p[h].y+c},e.prototype.updateWorldVertsNative=function(t){for(var e=this._renderData.vDatas[0],n=this.floatsPerVert,o=t.polygon,r=0;r<o.length;r++)e[r*n]=o[r].x,e[r*n+1]=o[r].y},e.prototype.updateWorldVerts=function(t){this.updateWorldVertsWebGL(t)},e.prototype.updateVerts=function(t){var e=i.CommonUtils.splitePolygon(t.polygon);this.initQuadIndices(this._renderData.iDatas[0],e),this.updateWorldVerts(t)},e.prototype.updateRenderData=function(t){t._vertsDirty&&(this.resetData(t),this.updateUVs(t),this.updateVerts(t),this.updateColor(t,null),t._vertsDirty=!1)},e.prototype.fillBuffers=function(t,e){e.worldMatDirty&&this.updateWorldVerts(t);var n=this._renderData,o=n.vDatas[0],r=n.iDatas[0],i=this.getBuffer(),a=i.request(this.verticesCount,this.indicesCount),s=a.byteOffset>>2,c=i._vData;o.length+s>c.length?c.set(o.subarray(0,c.length-s),s):c.set(o,s);for(var u=i._iData,l=a.indiceOffset,p=a.vertexOffset,h=0,f=r.length;h<f;h++)u[l++]=p+r[h]},e.prototype.packToDynamicAtlas=function(t,e){if(!e._original&&cc.dynamicAtlasManager&&e._texture.packable){var n=cc.dynamicAtlasManager.insertSpriteFrame(e);n&&e._setDynamicAtlasFrame(n)}var o=t._materials[0];o&&o.getProperty("texture")!==e._texture&&(t._vertsDirty=!0,t._updateMaterial())},e}(cc.Assembler);n.default=c,cc._RF.pop()},{"../Utils/CommonUtils":"CommonUtils"}],TexturePlus:[function(t,e,n){"use strict";cc._RF.push(e,"58ad8KR/hRJi7EtoZ+PAyOU","TexturePlus");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,s=t("../Assemblers/TextureAssembler"),c=t("../Utils/CommonUtils");cc.renderer.renderEngine,function(t){t[t.Cut=0]="Cut",t[t.Stretch=1]="Stretch"}(a||(a={}));var u=new cc.Vec2,l=new cc.Mat4,p=cc._decorator,h=p.ccclass,f=p.menu,d=p.executeInEditMode,_=p.mixins,y=p.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._texture=null,e._polygon=[],e.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,e.dstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA,e.editing=!1,e._assembler=null,e}return r(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t;var e=-t.width/2,n=-t.height/2,o=t.height/2,r=t.width/2;this.polygon=[cc.v2(e,n),cc.v2(r,n),cc.v2(r,o),cc.v2(e,o)],this.node.width=t.width,this.node.height=t.height,this._updateMaterial()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygon",{get:function(){return this._polygon},set:function(t){this._polygon=t,this._updateVerts()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.node._hitTest=this._hitTest.bind(this)},e.prototype.start=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(){console.log("click texture plus")},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){t.node.x+=e.getDeltaX(),t.node.y+=e.getDeltaY()},this)},e.prototype._updateVerts=function(){this.setVertsDirty()},e.prototype._updateMaterial=function(){var t=this._texture,e=this.getMaterial(0);e&&(void 0!==e.getDefine("USE_TEXTURE")&&e.define("USE_TEXTURE",!0),e.setProperty("texture",t)),this.__proto__._updateBlendFunc.call(this),this.setVertsDirty()},e.prototype._validateRender=function(){},e.prototype._resetAssembler=function(){(this._assembler=new s.default).init(this),this._updateColor(),this.setVertsDirty()},e.prototype._hitTest=function(t){var e=this.node,n=e.getContentSize(),o=(n.width,n.height,u);return e._updateWorldMatrix(),!!cc.Mat4.invert(l,e._worldMatrix)&&(cc.Vec2.transformMat4(o,t,l),c.CommonUtils.isInPolygon(o,this.polygon))},e.Type=a,i([y(cc.Texture2D)],e.prototype,"_texture",void 0),i([y(cc.Texture2D)],e.prototype,"texture",null),i([y({type:[cc.Vec2],serializable:!0})],e.prototype,"_polygon",void 0),i([y({type:[cc.Vec2],serializable:!0})],e.prototype,"polygon",null),i([y({type:cc.Enum(cc.macro.BlendFactor),override:!0})],e.prototype,"srcBlendFactor",void 0),i([y({type:cc.Enum(cc.macro.BlendFactor),override:!0})],e.prototype,"dstBlendFactor",void 0),i([y(cc.Boolean)],e.prototype,"editing",void 0),i([h,d,f("i18n:MAIN_MENU.component.ui/TexturePlus"),_(cc.BlendFunc)],e)}(cc.RenderComponent);n.default=v,cc._RF.pop()},{"../Assemblers/TextureAssembler":"TextureAssembler","../Utils/CommonUtils":"CommonUtils"}],TipsMgr:[function(t,e,n){"use strict";cc._RF.push(e,"f0adbheCVRBErVSp07wosNT","TipsMgr");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./config/SysDefine"),a=t("./Struct"),s=t("./UIManager"),c=function(){function t(){}return t.prototype.open=function(t,e,n){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return t=a.GetForm(t,i.FormType.Tips),[4,s.default.getInstance().openForm(t,e,n)];case 1:return[2,o.sent()]}})})},t.prototype.close=function(t,e,n){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return t=a.GetForm(t,i.FormType.Tips),[4,s.default.getInstance().closeForm(t,e,n)];case 1:return[2,o.sent()]}})})},t}();n.default=new c,cc._RF.pop()},{"./Struct":"Struct","./UIManager":"UIManager","./config/SysDefine":"SysDefine"}],ToastMgr:[function(t,e,n){"use strict";cc._RF.push(e,"68e22m/kRFCA4LrPLsSxzY9","ToastMgr");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Common/Utils/Pool"),a=t("./config/SysDefine"),s=t("./EventCenter"),c=t("./ResMgr"),u=t("./Struct"),l=t("./UIForm"),p=t("./UIManager"),h=function(){function t(){this._pools=cc.js.createMap(),this._showingToast=cc.js.createMap()}return t.prototype.open=function(t,e){return o(this,void 0,void 0,function(){var n,o,i;return r(this,function(r){switch(r.label){case 0:return t=u.GetForm(t,a.FormType.Toast),n=this._pools[t.prefabUrl],console.log(n,t.prefabUrl),n?[3,2]:[4,this.genPool(t.prefabUrl)];case 1:n=r.sent(),r.label=2;case 2:return o=n.alloc(),[4,p.default.getInstance().enterToToast(o,e)];case 3:return r.sent(),(i=this._showingToast[t.prefabUrl])||(i=this._showingToast[t.prefabUrl]=new Array),i.push(o),[2,o]}})})},t.prototype.close=function(t,e){return o(this,void 0,void 0,function(){var n,o;return r(this,function(r){switch(r.label){case 0:return[4,p.default.getInstance().exitToToast(t,e)];case 1:if(r.sent(),console.log(t.fid),!this._pools[t.fid])return[2];if(this._pools[t.fid].free(t),!(n=this._showingToast[t.fid]))return[2];for(o=n.length-1;o>=0;o--)if(n[o].uuid===t.uuid){n.splice(o,1);break}return[2]}})})},t.prototype.genPool=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){switch(n.label){case 0:return[4,c.default.inst.loadFormPrefab(t)];case 1:return e=n.sent(),[2,this._pools[t]=new i.Pool(function(){var n=cc.instantiate(e);p.default.getInstance().addNode(n);var o=n.getComponent(l.UIToast);return o.fid=t,o},3)]}})})},t.prototype.clearToasts=function(t){var e=this._pools[t];if(e){var n=this._showingToast[t];if(n){for(var o=0,r=n;o<r.length;o++){var i=r[o];e.free(i)}e.clear(function(t){t.node.destroy(),s.EventCenter.targetOff(t)}),c.default.inst.destoryFormPrefab(t),this._pools[t]=null,delete this._pools[t],this._showingToast[t]=null,delete this._showingToast[t]}}},t.prototype.checkHasShowingToast=function(t){return this._showingToast[t].length>0},t}();n.default=new h,cc._RF.pop()},{"../Common/Utils/Pool":"Pool","./EventCenter":"EventCenter","./ResMgr":"ResMgr","./Struct":"Struct","./UIForm":"UIForm","./UIManager":"UIManager","./config/SysDefine":"SysDefine"}],TouchPlus:[function(t,e,n){"use strict";cc._RF.push(e,"1c88eM+YFpH45yVr93vRF2l","TouchPlus");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offset=15,e.isTouch=!1,e.isClick=!0,e}return r(e,t),e.prototype.addEvent=function(t,e){this.clickEvent=t,this.slideEvent=e},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this)},e.prototype.touchStart=function(t){this.isTouch=!0,this.startPosition=t.getLocation()},e.prototype.touchMove=function(t){this.isTouch&&t.getLocation().sub(this.startPosition).mag()>this.offset&&(this.isClick=!1,this.slideEvent&&this.slideEvent(t))},e.prototype.touchEnd=function(t){this.isTouch&&(this.isTouch=!1,this.isClick&&this.clickEvent&&this.clickEvent(t),this.isClick=!0)},e.prototype.touchCancel=function(){this.isTouch&&(this.isTouch=!1,this.isClick=!0)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this)},i([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],UIBackpackInfo_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"752abhSRGJDt4p0O0PLGsev","UIBackpackInfo_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.title=null,e.list=null,e.infoLabel=null,e}return r(e,t),i([c(cc.Node)],e.prototype,"icon",void 0),i([c(cc.Node)],e.prototype,"title",void 0),i([c(cc.Node)],e.prototype,"list",void 0),i([c(cc.Node)],e.prototype,"infoLabel",void 0),i([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],UIBackpackInfo:[function(t,e,n){"use strict";cc._RF.push(e,"2ba25JECwlBO5dm/Nelvbgu","UIBackpackInfo");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Common/GPDrag"),s=t("../Common/Utils/CommonUtils"),c=t("../Config/GlobalData"),u=t("../Game/Item/MenuItem"),l=t("../UIFrame/Struct"),p=t("../UIFrame/UIForm"),h=t("../UIFrame/config/SysDefine"),f=cc._decorator,d=f.ccclass,_=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.modalType=new l.ModalType(h.ModalOpacity.OpacityHigh,!0),e.menu=null,e._data=null,e.itemMax=6,e.rawArr=[],e._List$RecipeScroll=null,e}var n;return r(e,t),n=e,e.prototype.start=function(){console.log("UIRecipeInfo start...")},e.prototype.onShow=function(t){this._data=t,this.clearMenu()},e.prototype.onEnable=function(){this.rawArr=[],this.initUi(this._data),this.addRecipeItem(this._data),this._List$RecipeScroll=this.node.parent.getChildByName("UIRecipe").getChildByName("bg").getChildByName("_List$RecipeScroll"),this._List$RecipeScroll.getComponent(cc.ScrollView).enabled=!1},e.prototype.onDisable=function(){this._List$RecipeScroll.getComponent(cc.ScrollView).enabled=!0},e.prototype.initUi=function(t){s.CommonUtils.setItemSpriteFrame(this.view.icon.getComponent(cc.Sprite),""+c.GlobalData.recipePath+t.resPath),this.view.title.getComponent(cc.Label).string=1==t.name.includes("%s")?t.name.replace("%s",""):t.name,this.view.infoLabel.getComponent(cc.Label).string=t.intro},e.prototype.clearMenu=function(){this.view.list.removeAllChildren()},e.prototype.addRecipeItem=function(t){for(var e,n,o=1;o<this.itemMax+1;++o)e=t["raw"+o],""!=t["raw"+o]&&"/"!=t["raw"+o]&&((n=cc.instantiate(this.menu)).parent=this.view.list,n.getComponent(u.default).enabled=!1,n.getComponent(a.GPDrag).enabled=!1,n.children[0].active=!0,s.CommonUtils.setItemSpriteFrame(n.children[0].getComponent(cc.Sprite),""+c.GlobalData.rawPath+e))},e.prototype.clickClose=function(){n.close()},i([_(cc.Prefab)],e.prototype,"menu",void 0),n=i([d],e)}(p.UIWindow);n.default=y,cc._RF.pop()},{"../Common/GPDrag":"GPDrag","../Common/Utils/CommonUtils":"CommonUtils","../Config/GlobalData":"GlobalData","../Game/Item/MenuItem":"MenuItem","../UIFrame/Struct":"Struct","../UIFrame/UIForm":"UIForm","../UIFrame/config/SysDefine":"SysDefine"}],UIBackpack_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"5a0cb8IIqNGcZ/fFt+Fmcey","UIBackpack_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./../Common/Components/List"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BackpackScroll=null,e.BackpackContent=null,e.BackpackModule=null,e.BackpackType=null,e}return r(e,t),i([u(a.default)],e.prototype,"BackpackScroll",void 0),i([u(cc.Node)],e.prototype,"BackpackContent",void 0),i([u(cc.Node)],e.prototype,"BackpackModule",void 0),i([u(cc.Node)],e.prototype,"BackpackType",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/List":"List"}],UIBackpack:[function(t,e,n){"use strict";cc._RF.push(e,"f09b22/yVhCDYd+S3uq0x10","UIBackpack");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Config/RawMaterial"),s=t("../Game/Item/BackpackContent"),c=t("../Game/Item/BackpackTypeItem"),u=t("../Game/Item/RecipeModuleItem"),l=t("../UIFrame/Struct"),p=t("../UIFrame/UIForm"),h=t("../UIFrame/config/SysDefine"),f=cc._decorator,d=f.ccclass,_=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.modalType=new l.ModalType(h.ModalOpacity.OpacityHigh,!0),e.moduleItem=null,e.typeItem=null,e.curModuleNumber=0,e.curTypeNumber=0,e.nodeHeight=[110,130],e.titlePos=[-50,-60],e}var n;return r(e,t),n=e,e.prototype.start=function(){console.log("UIBackpack start...")},e.prototype.onEnable=function(){this.curModuleNumber=0,this.curTypeNumber=0,this.initUi()},e.prototype.onAfterShow=function(){console.log(a.BackPackModule,"------------",a.BackPackModule[this.curModuleNumber]),this.view.BackpackScroll.numItems=3,this.view.BackpackScroll.scrollTo(0,0,.01)},e.prototype.onListGridRender=function(t,e){t.getComponent(s.default).initUi(a.BackpackType[this.curModuleNumber][e],this)},e.prototype.initUi=function(){this.initModule(),this.initTypeItem()},e.prototype.clickClose=function(){n.close()},e.prototype.initModule=function(){this.initAllModule();for(var t=0;t<a.BackPackModule.length;t++)if(this.view.BackpackModule.children[t])this.view.BackpackModule.children[t].getComponent(u.default).initUi(t,this);else{var e=cc.instantiate(this.moduleItem);e.parent=this.view.BackpackModule,e.getComponent(u.default).initUi(t,this),e.name=""+t}},e.prototype.initAllModule=function(){var t=this;this.view.BackpackModule.children.forEach(function(e){e.height=t.nodeHeight[0],e.getComponent(u.default).title.y=t.titlePos[0]})},e.prototype.changeRecipeItem=function(){this.view.BackpackScroll.numItems=a.BackpackList[this.curModuleNumber].length,this.view.BackpackScroll.updateAll()},e.prototype.initTypeItem=function(){for(var t,e=0;e<a.BackpackType[this.curTypeNumber].length;e++){if(this.view.BackpackType.children[e])t=this.view.BackpackType.children[e];else{var n=cc.instantiate(this.typeItem);n.parent=this.view.BackpackType,n.name=""+e,t=n}0==e&&(t.getComponent(c.default).isSelected=!0),t.getComponent(c.default).initUi(a.BackpackType[this.curTypeNumber][e],this)}},i([_(cc.Prefab)],e.prototype,"moduleItem",void 0),i([_(cc.Prefab)],e.prototype,"typeItem",void 0),n=i([d],e)}(p.UIWindow);n.default=y,cc._RF.pop()},{"../Config/RawMaterial":"RawMaterial","../Game/Item/BackpackContent":"BackpackContent","../Game/Item/BackpackTypeItem":"BackpackTypeItem","../Game/Item/RecipeModuleItem":"RecipeModuleItem","../UIFrame/Struct":"Struct","../UIFrame/UIForm":"UIForm","../UIFrame/config/SysDefine":"SysDefine"}],UIBase:[function(t,e,n){"use strict";cc._RF.push(e,"e39bcXBPZZJwbPmOzg0+yw0","UIBase");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./Struct"),c=t("./AdapterMgr"),u=t("./ResMgr"),l=t("./FormMgr"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fid="",e.formData=null,e.formType=null,e.closeType=null,e._inited=!1,e.view=null,e.model=null,e._blocker=null,e}return r(e,t),e.open=function(t,e){var n=this.UIConfig;n?l.default.open(n,t,e):cc.warn("sorry UIConfig is null, please check AutoConfig")},e.close=function(){l.default.close(this.UIConfig)},e.prototype._preInit=function(t){return i(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return this._inited?[2]:(this._inited=!0,this.view=this.getComponent(this.node.name+"_Auto"),[4,this.load(t)]);case 1:return(e=n.sent())?(cc.error(e),this.closeSelf(),[2]):(this.onInit(t),[2])}})})},e.prototype.load=function(){return i(this,void 0,Promise,function(){return a(this,function(){return[2,null]})})},e.prototype.onInit=function(){},e.prototype.onShow=function(){},e.prototype.onAfterShow=function(){},e.prototype.onHide=function(){},e.prototype.onAfterHide=function(){},e.prototype.closeSelf=function(t){return i(this,void 0,Promise,function(){return a(this,function(e){switch(e.label){case 0:return[4,l.default.close(s.GetForm(this.fid,this.formType),t)];case 1:return[2,e.sent()]}})})},e.prototype.showEffect=function(){return i(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.hideEffect=function(){return i(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.setBlockInput=function(t){if(!this._blocker){var e=new cc.Node("block_input_events");this._blocker=e.addComponent(cc.BlockInputEvents),this._blocker.node.setContentSize(c.default.inst.visibleSize),this.node.addChild(this._blocker.node,cc.macro.MAX_ZINDEX)}this._blocker.node.active=t},e.prototype.loadRes=function(t,e){return i(this,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return[4,u.default.inst.loadDynamicRes(t,e,this.fid)];case 1:return[2,n.sent()]}})})},e}(cc.Component);n.default=p,cc.UIBase=p,cc._RF.pop()},{"./AdapterMgr":"AdapterMgr","./FormMgr":"FormMgr","./ResMgr":"ResMgr","./Struct":"Struct"}],UIConfig:[function(t,e,n){"use strict";cc._RF.push(e,"146c1Cgz6VBgbdJJq7LiwWK","UIConfig"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.UIHome={prefabUrl:"Prefab/Screen/UIHome",type:"UIScreen"},t.UIRecipe={prefabUrl:"Prefab/Screen/UIRecipe",type:"UIWindow"},t.UIRecipeInfo={prefabUrl:"Prefab/Screen/UIRecipeInfo",type:"UIWindow"},t.UITop={prefabUrl:"Prefab/Screen/UITop",type:"UIFixed"},t.UIWorkDesk={prefabUrl:"Prefab/Screen/UIWorkDesk",type:"UIWindow"},t.UILoading={prefabUrl:"Prefab/Tips/UILoading",type:"UITips"},t.UIToast1={prefabUrl:"Prefab/Toast/UIToast1",type:"UIToast"},t.UIBackpack={prefabUrl:"Prefab/Screen/UIBackpack",type:"UIWindow"},t.UIBackpackInfo={prefabUrl:"Prefab/Screen/UIBackpackInfo",type:"UIWindow"},t}();n.default=o,cc.game.on(cc.game.EVENT_GAME_INITED,function(){for(var t in o){var e=cc.js.getClassByName(t);if(!e){var n=o[t].prefabUrl.split("/");if(!n||n.length<=0)continue;var r=n[n.length-1];e=cc.js.getClassByName(r)}e.UIConfig=o[t]}}),cc._RF.pop()},{}],UIForm:[function(t,e,n){"use strict";cc._RF.push(e,"c37basMGP5Pc7Er41uB3gdC","UIForm");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.UIToast=n.UITips=n.UIFixed=n.UIDrawer=n.UIWindow=n.UIScreen=void 0;var s=t("./CocosHelper"),c=t("./config/SysDefine"),u=t("./FormMgr"),l=t("./Struct"),p=t("./UIBase"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formType=c.FormType.Screen,e.closeType=l.ECloseType.CloseAndDestory,e}return r(e,t),e}(p.default);n.UIScreen=h;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formType=c.FormType.Window,e.modalType=new l.ModalType(c.ModalOpacity.OpacityFull),e.closeType=l.ECloseType.LRU,e}return r(e,t),e.prototype.showEffect=function(){return i(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.node.scale=0,[4,s.default.runTweenSync(this.node,cc.tween().to(.3,{scale:1},cc.easeBackOut()))];case 1:return t.sent(),[2]}})})},e}(p.default);n.UIWindow=f;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formType=c.FormType.Drawer,e.modalType=new l.ModalType(c.ModalOpacity.OpacityFull),e.closeType=l.ECloseType.LRU,e}return r(e,t),e.prototype.showEffect=function(){return i(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.node.scale=0,[4,s.default.runTweenSync(this.node,cc.tween().to(.3,{scale:1},cc.easeBackOut()))];case 1:return t.sent(),[2]}})})},e}(p.default);n.UIDrawer=d;var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formType=c.FormType.Fixed,e.closeType=l.ECloseType.LRU,e}return r(e,t),e}(p.default);n.UIFixed=_;var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formType=c.FormType.Tips,e.closeType=l.ECloseType.CloseAndHide,e}return r(e,t),e}(p.default);n.UITips=y;var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formType=c.FormType.Toast,e}return r(e,t),e.prototype.use=function(){},e.prototype.free=function(){},e.prototype.closeSelf=function(){return i(this,void 0,Promise,function(){return a(this,function(t){switch(t.label){case 0:return[4,u.default.close({prefabUrl:this.fid,type:this.formType})];case 1:return[2,t.sent()]}})})},e}(p.default);n.UIToast=v,cc.UIScreen=h,cc.UIWindow=f,cc.UIFixed=_,cc.UITips=y,cc.UIToast=v,cc._RF.pop()},{"./CocosHelper":"CocosHelper","./FormMgr":"FormMgr","./Struct":"Struct","./UIBase":"UIBase","./config/SysDefine":"SysDefine"}],UIHome_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"d0e1bIfKq5LxI9rGB9rijU4","UIHome_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Home=null,e.Player=null,e.Joystick=null,e.Setting=null,e.Coin=null,e.Gift=null,e.Backpack=null,e.Recipe=null,e.Map=null,e.Obs=null,e.Start=null,e.End=null,e}return r(e,t),i([c(cc.Node)],e.prototype,"Home",void 0),i([c(cc.Node)],e.prototype,"Player",void 0),i([c(cc.Node)],e.prototype,"Joystick",void 0),i([c(cc.Node)],e.prototype,"Setting",void 0),i([c(cc.Node)],e.prototype,"Coin",void 0),i([c(cc.Node)],e.prototype,"Gift",void 0),i([c(cc.Node)],e.prototype,"Backpack",void 0),i([c(cc.Node)],e.prototype,"Recipe",void 0),i([c(cc.Node)],e.prototype,"Map",void 0),i([c(cc.Node)],e.prototype,"Obs",void 0),i([c(cc.Node)],e.prototype,"Start",void 0),i([c(cc.Node)],e.prototype,"End",void 0),i([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],UIHome:[function(t,e,n){"use strict";cc._RF.push(e,"b0a0dOekNZK/7MwbDKjiuCe","UIHome");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Common/Utils/utils"),u=t("../Config/GlobalData"),l=t("../Enum/MessageType"),p=t("../Extra/AutoFindPath"),h=t("../Extra/Joystick"),f=t("../Game/Manager/RoleMgr"),d=t("../Game/Manager/TableMgr"),_=t("../Game/base/BaseRole"),y=t("../Game/base/BaseTable"),v=t("../UIFrame/UIForm"),g=t("./UITop"),m=t("./UIWorkDesk"),b=cc._decorator,w=b.ccclass,T=(b.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rolePool=null,e.tablePool=null,e.model=5,e}return r(e,t),e.prototype.load=function(){return a(this,void 0,void 0,function(){return s(this,function(){return[2,null]})})},e.prototype.refreshView=function(){console.log(this.model)},e.prototype.onLoad=function(){this.onGameInit()},e.prototype.start=function(){return a(this,void 0,void 0,function(){return s(this,function(){return this.homeInit(),this.initMap(),this.autoCreatRole(),[2]})})},e.prototype.onShow=function(){g.default.open({home:this,callBack:this.getTop.bind(this)})},e.prototype.getTop=function(t){this.top=t},e.prototype.onGameInit=function(){this.rolePool=new cc.NodePool,this.tablePool=new cc.NodePool,this.initRolePool(),this.initTablePool()},e.prototype.homeInit=function(){},e.prototype.clickDesk=function(){this.top.toggleHome(!0),m.default.open(this.top)},e.prototype.initMap=function(){this.view.Map.setContentSize(cc.winSize),this.view.Obs.setContentSize(cc.winSize);var t=p.AutoFindPath.formatToMapData(this.view.Map,15);new p.AutoFindPath(t)},e.prototype.leave=function(t){var e=!1;t||(t=f.default.ins.firstRole,e=!0),t.state=l.RoleType.LEAVE;var n=c.getOddsByNum(1),o=d.default.ins.queryNullTable();n&&o?(o.node.parent.zIndex=990,t.toPos(c.getPosByDesign(cc.v2(o.node.x+10,o.node.y+70))),t.state=l.RoleType.SIT):t.toPos(c.getPosByDesign(cc.v2(this.view.Start.position))),e&&f.default.ins.updateSpareRoles()},e.prototype.autoCreatRole=function(){this.schedule(this.createRole,u.GlobalData.gameData.roleCreateTime)},e.prototype.useFixedType=function(){h.instance.emit("set_joystick_type",h.JoystickType.FIXED)},e.prototype.useFollowType=function(){h.instance.emit("set_joystick_type",h.JoystickType.FOLLOW)},e.prototype.createRole=function(){if(!(f.default.ins.waitSize>=u.GlobalData.gameData.waitMaxNumber)){var t=this.rolePool.get();if(t){t.setPosition(c.getPosByDesign(cc.v2(this.view.Start.position))),this.node.addChild(t);var e=t.getComponent(_.default);e.init(this),f.default.ins.welcome(e)}}},e.prototype.initRolePool=function(){return a(this,void 0,void 0,function(){var t,e,n,o;return s(this,function(r){switch(r.label){case 0:t=0,r.label=1;case 1:return t<24?[4,this.loadRes(_.default.prefabPath,cc.Prefab)]:[3,4];case 2:e=r.sent(),n=cc.instantiate(e),this.rolePool.put(n),r.label=3;case 3:return t++,[3,1];case 4:return o=this.view.End.position,f.default.ins.init(this,cc.v2(o)),[2,null]}})})},e.prototype.initTablePool=function(){return a(this,void 0,void 0,function(){var t,e,n;return s(this,function(o){switch(o.label){case 0:t=0,o.label=1;case 1:return t<24?[4,this.loadRes(y.default.prefabPath,cc.Prefab)]:[3,4];case 2:e=o.sent(),n=cc.instantiate(e),this.tablePool.put(n),o.label=3;case 3:return t++,[3,1];case 4:return d.default.ins.init(this),d.default.ins.addTable(),[2,null]}})})},e.prototype.updateMap=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];(t=p.AutoFindPath.ins).updateMap.apply(t,e)},e.prototype.updateNodeZindex=function(t){p.AutoFindPath.ins.setNodeZindex(t)},e.prototype.updateObsZindex=function(t){p.AutoFindPath.ins.setNodeZindex(t),this.updateMap(t)},i([w],e)}(v.UIScreen));n.default=T,cc._RF.pop()},{"../Common/Utils/utils":"utils","../Config/GlobalData":"GlobalData","../Enum/MessageType":"MessageType","../Extra/AutoFindPath":"AutoFindPath","../Extra/Joystick":"Joystick","../Game/Manager/RoleMgr":"RoleMgr","../Game/Manager/TableMgr":"TableMgr","../Game/base/BaseRole":"BaseRole","../Game/base/BaseTable":"BaseTable","../UIFrame/UIForm":"UIForm","./UITop":"UITop","./UIWorkDesk":"UIWorkDesk"}],UILoading:[function(t,e,n){"use strict";cc._RF.push(e,"f5535NOnxVA4oA5HsMZ5MRw","UILoading");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../UIFrame/UIForm"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){},i([c],e)}(a.UITips));n.default=u,cc._RF.pop()},{"../UIFrame/UIForm":"UIForm"}],UIManager:[function(t,e,n){"use strict";cc._RF.push(e,"e31dcGQp2pBEaii62Cywsyt","UIManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Common/Utils/LRUCache"),a=t("../Scene/Scene"),s=t("./AdapterMgr"),c=t("./EventCenter"),u=t("./EventType"),l=t("./ModalMgr"),p=t("./ModalMgr1"),h=t("./ResMgr"),f=t("./Struct"),d=t("./config/SysDefine"),_="UIManager",y=function(){function t(){this._UIROOT=null,this._ndScreen=null,this._ndDrawer=null,this._ndFixed=null,this._ndPopUp=null,this._ndToast=null,this._ndTips=null,this._windows=[],this._drawers=[],this._allForms=cc.js.createMap(),this._showingForms=cc.js.createMap(),this._tipsForms=cc.js.createMap(),this._loadingForm=cc.js.createMap(),this._closingForm=cc.js.createMap(),this._LRUCache=new i.LRUCache(3)}return t.getInstance=function(){var e=this;if(null==this.instance){this.instance=new t;var n=cc.director.getScene().getChildByName("Canvas"),o=n.getChildByName(d.SysDefine.SYS_SCENE_NODE);o?!o.getComponent(a.default)&&o.addComponent(a.default):((o=new cc.Node(d.SysDefine.SYS_SCENE_NODE)).addComponent(a.default),o.parent=n);var r=this.instance._UIROOT=new cc.Node(d.SysDefine.SYS_UIROOT_NODE);o.addChild(r),r.addChild(this.instance._ndScreen=new cc.Node(d.SysDefine.SYS_SCREEN_NODE)),r.addChild(this.instance._ndDrawer=new cc.Node(d.SysDefine.SYS_DRAWER_NODE)),r.addChild(this.instance._ndFixed=new cc.Node(d.SysDefine.SYS_FIXED_NODE)),r.addChild(this.instance._ndPopUp=new cc.Node(d.SysDefine.SYS_POPUP_NODE)),r.addChild(this.instance._ndToast=new cc.Node(d.SysDefine.SYS_TOAST_NODE)),r.addChild(this.instance._ndTips=new cc.Node(d.SysDefine.SYS_TOPTIPS_NODE)),cc.director.once(cc.Director.EVENT_BEFORE_SCENE_LAUNCH,function(){e.instance=null})}return this.instance},t.prototype.loadUIForm=function(t){return o(this,void 0,Promise,function(){var e;return r(this,function(n){switch(n.label){case 0:return[4,this._loadForm(t)];case 1:return(e=n.sent())?[2,e]:(console.warn(e+"\u6ca1\u6709\u88ab\u6210\u529f\u52a0\u8f7d"),[2,null])}})})},t.prototype.openForm=function(t,e,n){return o(this,void 0,Promise,function(){var o,i;return r(this,function(r){switch(r.label){case 0:return!(o=t.prefabUrl)||o.length<=0?(cc.warn(o+", \u53c2\u6570\u9519\u8bef"),[2]):this.checkFormShowing(o)?(cc.warn(o+", \u7a97\u4f53\u6b63\u5728\u663e\u793a\u4e2d"),[2,null]):[4,this._loadForm(o)];case 1:if(!(i=r.sent()))return cc.warn(o+" \u52a0\u8f7d\u5931\u8d25\u4e86!"),[2,null];switch(i.fid=o,i.formData=n,i.formType){case d.FormType.Screen:return[3,2];case d.FormType.Fixed:return[3,4];case d.FormType.Window:return[3,6];case d.FormType.Drawer:return[3,8];case d.FormType.Tips:return[3,10]}return[3,12];case 2:return[4,this.enterToScreen(i.fid,e)];case 3:return r.sent(),[3,12];case 4:return[4,this.enterToFixed(i.fid,e)];case 5:return r.sent(),[3,12];case 6:return[4,this.enterToPopup(i.fid,e)];case 7:return r.sent(),[3,12];case 8:return[4,this.enterToDrawer(i.fid,e)];case 9:return r.sent(),[3,12];case 10:return[4,this.enterToTips(i.fid,e)];case 11:return r.sent(),[3,12];case 12:return i.closeType===f.ECloseType.LRU&&this._LRUCache.remove(i.fid),[2,i]}})})},t.prototype.closeForm=function(t,e){return o(this,void 0,Promise,function(){var n,o;return r(this,function(r){switch(r.label){case 0:if(!(n=t.prefabUrl)||n.length<=0)return cc.warn(_,n+", \u53c2\u6570\u9519\u8bef"),[2,!1];if(!(o=this._allForms[n]))return[2,!1];if(!this.checkFormShowing(n)&&t.type!==d.FormType.Tips)return cc.warn(_,n+", \u5df2\u7ecf\u5173\u95ed\u4e86, \u8bf7\u4e0d\u8981\u91cd\u590d\u5173\u95ed"),[2,!1];if(this._closingForm[n])return cc.warn(_,n+", form\u6b63\u5728\u5173\u95ed\u4e2d"),[2];switch(this._closingForm[n]=o,o.formType){case d.FormType.Screen:return[3,1];case d.FormType.Fixed:return[3,3];case d.FormType.Drawer:return[3,5];case d.FormType.Window:return[3,7];case d.FormType.Tips:return[3,9]}return[3,11];case 1:return[4,this.exitToScreen(n,e)];case 2:return r.sent(),[3,11];case 3:return[4,this.exitToFixed(n,e)];case 4:return r.sent(),[3,11];case 5:return[4,this.exitToDrawer(n,e)];case 6:return r.sent(),[3,11];case 7:return[4,this.exitToPopup(n,e)];case 8:return r.sent(),c.EventCenter.emit(u.EventType.WindowClosed,n),[3,11];case 9:return[4,this.exitToTips(n,e)];case 10:return r.sent(),[3,11];case 11:switch(c.EventCenter.emit(u.EventType.FormClosed,n),o.formData&&o.formData.onClose&&o.formData.onClose(),o.closeType){case f.ECloseType.CloseAndDestory:this.destoryForm(o);break;case f.ECloseType.LRU:this.putLRUCache(o)}return this._closingForm[n]=null,delete this._closingForm[n],[2,!0]}})})},t.prototype._loadForm=function(t){return o(this,void 0,Promise,function(){var e,n=this;return r(this,function(){return(e=this._allForms[t])?[2,e]:[2,new Promise(function(e){n._loadingForm[t]?n._loadingForm[t].push(e):(n._loadingForm[t]=[e],n._doLoadUIForm(t).then(function(e){for(var o=0,r=n._loadingForm[t];o<r.length;o++)(0,r[o])(e);n._loadingForm[t]=null,delete n._loadingForm[t]}))})]})})},t.prototype._doLoadUIForm=function(t){return o(this,void 0,Promise,function(){var e,n,o;return r(this,function(r){switch(r.label){case 0:return[4,h.default.inst.loadFormPrefab(t)];case 1:return e=r.sent(),n=cc.instantiate(e),o=this.addNode(n),this._allForms[t]=o,[2,o]}})})},t.prototype.addNode=function(t){var e=t.getComponent(cc.UIBase);if(!e)return cc.warn(t.name+" \u7ed3\u70b9\u6ca1\u6709\u7ed1\u5b9aUIBase"),null;switch(t.active=!1,e.formType){case d.FormType.Screen:this._ndScreen.addChild(t);break;case d.FormType.Fixed:this._ndFixed.addChild(t);break;case d.FormType.Window:this._ndPopUp.addChild(t);break;case d.FormType.Drawer:this._ndDrawer.addChild(t);break;case d.FormType.Toast:this._ndToast.addChild(t);break;case d.FormType.Tips:this._ndTips.addChild(t)}return e},t.prototype.enterToScreen=function(t,e){return o(this,void 0,void 0,function(){var n,o,i;return r(this,function(r){switch(r.label){case 0:for(o in n=[],this._showingForms)n.push(this._showingForms[o].closeSelf());return[4,Promise.all(n)];case 1:return r.sent(),(i=this._allForms[t])?(this._showingForms[t]=i,s.default.inst.adapteByType(s.AdapterType.StretchHeight|s.AdapterType.StretchWidth,i.node),[4,i._preInit(e)]):[2];case 2:return r.sent(),i.onShow(e),[4,this.showEffect(i)];case 3:return r.sent(),i.onAfterShow(e),[2]}})})},t.prototype.enterToFixed=function(t,e){return o(this,void 0,void 0,function(){var n;return r(this,function(o){switch(o.label){case 0:return(n=this._allForms[t])?[4,n._preInit(e)]:[2];case 1:return o.sent(),n.onShow(e),this._showingForms[t]=n,[4,this.showEffect(n)];case 2:return o.sent(),n.onAfterShow(e),[2]}})})},t.prototype.enterToPopup=function(t,e){return o(this,void 0,void 0,function(){var n,o;return r(this,function(r){switch(r.label){case 0:return(n=this._allForms[t])?[4,n._preInit(e)]:[2];case 1:for(r.sent(),this._windows.push(n),o=0;o<this._windows.length;o++)this._windows[o].node.zIndex=o+1;return n.onShow(e),this._showingForms[t]=n,l.default.inst.checkModalWindow(this._windows),[4,this.showEffect(n)];case 2:return r.sent(),n.onAfterShow(e),[2]}})})},t.prototype.enterToDrawer=function(t,e){return o(this,void 0,void 0,function(){var n,o;return r(this,function(r){switch(r.label){case 0:return(n=this._allForms[t])?[4,n._preInit(e)]:[2];case 1:for(r.sent(),this._drawers.push(n),o=0;o<this._drawers.length;o++)this._drawers[o].node.zIndex=o+1;return n.onShow(e),this._showingForms[t]=n,p.default.inst.checkModalWindow(this._drawers),[4,this.showEffect(n)];case 2:return r.sent(),n.onAfterShow(e),[2]}})})},t.prototype.enterToTips=function(t,e){return o(this,void 0,void 0,function(){var n;return r(this,function(o){switch(o.label){case 0:return(n=this._allForms[t])?[4,n._preInit(e)]:[2];case 1:return o.sent(),this._tipsForms[t]=n,n.onShow(e),[4,this.showEffect(n)];case 2:return o.sent(),n.onAfterShow(e),[2]}})})},t.prototype.enterToToast=function(t,e){return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,t._preInit(e)];case 1:return n.sent(),t.onShow(e),[4,this.showEffect(t)];case 2:return n.sent(),t.onAfterShow(e),[2]}})})},t.prototype.exitToScreen=function(t,e){return o(this,void 0,void 0,function(){var n;return r(this,function(o){switch(o.label){case 0:return(n=this._showingForms[t])?(n.onHide(e),[4,this.hideEffect(n)]):[2];case 1:return o.sent(),n.onAfterHide(e),this._showingForms[t]=null,delete this._showingForms[t],[2]}})})},t.prototype.exitToFixed=function(t,e){return o(this,void 0,void 0,function(){var n;return r(this,function(o){switch(o.label){case 0:return(n=this._allForms[t])?(n.onHide(e),[4,this.hideEffect(n)]):[2];case 1:return o.sent(),n.onAfterHide(e),this._showingForms[t]=null,delete this._showingForms[t],[2]}})})},t.prototype.exitToPopup=function(t,e){return o(this,void 0,void 0,function(){var n,o;return r(this,function(r){switch(r.label){case 0:if(this._windows.length<=0)return[2];for(n=null,o=this._windows.length-1;o>=0;o--)this._windows[o].fid===t&&(n=this._windows[o],this._windows.splice(o,1));return n?(n.onHide(e),l.default.inst.checkModalWindow(this._windows),[4,this.hideEffect(n)]):[2];case 1:return r.sent(),n.onAfterHide(e),this._showingForms[t]=null,delete this._showingForms[t],[2]}})})},t.prototype.exitToDrawer=function(t,e){return o(this,void 0,void 0,function(){var n,o;return r(this,function(r){switch(r.label){case 0:if(this._drawers.length<=0)return[2];for(n=null,o=this._drawers.length-1;o>=0;o--)this._drawers[o].fid===t&&(n=this._drawers[o],this._drawers.splice(o,1));return n?(n.onHide(e),p.default.inst.checkModalWindow(this._drawers),[4,this.hideEffect(n)]):[2];case 1:return r.sent(),n.onAfterHide(e),this._showingForms[t]=null,delete this._showingForms[t],[2]}})})},t.prototype.exitToTips=function(t,e){return o(this,void 0,void 0,function(){var n;return r(this,function(o){switch(o.label){case 0:return(n=this._allForms[t])?(n.onHide(e),[4,this.hideEffect(n)]):[2];case 1:return o.sent(),n.onAfterHide(e),this._tipsForms[t]=null,delete this._tipsForms[t],[2]}})})},t.prototype.exitToToast=function(t,e){return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return t.onHide(e),[4,this.hideEffect(t)];case 1:return n.sent(),t.onAfterHide(e),[2]}})})},t.prototype.showEffect=function(t){var e;return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return t.node.active=!0,(null===(e=t.formData)||void 0===e?void 0:e.quick)?[3,2]:[4,t.showEffect()];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.hideEffect=function(t){var e;return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return(null===(e=t.formData)||void 0===e?void 0:e.quick)?[3,2]:[4,t.hideEffect()];case 1:n.sent(),n.label=2;case 2:return t.node.active=!1,[2]}})})},t.prototype.destoryForm=function(t){c.EventCenter.targetOff(t),t.node.destroy(),h.default.inst.destoryFormPrefab(t.fid),h.default.inst.destoryDynamicRes(t.fid),this._allForms[t.fid]=null,delete this._allForms[t.fid]},t.prototype.putLRUCache=function(t){if(this._LRUCache.put(t.fid),this._LRUCache.needDelete()){var e=this._LRUCache.deleteLastNode();if(e){var n=this.getForm(e);if(!n||!n.node)return;n&&this.destoryForm(n)}}},t.prototype.checkFormShowing=function(t){return!!this._showingForms[t]},t.prototype.checkFormLoading=function(t){return!!this._loadingForm[t]},t.prototype.getForm=function(t){return this._allForms[t]},t.prototype.getUIROOT=function(){return this._UIROOT},t.instance=null,t}();n.default=y,cc._RF.pop()},{"../Common/Utils/LRUCache":"LRUCache","../Scene/Scene":"Scene","./AdapterMgr":"AdapterMgr","./EventCenter":"EventCenter","./EventType":"EventType","./ModalMgr":"ModalMgr","./ModalMgr1":"ModalMgr1","./ResMgr":"ResMgr","./Struct":"Struct","./config/SysDefine":"SysDefine"}],UIModalScript:[function(t,e,n){"use strict";cc._RF.push(e,"80f365N6pFApJ6MlMUc+H9D","UIModalScript");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Common/Utils/RenderUtil"),u=t("./CocosHelper"),l=t("./UIManager"),p=t("./WindowMgr"),h=t("./config/SysDefine"),f=(cc.RenderFlow.FLAG_RENDER,cc.RenderFlow.FLAG_POST_RENDER,cc._decorator),d=f.ccclass,_=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.camera=null,e._texture=null,e._renderTexture=null,e._renderTextures=[],e}return r(e,t),e.prototype.init=function(){var t=cc.view.getVisibleSize();this.node.height=t.height,this.node.width=t.width,this.node.addComponent(cc.Button),this.node.on("click",this.clickMaskWindow,this),this.sprite=this.node.addComponent(cc.Sprite),this.useNormalSprite(this.sprite),this.node.color=new cc.Color(255,255,255),this.node.opacity=0,this.node.active=!1},e.prototype.showModal=function(t,e,n,o){return void 0===e&&(e=.6),void 0===n&&(n=!0),void 0===o&&(o=!1),a(this,void 0,void 0,function(){var r,i;return s(this,function(a){switch(a.label){case 0:switch(o?(this.camera||(r=new cc.Node("BlurCamera"),this.camera=r.addComponent(cc.Camera),cc.find("Canvas").addChild(r)),this.useDualBlurSprite(this.camera),this.node.color=cc.Color.WHITE):t===h.ModalOpacity.GuassBlur?(this.useBlurSprite(this.sprite),t=h.ModalOpacity.OpacityFull):(this.useNormalSprite(this.sprite),this.node.color=cc.Color.BLACK),i=0,t){case h.ModalOpacity.None:this.node.active=!1;break;case h.ModalOpacity.OpacityZero:i=0;break;case h.ModalOpacity.OpacityLow:i=63;break;case h.ModalOpacity.OpacityHalf:i=126;break;case h.ModalOpacity.OpacityHigh:i=189;break;case h.ModalOpacity.OpacityFull:i=255}return this.node.active?n?[4,u.default.runTweenSync(this.node,cc.tween().to(e,{opacity:i}))]:[3,2]:[2];case 1:return a.sent(),[3,3];case 2:this.node.opacity=i,a.label=3;case 3:return[2]}})})},e.prototype.clickMaskWindow=function(){return a(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return(t=l.default.getInstance().getForm(this.fid))&&t.modalType.clickMaskClose?[4,p.default.close(this.fid)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.getSingleTexture=function(){if(this._texture)return this._texture;for(var t=new Uint8Array(16),e=0;e<2;e++)for(var n=0;n<2;n++)t[8*e+4*n+0]=255,t[8*e+4*n+1]=255,t[8*e+4*n+2]=255,t[8*e+4*n+3]=255;var o=new cc.Texture2D;return o.name="single color",o.initWithData(t,cc.Texture2D.PixelFormat.RGBA8888,2,2),o.handleLoadedTexture(),this._texture=o,o.addRef(),this._texture},e.prototype.useNormalSprite=function(t){t.sizeMode=cc.Sprite.SizeMode.CUSTOM,t.type=cc.Sprite.Type.SIMPLE,t.spriteFrame=new cc.SpriteFrame(this.getSingleTexture())},e.prototype.useBlurSprite=function(t){t.sizeMode=cc.Sprite.SizeMode.CUSTOM,t.type=cc.Sprite.Type.SIMPLE;var e=c.default.getPixelsData(cc.find("Canvas"),!0),n=new cc.Texture2D;n.initWithData(e,cc.Texture2D.PixelFormat.RGBA8888,t.node.width,t.node.height),t.spriteFrame=new cc.SpriteFrame(n)},e.prototype.useDualBlurSprite=function(t){var e=this,n=[];this._renderTexture||(this._renderTexture=new cc.RenderTexture).initWithSize(cc.visibleRect.width,cc.visibleRect.height,cc.game._renderContext.STENCIL_INDEX8),t.enabled=!0,t.targetTexture=this._renderTexture,function(){for(var t=0,o=l.default.getInstance().getUIROOT().getChildByName(h.SysDefine.SYS_TOPTIPS_NODE).children;t<o.length;t++)(a=o[t])._activeInHierarchy&&0!=a.opacity&&(a._dirtyRenderFlag=a._renderFlag,a._renderFlag&=~(cc.RenderFlow.FLAG_CHILDREN|cc.RenderFlow.FLAG_RENDER),n.push(a));e.node._renderFlag&=~cc.RenderFlow.FLAG_RENDER;for(var r=l.default.getInstance().getUIROOT().getChildByName(h.SysDefine.SYS_POPUP_NODE).children,i=r.length-1;i>=0;i--)if(r[i].zIndex>e.node.zIndex){var a;if(!(a=r[i])._activeInHierarchy||0==a.opacity)continue;a._dirtyRenderFlag=a._renderFlag,a._renderFlag&=~(cc.RenderFlow.FLAG_CHILDREN|cc.RenderFlow.FLAG_RENDER),n.push(a)}}(),t.render(),function(){for(var t=0,e=n;t<e.length;t++){var o=e[t];o._renderFlag=o._dirtyRenderFlag}}(),this.sprite.spriteFrame.setTexture(t.targetTexture),this.sprite.markForRender(!0),this.renderDualBlur(t,3),t.enabled=!1},e.prototype.renderDualBlur=function(t,e){var n=cc.view.getVisibleSize();if(this._renderTextures.length<=0)for(var o=0;o<e;o++){var r=Math.pow(2,o),i=new cc.RenderTexture;i.initWithSize(cc.visibleRect.width/r|0,cc.visibleRect.height/r|0),this._renderTextures.push(i)}for(y||((y=this.genMaterial(m)).setProperty("v_halfpixel",[.5/n.width,.5/n.height]),y.setProperty("v_offset",[4,4])),this.sprite.setMaterial(0,y),o=0;o<e;o++)t.targetTexture=this._renderTextures[o],t.render(this.sprite.node),this.sprite.spriteFrame.setTexture(t.targetTexture),this.sprite.markForRender(!0);for(v||((v=this.genMaterial(g)).setProperty("v_halfpixel",[.5/n.width,.5/n.height]),v.setProperty("v_offset",[4,4])),this.sprite.setMaterial(0,v),o=e-1;o>0;o--)t.targetTexture=this._renderTextures[o-1],t.render(this.sprite.node),this.sprite.spriteFrame.setTexture(t.targetTexture),this.sprite.markForRender(!0);this.sprite.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite"))},e.prototype.genMaterial=function(t){var e=cc.deserialize(t,{priority:0,responseType:"json"});return e.onLoad&&e.onLoad(),e.__onLoadInvoked__=!0,cc.Material.create(e,0)},i([d],e)}(cc.Component));n.default=_;var y=null,v=null,g={__type__:"cc.EffectAsset",_name:"BlurUp",_objFlags:0,_native:"",properties:null,techniques:[{passes:[{blendState:{targets:[{blend:!0}]},rasterizerState:{cullMode:0},properties:{texture:{value:"white",type:29},alphaThreshold:{value:[.5],type:13}},program:"BlurUp|vs|fs"}]}],shaders:[{hash:3005313742,glsl3:{vert:"\nprecision highp float;\nuniform CCGlobal {\n  mat4 cc_matView;\n  mat4 cc_matViewInv;\n  mat4 cc_matProj;\n  mat4 cc_matProjInv;\n  mat4 cc_matViewProj;\n  mat4 cc_matViewProjInv;\n  vec4 cc_cameraPos;\n  vec4 cc_time;\n  mediump vec4 cc_screenSize;\n  mediump vec4 cc_screenScale;\n};\nuniform CCLocal {\n  mat4 cc_matWorld;\n  mat4 cc_matWorldIT;\n};\nin vec3 a_position;\nin vec4 a_color;\nout vec4 v_color;\n#if USE_TEXTURE\nin vec2 a_uv0;\nout vec2 v_uv0;\n#endif\nvoid main () {\n  vec4 pos = vec4(a_position, 1);\n  #if CC_USE_MODEL\n  pos = cc_matViewProj * cc_matWorld * pos;\n  #else\n  pos = cc_matViewProj * pos;\n  #endif\n  #if USE_TEXTURE\n  v_uv0 = a_uv0;\n  #endif\n  v_color = a_color;\n  gl_Position = pos;\n}",frag:"\nprecision highp float;\n#if USE_ALPHA_TEST\n  uniform ALPHA_TEST {\n    float alphaThreshold;\n  };\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n  #if USE_ALPHA_TEST\n      if (color.a < alphaThreshold) discard;\n  #endif\n}\nvoid ALPHA_TEST (in float alpha) {\n  #if USE_ALPHA_TEST\n      if (alpha < alphaThreshold) discard;\n  #endif\n}\nin vec4 v_color;\n#if USE_TEXTURE\nin vec2 v_uv0;\nuniform sampler2D texture;\n#endif\nuniform CustomUniform {\n  vec2 v_halfpixel;\n  vec2 v_offset;\n};\nvoid main () {\n  vec4 o = vec4(1, 1, 1, 1);\n  vec4 sum = texture2D(texture, v_uv0) * 4.0;\n  sum += texture2D(texture, v_uv0 - v_halfpixel.xy * v_offset);\n  sum += texture2D(texture, v_uv0 + v_halfpixel.xy * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset);\n  sum += texture2D(texture, v_uv0 - vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset);\n  o = sum / 8.0;\n  o *= v_color;\n  ALPHA_TEST(o);\n  #if USE_BGRA\n    gl_FragColor = o.bgra;\n  #else\n    gl_FragColor = o.rgba;\n  #endif\n}"},glsl1:{vert:"\nprecision highp float;\nuniform mat4 cc_matViewProj;\nuniform mat4 cc_matWorld;\nattribute vec3 a_position;\nattribute vec4 a_color;\nvarying vec4 v_color;\n#if USE_TEXTURE\nattribute vec2 a_uv0;\nvarying vec2 v_uv0;\n#endif\nvoid main () {\n  vec4 pos = vec4(a_position, 1);\n  #if CC_USE_MODEL\n  pos = cc_matViewProj * cc_matWorld * pos;\n  #else\n  pos = cc_matViewProj * pos;\n  #endif\n  #if USE_TEXTURE\n  v_uv0 = a_uv0;\n  #endif\n  v_color = a_color;\n  gl_Position = pos;\n}",frag:"\nprecision highp float;\n#if USE_ALPHA_TEST\n  uniform float alphaThreshold;\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n  #if USE_ALPHA_TEST\n      if (color.a < alphaThreshold) discard;\n  #endif\n}\nvoid ALPHA_TEST (in float alpha) {\n  #if USE_ALPHA_TEST\n      if (alpha < alphaThreshold) discard;\n  #endif\n}\nvarying vec4 v_color;\n#if USE_TEXTURE\nvarying vec2 v_uv0;\nuniform sampler2D texture;\n#endif\nuniform vec2 v_halfpixel;\nuniform vec2 v_offset;\nvoid main () {\n  vec4 o = vec4(1, 1, 1, 1);\n  vec4 sum = texture2D(texture, v_uv0) * 4.0;\n  sum += texture2D(texture, v_uv0 - v_halfpixel.xy * v_offset);\n  sum += texture2D(texture, v_uv0 + v_halfpixel.xy * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset);\n  sum += texture2D(texture, v_uv0 - vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset);\n  o = sum / 8.0;\n  o *= v_color;\n  ALPHA_TEST(o);\n  #if USE_BGRA\n    gl_FragColor = o.bgra;\n  #else\n    gl_FragColor = o.rgba;\n  #endif\n}"},builtins:{globals:{blocks:[{name:"CCGlobal",defines:[]}],samplers:[]},locals:{blocks:[{name:"CCLocal",defines:[]}],samplers:[]}},defines:[{name:"USE_TEXTURE",type:"boolean",defines:[]},{name:"CC_USE_MODEL",type:"boolean",defines:[]},{name:"USE_ALPHA_TEST",type:"boolean",defines:[]},{name:"USE_BGRA",type:"boolean",defines:[]}],blocks:[{name:"ALPHA_TEST",members:[{name:"alphaThreshold",type:13,count:1}],defines:["USE_ALPHA_TEST"],binding:0},{name:"CustomUniform",members:[{name:"v_halfpixel",type:14,count:1},{name:"v_offset",type:14,count:1}],defines:[],binding:1}],samplers:[{name:"texture",type:29,count:1,defines:["USE_TEXTURE"],binding:30}],record:null,name:"BlurUp|vs|fs"}]},m={__type__:"cc.EffectAsset",_name:"BlurDown",_objFlags:0,_native:"",properties:null,techniques:[{passes:[{blendState:{targets:[{blend:!0}]},rasterizerState:{cullMode:0},properties:{texture:{value:"white",type:29},alphaThreshold:{value:[.5],type:13}},program:"BlurDown|vs|fs"}]}],shaders:[{hash:4206633856,glsl3:{vert:"\nprecision highp float;\nuniform CCGlobal {\n  mat4 cc_matView;\n  mat4 cc_matViewInv;\n  mat4 cc_matProj;\n  mat4 cc_matProjInv;\n  mat4 cc_matViewProj;\n  mat4 cc_matViewProjInv;\n  vec4 cc_cameraPos;\n  vec4 cc_time;\n  mediump vec4 cc_screenSize;\n  mediump vec4 cc_screenScale;\n};\nuniform CCLocal {\n  mat4 cc_matWorld;\n  mat4 cc_matWorldIT;\n};\nin vec3 a_position;\nin vec4 a_color;\nout vec4 v_color;\n#if USE_TEXTURE\nin vec2 a_uv0;\nout vec2 v_uv0;\n#endif\nvoid main () {\n  vec4 pos = vec4(a_position, 1);\n  #if CC_USE_MODEL\n  pos = cc_matViewProj * cc_matWorld * pos;\n  #else\n  pos = cc_matViewProj * pos;\n  #endif\n  #if USE_TEXTURE\n  v_uv0 = a_uv0;\n  #endif\n  v_color = a_color;\n  gl_Position = pos;\n}",frag:"\nprecision highp float;\n#if USE_ALPHA_TEST\n  uniform ALPHA_TEST {\n    float alphaThreshold;\n  };\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n  #if USE_ALPHA_TEST\n      if (color.a < alphaThreshold) discard;\n  #endif\n}\nvoid ALPHA_TEST (in float alpha) {\n  #if USE_ALPHA_TEST\n      if (alpha < alphaThreshold) discard;\n  #endif\n}\nin vec4 v_color;\n#if USE_TEXTURE\nin vec2 v_uv0;\nuniform sampler2D texture;\n#endif\nuniform CustomUniform {\n  vec2 v_halfpixel;\n  vec2 v_offset;\n};\nvoid main () {\n  vec4 o = vec4(1, 1, 1, 1);\n  vec4 sum = texture2D(texture, v_uv0 + vec2(-v_halfpixel.x * 2.0, 0.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(-v_halfpixel.x, v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(0.0, v_halfpixel.y * 2.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x * 2.0, 0.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(0.0, -v_halfpixel.y * 2.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(-v_halfpixel.x, -v_halfpixel.y) * v_offset) * 2.0;\n  o = sum / 12.0;\n  o *= v_color;\n  ALPHA_TEST(o);\n  #if USE_BGRA\n    gl_FragColor = o.bgra;\n  #else\n    gl_FragColor = o.rgba;\n  #endif\n}"},glsl1:{vert:"\nprecision highp float;\nuniform mat4 cc_matViewProj;\nuniform mat4 cc_matWorld;\nattribute vec3 a_position;\nattribute vec4 a_color;\nvarying vec4 v_color;\n#if USE_TEXTURE\nattribute vec2 a_uv0;\nvarying vec2 v_uv0;\n#endif\nvoid main () {\n  vec4 pos = vec4(a_position, 1);\n  #if CC_USE_MODEL\n  pos = cc_matViewProj * cc_matWorld * pos;\n  #else\n  pos = cc_matViewProj * pos;\n  #endif\n  #if USE_TEXTURE\n  v_uv0 = a_uv0;\n  #endif\n  v_color = a_color;\n  gl_Position = pos;\n}",frag:"\nprecision highp float;\n#if USE_ALPHA_TEST\n  uniform float alphaThreshold;\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n  #if USE_ALPHA_TEST\n      if (color.a < alphaThreshold) discard;\n  #endif\n}\nvoid ALPHA_TEST (in float alpha) {\n  #if USE_ALPHA_TEST\n      if (alpha < alphaThreshold) discard;\n  #endif\n}\nvarying vec4 v_color;\n#if USE_TEXTURE\nvarying vec2 v_uv0;\nuniform sampler2D texture;\n#endif\nuniform vec2 v_halfpixel;\nuniform vec2 v_offset;\nvoid main () {\n  vec4 o = vec4(1, 1, 1, 1);\n  vec4 sum = texture2D(texture, v_uv0 + vec2(-v_halfpixel.x * 2.0, 0.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(-v_halfpixel.x, v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(0.0, v_halfpixel.y * 2.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x * 2.0, 0.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(0.0, -v_halfpixel.y * 2.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(-v_halfpixel.x, -v_halfpixel.y) * v_offset) * 2.0;\n  o = sum / 12.0;\n  o *= v_color;\n  ALPHA_TEST(o);\n  #if USE_BGRA\n    gl_FragColor = o.bgra;\n  #else\n    gl_FragColor = o.rgba;\n  #endif\n}"},builtins:{globals:{blocks:[{name:"CCGlobal",defines:[]}],samplers:[]},locals:{blocks:[{name:"CCLocal",defines:[]}],samplers:[]}},defines:[{name:"USE_TEXTURE",type:"boolean",defines:[]},{name:"CC_USE_MODEL",type:"boolean",defines:[]},{name:"USE_ALPHA_TEST",type:"boolean",defines:[]},{name:"USE_BGRA",type:"boolean",defines:[]}],blocks:[{name:"ALPHA_TEST",members:[{name:"alphaThreshold",type:13,count:1}],defines:["USE_ALPHA_TEST"],binding:0},{name:"CustomUniform",members:[{name:"v_halfpixel",type:14,count:1},{name:"v_offset",type:14,count:1}],defines:[],binding:1}],samplers:[{name:"texture",type:29,count:1,defines:["USE_TEXTURE"],binding:30}],record:null,name:"BlurDown|vs|fs"}]};cc._RF.pop()},{"../Common/Utils/RenderUtil":"RenderUtil","./CocosHelper":"CocosHelper","./UIManager":"UIManager","./WindowMgr":"WindowMgr","./config/SysDefine":"SysDefine"}],UIRecipeInfo_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"e8b588mKChBlr4fUNYV5uvD","UIRecipeInfo_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.title=null,e.list=null,e.infoLabel=null,e}return r(e,t),i([c(cc.Node)],e.prototype,"icon",void 0),i([c(cc.Node)],e.prototype,"title",void 0),i([c(cc.Node)],e.prototype,"list",void 0),i([c(cc.Node)],e.prototype,"infoLabel",void 0),i([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],UIRecipeInfo:[function(t,e,n){"use strict";cc._RF.push(e,"4c1bf2Vs3NBGoaQpraELDQE","UIRecipeInfo");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Common/GPDrag"),s=t("../Common/Utils/CommonUtils"),c=t("../Config/GlobalData"),u=t("../Game/Item/MenuItem"),l=t("../UIFrame/Struct"),p=t("../UIFrame/UIForm"),h=t("../UIFrame/config/SysDefine"),f=cc._decorator,d=f.ccclass,_=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.modalType=new l.ModalType(h.ModalOpacity.OpacityHigh,!0),e.menu=null,e._data=null,e.itemMax=6,e.rawArr=[],e._List$RecipeScroll=null,e}var n;return r(e,t),n=e,e.prototype.start=function(){console.log("UIRecipeInfo start...")},e.prototype.onShow=function(t){this._data=t,this.clearMenu()},e.prototype.onEnable=function(){this.rawArr=[],this.initUi(this._data),this.addRecipeItem(this._data),this._List$RecipeScroll=this.node.parent.getChildByName("UIRecipe").getChildByName("bg").getChildByName("_List$RecipeScroll"),this._List$RecipeScroll.getComponent(cc.ScrollView).enabled=!1},e.prototype.onDisable=function(){this._List$RecipeScroll.getComponent(cc.ScrollView).enabled=!0},e.prototype.initUi=function(t){s.CommonUtils.setItemSpriteFrame(this.view.icon.getComponent(cc.Sprite),""+c.GlobalData.recipePath+t.resPath),this.view.title.getComponent(cc.Label).string=1==t.name.includes("%s")?t.name.replace("%s",""):t.name,this.view.infoLabel.getComponent(cc.Label).string=t.intro},e.prototype.clearMenu=function(){this.view.list.removeAllChildren()},e.prototype.addRecipeItem=function(t){for(var e,n,o=1;o<this.itemMax+1;++o)e=t["raw"+o],""!=t["raw"+o]&&"/"!=t["raw"+o]&&((n=cc.instantiate(this.menu)).parent=this.view.list,n.getComponent(u.default).enabled=!1,n.getComponent(a.GPDrag).enabled=!1,n.children[0].active=!0,s.CommonUtils.setItemSpriteFrame(n.children[0].getComponent(cc.Sprite),""+c.GlobalData.rawPath+e))},e.prototype.clickClose=function(){n.close()},i([_(cc.Prefab)],e.prototype,"menu",void 0),n=i([d],e)}(p.UIWindow);n.default=y,cc._RF.pop()},{"../Common/GPDrag":"GPDrag","../Common/Utils/CommonUtils":"CommonUtils","../Config/GlobalData":"GlobalData","../Game/Item/MenuItem":"MenuItem","../UIFrame/Struct":"Struct","../UIFrame/UIForm":"UIForm","../UIFrame/config/SysDefine":"SysDefine"}],UIRecipe_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"7c507WtnXpBuZdXkwVX0sUC","UIRecipe_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./../Common/Components/List"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.RecipeScroll=null,e.RecipeContent=null,e.RecipeModule=null,e}return r(e,t),i([u(a.default)],e.prototype,"RecipeScroll",void 0),i([u(cc.Node)],e.prototype,"RecipeContent",void 0),i([u(cc.Node)],e.prototype,"RecipeModule",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/List":"List"}],UIRecipe:[function(t,e,n){"use strict";cc._RF.push(e,"9eb62r7nFlCPL9oiiT962Sm","UIRecipe");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Config/RawMaterial"),s=t("../Game/Item/RecipeItem"),c=t("../Game/Item/RecipeModuleItem"),u=t("../UIFrame/Struct"),l=t("../UIFrame/UIForm"),p=t("../UIFrame/config/SysDefine"),h=cc._decorator,f=h.ccclass,d=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.modalType=new u.ModalType(p.ModalOpacity.OpacityHigh,!0),e.recipeModuleItem=null,e.curModuleNumber=0,e.nodeHeight=[110,130],e.titlePos=[-50,-60],e}var n;return r(e,t),n=e,e.prototype.start=function(){console.log("UIRecipe start...")},e.prototype.onEnable=function(){this.curModuleNumber=0,this.initUi()},e.prototype.onAfterShow=function(){console.log(a.RecipeList,"------------",a.RecipeList[this.curModuleNumber]),this.view.RecipeScroll.numItems=a.RecipeList[this.curModuleNumber].length,this.view.RecipeScroll.scrollTo(0,0,.1)},e.prototype.onListGridRender=function(t,e){t.getComponent(s.default).initUi(a.RecipeList[this.curModuleNumber][e],this)},e.prototype.initUi=function(){this.initRecipeModule()},e.prototype.clickClose=function(){n.close()},e.prototype.initRecipeModule=function(){this.initAllModule();for(var t=0;t<a.RecipeModule.length;t++)if(this.view.RecipeModule.children[t])this.view.RecipeModule.children[t].getComponent(c.default).initUi(t,this);else{var e=cc.instantiate(this.recipeModuleItem);e.parent=this.view.RecipeModule,e.getComponent(c.default).initUi(t,this),e.name=""+t}},e.prototype.initAllModule=function(){var t=this;this.view.RecipeModule.children.forEach(function(e){e.height=t.nodeHeight[0],e.getComponent(c.default).title.y=t.titlePos[0]})},e.prototype.changeRecipeItem=function(){this.view.RecipeScroll.numItems=a.RecipeList[this.curModuleNumber].length,this.view.RecipeScroll.updateAll()},i([d(cc.Prefab)],e.prototype,"recipeModuleItem",void 0),n=i([f],e)}(l.UIWindow);n.default=_,cc._RF.pop()},{"../Config/RawMaterial":"RawMaterial","../Game/Item/RecipeItem":"RecipeItem","../Game/Item/RecipeModuleItem":"RecipeModuleItem","../UIFrame/Struct":"Struct","../UIFrame/UIForm":"UIForm","../UIFrame/config/SysDefine":"SysDefine"}],UIToast1:[function(t,e,n){"use strict";cc._RF.push(e,"c3d9dX09jlJsYjxJBe9LSud","UIToast1");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../UIFrame/CocosHelper"),u=t("../../UIFrame/ToastMgr"),l=t("../../UIFrame/UIForm"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.info=null,e.bg=null,e}return r(e,t),e.prototype.start=function(){},e.prototype.use=function(){},e.prototype.free=function(){},e.prototype.onShow=function(t){var e=this;this.info.string=t.info,this.scheduleOnce(function(){u.default.close(e,null)},t.time||1.5)},e.prototype.onHide=function(){},e.prototype.showEffect=function(){return a(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return this.node.scale=0,this.node.position=cc.v3(0,0,0),[4,c.default.runTweenSync(this.node,cc.tween().to(.3,{scale:1},cc.easeBackOut()))];case 1:return t.sent(),[2]}})})},e.prototype.hideEffect=function(){return a(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return[4,c.default.runTweenSync(this.node,cc.tween().by(.3,{y:100},cc.easeBackOut()))];case 1:return t.sent(),[2]}})})},i([f(cc.Label)],e.prototype,"info",void 0),i([f(cc.Node)],e.prototype,"bg",void 0),i([h],e)}(l.UIToast);n.default=d,cc._RF.pop()},{"../../UIFrame/CocosHelper":"CocosHelper","../../UIFrame/ToastMgr":"ToastMgr","../../UIFrame/UIForm":"UIForm"}],UITop_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"2e06fOXe1xCHJkwgC0IL4pT","UITop_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Setting=null,e.Coin=null,e.Gift=null,e.Backpack=null,e.Recipe=null,e}return r(e,t),i([c(cc.Node)],e.prototype,"Setting",void 0),i([c(cc.Node)],e.prototype,"Coin",void 0),i([c(cc.Node)],e.prototype,"Gift",void 0),i([c(cc.Node)],e.prototype,"Backpack",void 0),i([c(cc.Node)],e.prototype,"Recipe",void 0),i([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],UITop:[function(t,e,n){"use strict";cc._RF.push(e,"cf0d1QZhShJ+pDPfq1sKLBC","UITop");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Game/Manager/RoleMgr"),s=t("../UIFrame/AdapterMgr"),c=t("../UIFrame/UIForm"),u=t("./UIBackpack"),l=t("./UIRecipe"),p=cc._decorator,h=p.ccclass,f=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onShow=function(t){this.home=t.home,t.callBack&&t.callBack(this),s.default.inst.adapteByType(s.AdapterType.FullWidth,this.node)},e.prototype.clickBackpack=function(){u.default.open()},e.prototype.clickRecipe=function(){l.default.open()},e.prototype.toggleHome=function(t){void 0===t&&(t=!1),a.default.ins.waitSize>0&&a.default.ins.firstRole.changeTalk(!t)},e.prototype.showCoffe=function(){a.default.ins.firstRole.getCoffee(),this.home.leave()},i([h],e)}(c.UIFixed));n.default=f,cc._RF.pop()},{"../Game/Manager/RoleMgr":"RoleMgr","../UIFrame/AdapterMgr":"AdapterMgr","../UIFrame/UIForm":"UIForm","./UIBackpack":"UIBackpack","./UIRecipe":"UIRecipe"}],UIWorkDesk_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"56ee2Nm2yJEJK0ns2XwnyMc","UIWorkDesk_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./../Common/Components/List"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Menu=null,e.MenuList=null,e.Scroll=null,e.Content=null,e.Reform=null,e.Ok=null,e.CoffeePos=null,e.Close=null,e}return r(e,t),i([u(cc.Node)],e.prototype,"Menu",void 0),i([u(cc.Node)],e.prototype,"MenuList",void 0),i([u(a.default)],e.prototype,"Scroll",void 0),i([u(cc.Node)],e.prototype,"Content",void 0),i([u(cc.Node)],e.prototype,"Reform",void 0),i([u(cc.Node)],e.prototype,"Ok",void 0),i([u(cc.Node)],e.prototype,"CoffeePos",void 0),i([u(cc.Node)],e.prototype,"Close",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/List":"List"}],UIWorkDesk:[function(t,e,n){"use strict";cc._RF.push(e,"b0b79n3Ta5Bz7qDiGc5ZdnV","UIWorkDesk");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.makeState=n.DragType=void 0;var c,u,l=t("lodash"),p=t("../Common/BroadCasts/BroadcastCenter"),h=t("../Common/Components/KawaseBlur"),f=t("../Common/Components/Printer"),d=t("../Common/GPDrag"),_=t("../Config/MessageInfo"),y=t("../Config/RawMaterial"),v=t("../Enum/MessageType"),g=t("../Game/Coffee"),m=t("../Game/Item/MenuItem"),b=t("../Game/Item/RawItem"),w=t("../Game/Manager/RoleMgr"),T=t("../UIFrame/AdapterMgr"),S=t("../UIFrame/CocosHelper"),O=t("../UIFrame/Struct"),C=t("../UIFrame/UIForm"),P=t("../UIFrame/config/SysDefine"),x=t("./toast/UIToast1"),I=cc._decorator,R=I.ccclass,M=I.property;(function(t){t[t.Raw=0]="Raw",t[t.Menu=1]="Menu"})(c=n.DragType||(n.DragType={})),function(t){t[t.INIT=0]="INIT",t[t.ISMAKE=1]="ISMAKE",t[t.MAKESUCC=2]="MAKESUCC"}(u=n.makeState||(n.makeState={}));var E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coffee=null,e.menu=null,e.talkNode=null,e.content=null,e.box=null,e.roleNode=null,e.coffeeNode=null,e.menuNode=null,e.modalType=new O.ModalType(P.ModalOpacity.GuassBlur),e.dualBlur=!0,e.menuMaxNum=6,e.dragIndex=-1,e.talkPosY=252,e.boxHeight=51,e.maxBoxWidth=662,e.offsetY=18,e.layoutOffsetY=-5.9,e.dragItem=null,e.dragMenuItem=null,e.menuItemArr=[],e.dragType=null,e.top=null,e.blurComp=null,e.recipeList=null,e.makeRecipe=null,e.makeState=u.INIT,e}var n;return r(e,t),n=e,e.prototype.start=function(){console.log("UIBackpack start..."),this.initBg(),this.addCoffe()},e.prototype.initBg=function(){var t=this.node.parent.getChildByName("UIModalNode").getComponent(cc.Sprite);this.blurComp=this.node.getComponent(h.default),this.blurComp.sprite=t,this.blurComp.enabled=!0},e.prototype.addCoffe=function(){this.coffeeNode=cc.instantiate(this.coffee),this.coffeeNode.parent=this.view.CoffeePos,this.coffeComp.initData(this);for(var t=0;t<=this.menuMaxNum;t++){var e=cc.instantiate(this.menu);t<this.menuMaxNum?(e.getComponent(d.GPDrag).enabled=!1,e.getComponent(m.default).init(this),e.parent=this.view.MenuList,this.view.MenuList.getComponent(cc.Layout).updateLayout()):(this.menuNode=e,e.getComponent(m.default).enabled=!1,this.menuComp.succeedCheck=this.succkCheck.bind(this),this.menuComp.succeedCallback=this.succeedCallback.bind(this),this.menuNode.children[0].active=!0,this.menuNode.parent=this.node,this.menuNode.active=!1)}},e.prototype.close=function(){this.content.parent=this.box,this.roleNode.active=!1,this.top.toggleHome(),this.makeState===u.MAKESUCC&&w.default.ins.firstRole&&this.top.showCoffe(),n.close()},e.prototype.onShow=function(t){var e=this;this.top=t,T.default.inst.adapteByType(T.AdapterType.FullWidth,this.node),this.makeState!==u.ISMAKE&&this.clearMenu(),this.recipeList=l.flatten(y.RecipeList),0===w.default.ins.waitSize||w.default.ins.firstRole.moveing||this.startTalk(),p.BroadcastCenter.buildingState.once(function(t){t.state===v.MessageType.RoleStand&&1===t.id&&e.startTalk()},this)},e.prototype.startTalk=function(){this.roleNode.active=!0,this.talkContent="\u7ed9\u5927\u7237\u6765\u4e00\u676f\u7f8e\u5f0f\u5496\u5561"},e.prototype.clearMenu=function(){this.coffeeNode&&this.coffeComp.init(),this.dragIndex=-1,this.dragMenuItem=null,this.dragItem=null,this.menuItemArr=[],this.view.Reform.active=!1,this.view.Ok.active=!1,this.makeState=u.INIT,this.view.Menu.active=!0;for(var t=0,e=this.view.MenuList.children;t<e.length;t++){var n=e[t];n.getComponent(m.default).itemData=null,n.children[0].active=!1}},e.prototype.showEffect=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this.node.scale=0,this.node.position=cc.v3(0,-800),[4,S.default.runTweenSync(this.node,cc.tween().by(.3,{position:cc.v3(0,400),scale:1},cc.easeBackOut()))];case 1:return t.sent(),[2]}})})},e.prototype.hideEffect=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,S.default.runTweenSync(this.node,cc.tween().to(.8,{position:cc.v3(0,-800),scale:0},cc.easeBackOut()))];case 1:return t.sent(),[2]}})})},e.prototype.onAfterShow=function(){this.view.Scroll.numItems=y.RawMaterial.length,this.view.Scroll.scrollTo(0,0,.1)},e.prototype.onListGridRender=function(t,e){t.getComponent(b.default).initUi(y.RawMaterial[e],this)},e.prototype.queryMenu=function(){for(var t=l.map(this.menuItemArr,"ID"),e=!1,n=null,o=["raw1","raw2","raw3","raw4","raw5","raw6"],r=0,i=this.recipeList;r<i.length;r++){var a=i[r],s=l.flatMap(a,function(t,e){if(o.includes(e))return t});s=l.compact(s);var c=l.intersection(t,s);c.length===t.length&&c.length===s.length&&(n=a,e=!0,console.log("\u627e\u5230\u4e86",a,t))}return{isRecipe:e,myRecipe:n}},e.prototype.giveCoffer=function(){this.makeState=u.MAKESUCC,this.close()},e.prototype.clickMake=function(){return a(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return 0===this.menuItemArr.length?(x.default.open({info:_.MessageInfo.rawInfo}),[2]):(t=this.queryMenu()).isRecipe?(this.makeRecipe=t.myRecipe,w.default.ins.firstRole&&(w.default.ins.firstRole.makeRecipe=this.makeRecipe),this.makeState=u.ISMAKE,this.coffeeNode.active=!0,this.coffeComp.changeCoffer(this.makeRecipe),[4,S.default.runTweenSync(this.coffeeNode,cc.tween().to(.5,{position:cc.v3(0,0),angle:0}))]):(x.default.open({info:_.MessageInfo.checkMenuErrr}),this.clearMenu(),[2]);case 1:return e.sent(),this.coffeComp.runTopUp(),[2]}})})},Object.defineProperty(e.prototype,"coffeComp",{get:function(){return this.coffeeNode.getComponent(g.default)},enumerable:!1,configurable:!0}),e.prototype.dragNode=function(t,e,n){if(this.makeState===u.INIT){this.dragType=n,n==c.Raw?this.dragItem=e:this.dragMenuItem=e,this.view.Scroll.node.getComponent(cc.ScrollView).enabled=!1,this.menuNode.setContentSize(cc.size(e.node.width,e.node.height)),this.menuNode.children[0].getComponent(cc.Sprite).spriteFrame=e.icon.spriteFrame;var o=this.node.convertToNodeSpaceAR(t.getLocation());this.menuNode.position=cc.v3(o.x,o.y),this.menuNode.active=!0,t.target=this.menuNode,t.currentTarget=this.menuNode,this.dragIndex=y.RawMaterial.indexOf(e.itemData),this.menuComp.OnDragStart(t)}},e.prototype.dragMove=function(t){this.menuNode&&this.makeState===u.INIT&&(t.target=this.menuNode,t.currentTarget=this.menuNode,this.menuComp.OnDragMove(t))},e.prototype.dragEnd=function(t){this.menuNode&&this.makeState===u.INIT&&(t.target=this.menuNode,t.currentTarget=this.menuNode,this.menuComp.OnDragEnd(t))},e.prototype.succkCheck=function(){var t=this.view.MenuList.getBoundingBoxToWorld();this.dragType==c.Menu&&(t=this.view.Content.getBoundingBoxToWorld());var e=cc.Intersection.rectRect(this.menuNode.getBoundingBoxToWorld(),t);return e||((this.menuComp.backHomeType=d.DragBackHomeType.Tween)?this.scheduleOnce(this.initDragData,this.menuComp.backTweenTime):this.initDragData()),e},e.prototype.succeedCallback=function(){var t=this.queryNullMenu(),e=t.children[0];this.dragType==c.Raw?(e.getComponent(cc.Sprite).spriteFrame=this.dragItem.icon.spriteFrame,t.getComponent(m.default).itemData=this.dragItem.itemData,e.active=!0,this.menuItemArr.push(this.dragItem.itemData)):(l.pull(this.menuItemArr,this.dragMenuItem.itemData),console.log(this.menuItemArr,this.dragMenuItem.itemData),this.dragMenuItem.icon.node.active=!1,this.dragMenuItem.itemData=null),this.initDragData()},e.prototype.queryNullMenu=function(){for(var t=0,e=this.view.MenuList.children;t<e.length;t++){var n=e[t];if(!n.children[0].active)return n}},Object.defineProperty(e.prototype,"menuComp",{get:function(){return this.menuNode.getComponent(d.GPDrag)},enumerable:!1,configurable:!0}),e.prototype.initDragData=function(){this.menuNode.active=!1,this.dragIndex=-1,this.view.Scroll.node.getComponent(cc.ScrollView).enabled=!0},Object.defineProperty(e.prototype,"talkContent",{set:function(t){var e=this;console.log(this);var n=this.talkNode.position,o=this.talkNode.getComponent(cc.Layout);o.spacingY=this.layoutOffsetY,o.updateLayout(),this.talkNode.position=cc.v3(n.x,this.talkPosY,n.z);var r=new cc.Color(255,255,255,255);if(cc.Color.fromHEX(r,"#FEF3DE"),this.content.color=r,this.content.getComponent(cc.Label).overflow=cc.Label.Overflow.RESIZE_HEIGHT,this.content.parent=this.box,this.content.width=this.maxBoxWidth,this.content.getComponent(cc.Label).string=t,this.content.getComponent(cc.Label)._forceUpdateRenderData(),this.content.height<this.boxHeight)this.content.getComponent(cc.Label).overflow=cc.Label.Overflow.NONE;else{var i=Math.floor(this.content.height/this.boxHeight);o.spacingY=(i+1)*this.layoutOffsetY+i+1,o.updateLayout(),this.talkNode.position=cc.v3(n.x,n.y+i*this.offsetY,n.z)}this.scheduleOnce(function(){var n=e.content.convertToWorldSpaceAR(cc.v2(0));e.content.parent=e.node,e.content.position=cc.v3(e.node.convertToNodeSpaceAR(n)),cc.Color.fromHEX(r,"#000000"),e.content.color=r,e.content.getComponent(f.Priter).showLabelPrinter(t)},.3)},enumerable:!1,configurable:!0}),i([M(cc.Prefab)],e.prototype,"coffee",void 0),i([M(cc.Prefab)],e.prototype,"menu",void 0),i([M(cc.Node)],e.prototype,"talkNode",void 0),i([M(cc.Node)],e.prototype,"content",void 0),i([M(cc.Node)],e.prototype,"box",void 0),i([M(cc.Node)],e.prototype,"roleNode",void 0),n=i([R],e)}(C.UIDrawer);n.default=E,cc._RF.pop()},{"../Common/BroadCasts/BroadcastCenter":"BroadcastCenter","../Common/Components/KawaseBlur":"KawaseBlur","../Common/Components/Printer":"Printer","../Common/GPDrag":"GPDrag","../Config/MessageInfo":"MessageInfo","../Config/RawMaterial":"RawMaterial","../Enum/MessageType":"MessageType","../Game/Coffee":"Coffee","../Game/Item/MenuItem":"MenuItem","../Game/Item/RawItem":"RawItem","../Game/Manager/RoleMgr":"RoleMgr","../UIFrame/AdapterMgr":"AdapterMgr","../UIFrame/CocosHelper":"CocosHelper","../UIFrame/Struct":"Struct","../UIFrame/UIForm":"UIForm","../UIFrame/config/SysDefine":"SysDefine","./toast/UIToast1":"UIToast1",lodash:1}],WindowMgr:[function(t,e,n){"use strict";cc._RF.push(e,"3a04aa299JD1rqA2T4NCR4W","WindowMgr");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{c(o.next(t))}catch(e){i(e)}}function s(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Common/Utils/PriorityQueue"),a=t("../Common/Utils/PriorityStack"),s=t("./config/SysDefine"),c=t("./Struct"),u=t("./UIManager"),l=function(){function t(){this._showingList=new a.default(function(t,e){return t.prefabUrl===e.prefabUrl}),this._waitingList=new i.default}return Object.defineProperty(t.prototype,"currWindow",{get:function(){return this._currWindow},enumerable:!1,configurable:!0}),t.prototype.getWindows=function(){return this._showingList.getElements()},t.prototype.open=function(t,e,n){return o(this,void 0,void 0,function(){var o;return r(this,function(r){switch(r.label){case 0:return t=c.GetForm(t,s.FormType.Window),o=t.prefabUrl,n=this._formatFormData(n),this._showingList.size<=0||!n.showWait&&n.priority>=this._showingList.getTopEPriority()?(this._showingList.push(t,n.priority),this._currWindow=this._showingList.getTopElement(),[4,u.default.getInstance().openForm(t,e,n)]):[3,2];case 1:return[2,r.sent()];case 2:return this._waitingList.enqueue({form:t,params:e,formData:n}),[4,u.default.getInstance().loadUIForm(o)];case 3:return[2,r.sent()]}})})},t.prototype.close=function(t,e,n){return o(this,void 0,void 0,function(){var o;return r(this,function(r){switch(r.label){case 0:return t=c.GetForm(t,s.FormType.Window),this._showingList.remove(t)?[4,u.default.getInstance().closeForm(t,e,n)]:[2,!1];case 1:return r.sent(),this._showingList.size<=0&&this._waitingList.size>0&&(o=this._waitingList.dequeue(),this.open(o.form,o.params,o.formData)),[2,!0]}})})},t.prototype.closeAll=function(){return o(this,void 0,void 0,function(){var t,e,n;return r(this,function(o){switch(o.label){case 0:this._waitingList.clear(),t=0,e=this._showingList.getElements(),o.label=1;case 1:return t<e.length?(n=e[t],[4,u.default.getInstance().closeForm(n)]):[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return this._showingList.clear(),[2,!0]}})})},t.prototype._formatFormData=function(t){return Object.assign({showWait:!1,priority:c.EPriority.FIVE},t)},t}();n.default=new l,cc._RF.pop()},{"../Common/Utils/PriorityQueue":"PriorityQueue","../Common/Utils/PriorityStack":"PriorityStack","./Struct":"Struct","./UIManager":"UIManager","./config/SysDefine":"SysDefine"}],adaptToPositionArr:[function(t,e,n){"use strict";cc._RF.push(e,"14f1fZz2sRGxKBTQlGUT+sp","adaptToPositionArr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.totalPosCount=0,e.xPosCount=0,e.yPosCount=0,e.posArr=[],e.countArr=[],e.nodePrefab=null,e}return r(e,t),e.prototype.onLoad=function(){this.yPosCount=Math.ceil(this.totalPosCount/this.xPosCount),this.initData(12,5)},e.prototype.initData=function(t,e){this.totalPosCount=t,this.xPosCount=e,this.calculatePos()},e.prototype.calculatePos=function(){0!=this.totalPosCount&&(1!=this.totalPosCount?(this.posArr=[],this.countArr=[],this.calculatePosXY(),this.creatreTestPrefab()):this.posArr.push(cc.v2(0,0)))},e.prototype.calculatePosXY=function(){for(var t=this.totalPosCount%this.xPosCount==0?this.xPosCount:this.totalPosCount%this.xPosCount,e=Math.ceil(this.totalPosCount/this.xPosCount),n=0,o=0;o<e;o++)n=o==e-1?t:this.xPosCount,this.countArr.push(n);var r=0,i=0,a=0;for(o=0;o<this.countArr.length;o++){i=this.node.height/2-this.node.height/(this.countArr.length+1)-this.node.height/(this.countArr.length+1)*o,a=this.countArr[0];for(var s=0;s<this.countArr[o];s++)r=-this.node.width/2+this.node.width/(a+1)+this.node.width/(a+1)*s,this.posArr.push(cc.v2(r,i))}},e.prototype.creatreTestPrefab=function(){if(null!=this.nodePrefab)for(var t,e=0;e<this.posArr.length;e++)(t=cc.instantiate(this.nodePrefab)).parent=this.node,t.x=this.posArr[e].x,t.y=this.posArr[e].y},i([c({tooltip:"\u603b\u5750\u6807\u6570"})],e.prototype,"totalPosCount",void 0),i([c({tooltip:"x\u8f74\u603b\u4e2a\u6570"})],e.prototype,"xPosCount",void 0),i([c(cc.Prefab)],e.prototype,"nodePrefab",void 0),i([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],mobx:[function(t,e,n){(function(t){"use strict";cc._RF.push(e,"de3aaq1fItEy5tKcvHOTs15","mobx"),n.__esModule=!0,n.$mobx=void 0,n.FlowCancellationError=Dn,n.Reaction=n.ObservableSet=n.ObservableMap=void 0,n._allowStateChanges=ee,n.runInAction=n._allowStateChangesInsideComputed=function(t){return Qt(t.name||sn,!1,t,this,void 0)},n._allowStateReadsEnd=Ce,n._allowStateReadsStart=Oe,n._autoAction=void 0,n._endAction=te,n._getAdministration=$o,n._getGlobalState=function(){return Ee},n._interceptReads=function(t,e,n){var r;if(Mo(t)||Oo(t)||se(t))r=$o(t);else if(Bo(t)){if("production"!==o&&!T(e))return i("InterceptReads can only be used with a specific property, not with an object in general");r=$o(t,e)}else if("production"!==o)return i("Expected observable map, object or array as first array");return"production"!==o&&void 0!==r.dehancer?i("An intercept reader was already established"):(r.dehancer="function"==typeof e?e:n,function(){r.dehancer=void 0})},n._isComputingDerivation=function(){return null!==Ee.trackingDerivation},n._resetGlobalState=function(){var t=new Ie;for(var e in t)-1===xe.indexOf(e)&&(Ee[e]=t[e]);Ee.allowStateChanges=!Ee.enforceActions},n._startAction=$t,n.action=void 0,n.autorun=yn,n.computed=n.comparer=void 0,n.configure=function(t){!0===t.isolateGlobalState&&De();var e,n,r=t.useProxies,i=t.enforceActions;if(void 0!==r&&(Ee.useProxies=r===Cn||r!==On&&"undefined"!=typeof Proxy),"ifavailable"===r&&(Ee.verifyProxies=!0),void 0!==i){var a=i===Cn?Cn:i===Pn;Ee.enforceActions=a,Ee.allowStateChanges=!0!==a&&a!==Cn}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(e){e in t&&(Ee[e]=!!t[e])}),Ee.allowStateReads=!Ee.observableRequiresReaction,"production"!==o&&!0===Ee.disableErrorBoundaries&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),t.reactionScheduler&&(e=t.reactionScheduler,n=Ke,Ke=function(t){return e(function(){return n(t)})})},n.createAtom=tt,n.defineProperty=function(t,e,n){if(Bo(t))return t[Z].defineProperty_(e,n);i(39)},n.entries=function(t){return Bo(t)?Hn(t).map(function(e){return[e,t[e]]}):Mo(t)?Hn(t).map(function(e){return[e,t.get(e)]}):ko(t)?Array.from(t.entries()):Oo(t)?t.map(function(t,e){return[e,t]}):void i(7)},n.extendObservable=xn,n.flow=void 0,n.flowResult=function(t){return t},n.get=function(t,e){if(zn(t,e))return Bo(t)?t[Z].get_(e):Mo(t)?t.get(e):Oo(t)?t[e]:void i(11)},n.getAtom=Qo,n.getDebugName=tr,n.getDependencyTree=In,n.getObserverTree=function(t,e){return Mn(Qo(t,e))},n.has=zn,n.intercept=function(t,e,n){return w(n)?jn(t,e,n):Ln(t,e)},n.isAction=_n,n.isBoxedObservable=void 0,n.isComputed=function(t){return"production"!==o&&arguments.length>1?i("isComputed expects only 1 argument. Use isComputedProp to inspect the observability of a property"):Bn(t)},n.isComputedProp=function(t,e){return"production"===o||T(e)?Bn(t,e):i("isComputed expected a property name as second argument")},n.isFlow=Un,n.isFlowCancellationError=function(t){return t instanceof Dn},n.isObservable=Vn,n.isObservableArray=Oo,n.isObservableMap=void 0,n.isObservableObject=Bo,n.isObservableProp=function(t,e){return"production"===o||T(e)?Gn(t,e):i("expected a property name as second argument")},n.isObservableSet=void 0,n.keys=Hn,n.makeAutoObservable=function(t,e,n){if("production"!==o&&(O(t)||O(Object.getPrototypeOf(t))||i("'makeAutoObservable' can only be used for classes that don't have a superclass"),Bo(t)&&i("makeAutoObservable can only be used on objects not already made observable")),O(t))return xn(t,t,e,n);var r=Uo(t,n)[Z];if(!t[lo]){var a=Object.getPrototypeOf(t),s=new Set([].concat(A(t),A(a)));s.delete("constructor"),s.delete(Z),P(a,lo,s)}Le();try{t[lo].forEach(function(t){return r.make_(t,!e||!(t in e)||e[t])})}finally{je()}return t},n.makeObservable=function(t,e,n){var o=Uo(t,n)[Z];Le();try{null!=e||(e=J(t)),A(e).forEach(function(t){return o.make_(t,e[t])})}finally{je()}return t},n.observable=void 0,n.observe=function(t,e,n,o){return w(n)?Yn(t,e,n,o):qn(t,e,n)},n.onBecomeObserved=wn,n.onBecomeUnobserved=Tn,n.onReactionError=function(t){return Ee.globalReactionErrorHandlers.push(t),function(){var e=Ee.globalReactionErrorHandlers.indexOf(t);e>=0&&Ee.globalReactionErrorHandlers.splice(e,1)}},n.override=void 0,n.ownKeys=Wn,n.reaction=function(t,e,n){var r;void 0===n&&(n=f),"production"!==o&&(w(t)&&w(e)||i("First and second argument to reaction should be functions"),O(n)||i("Third argument of reactions should be an object"));var a,s,c,u=null!=(r=n.name)?r:"production"!==o?"Reaction@"+g():"Reaction",l=fn(u,n.onError?(s=n.onError,c=e,function(){try{return c.apply(this,arguments)}catch(t){s.call(this,t)}}):e),p=!n.scheduler&&!n.delay,h=gn(n),d=!0,_=!1,y=void 0,v=n.compareStructural?et.structural:n.equals||et.default,m=new qe(u,function(){d||p?b():_||(_=!0,h(b))},n.onError,n.requiresObservable);function b(){if(_=!1,!m.isDisposed_){var e=!1;m.track(function(){var n=ee(!1,function(){return t(m)});e=d||!v(a,n),y=a,a=n}),d&&n.fireImmediately?l(a,y,m):!d&&e&&l(a,y,m),d=!1}}return m.schedule_(),m.getDisposer_()},n.remove=function(t,e){Bo(t)?t[Z].delete_(e):Mo(t)?t.delete(e):ko(t)?t.delete(e):Oo(t)?("number"!=typeof e&&(e=parseInt(e,10)),t.splice(e,1)):i(9)},n.set=function t(e,n,o){if(2!==arguments.length||ko(e))Bo(e)?e[Z].set_(n,o):Mo(e)?e.set(n,o):ko(e)?e.add(n):Oo(e)?("number"!=typeof n&&(n=parseInt(n,10)),n<0&&i("Invalid index: '"+n+"'"),Le(),n>=e.length&&(e.length=n+1),e[n]=o,je()):i(8);else{Le();var r=n;try{for(var a in r)t(e,a,r[a])}finally{je()}}},n.spy=on,n.toJS=function(t,e){return"production"!==o&&e&&i("toJS no longer supports options"),Xn(t,new Map)},n.trace=Jn,n.transaction=Qn,n.untracked=we,n.values=function(t){return Bo(t)?Hn(t).map(function(e){return t[e]}):Mo(t)?Hn(t).map(function(e){return t.get(e)}):ko(t)?Array.from(t.values()):Oo(t)?t.slice():void i(6)},n.when=function(t,e,n){return 1===arguments.length||e&&"object"==typeof e?to(t,e):$n(t,e,n||{})};var o="production",r="production"!==o?{0:"Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'",1:function(t,e){return"Cannot apply '"+t+"' to '"+e.toString()+"': Field not found."},5:"'keys()' can only be used on observable objects, arrays, sets and maps",6:"'values()' can only be used on observable objects, arrays, sets and maps",7:"'entries()' can only be used on observable objects, arrays and maps",8:"'set()' can only be used on observable objects, arrays and maps",9:"'remove()' can only be used on observable objects, arrays and maps",10:"'has()' can only be used on observable objects, arrays and maps",11:"'get()' can only be used on observable objects, arrays and maps",12:"Invalid annotation",13:"Dynamic observable objects cannot be frozen",14:"Intercept handlers should return nothing or a change object",15:"Observable arrays cannot be frozen",16:"Modification exception: the internal structure of an observable array was changed.",17:function(t,e){return"[mobx.array] Index out of bounds, "+t+" is larger than "+e},18:"mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js",19:function(t){return"Cannot initialize from classes that inherit from Map: "+t.constructor.name},20:function(t){return"Cannot initialize map from "+t},21:function(t){return"Cannot convert to map from '"+t+"'"},22:"mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js",23:"It is not possible to get index atoms from arrays",24:function(t){return"Cannot obtain administration from "+t},25:function(t,e){return"the entry '"+t+"' does not exist in the observable map '"+e+"'"},26:"please specify a property",27:function(t,e){return"no observable property '"+t.toString()+"' found on the observable object '"+e+"'"},28:function(t){return"Cannot obtain atom from "+t},29:"Expecting some object",30:"invalid action stack. did you forget to finish an action?",31:"missing option for computed: get",32:function(t,e){return"Cycle detected in computation "+t+": "+e},33:function(t){return"The setter of computed value '"+t+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"},34:function(t){return"[ComputedValue '"+t+"'] It is not possible to assign a new value to a computed value."},35:"There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`",36:"isolateGlobalState should be called before MobX is running any reactions",37:function(t){return"[mobx] `observableArray."+t+"()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice()."+t+"()` instead"},38:"'ownKeys()' can only be used on observable objects",39:"'defineProperty()' can only be used on observable objects"}:{};function i(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if("production"!==o){var a="string"==typeof t?t:r[t];throw"function"==typeof a&&(a=a.apply(null,n)),new Error("[MobX] "+a)}throw new Error("number"==typeof t?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var a={};function s(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:a}var c=Object.assign,u=Object.getOwnPropertyDescriptor,l=Object.defineProperty,p=Object.prototype,h=[];Object.freeze(h);var f={};Object.freeze(f);var d="undefined"!=typeof Proxy,_=Object.toString();function y(){d||i("production"!==o?"`Proxy` objects are not available in the current environment. Please configure MobX to enable a fallback implementation.`":"Proxy not available")}function v(t){"production"!==o&&Ee.verifyProxies&&i("MobX is currently configured to be able to run in ES5 mode, but in ES5 MobX won't be able to "+t)}function g(){return++Ee.mobxGuid}function m(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var b=function(){};function w(t){return"function"==typeof t}function T(t){switch(typeof t){case"string":case"symbol":case"number":return!0}return!1}function S(t){return null!==t&&"object"==typeof t}function O(t){var e;if(!S(t))return!1;var n=Object.getPrototypeOf(t);return null==n||(null==(e=n.constructor)?void 0:e.toString())===_}function C(t){var e=null==t?void 0:t.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName)}function P(t,e,n){l(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function x(t,e,n){l(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function I(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return S(t)&&!0===t[n]}}function R(t){return t instanceof Map}function M(t){return t instanceof Set}var E=void 0!==Object.getOwnPropertySymbols;function D(t){var e=Object.keys(t);if(!E)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(e){return p.propertyIsEnumerable.call(t,e)})):e}var A="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:E?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function k(t){return"string"==typeof t?t:"symbol"==typeof t?t.toString():new String(t).toString()}function F(t){return null===t?null:"object"==typeof t?""+t:t}function N(t,e){return p.hasOwnProperty.call(t,e)}var U=Object.getOwnPropertyDescriptors||function(t){var e={};return A(t).forEach(function(n){e[n]=u(t,n)}),e};function L(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function j(t,e,n){return e&&L(t.prototype,e),n&&L(t,n),t}function B(){return(B=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function G(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function V(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(t,e){if(t){if("string"==typeof t)return z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(t,e):void 0}}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function W(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=H(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}var q=Symbol("mobx-stored-annotations");function Y(t){return Object.assign(function(e,n){K(e,n,t)},t)}function K(t,e,n){N(t,q)||P(t,q,B({},t[q])),"production"!==o&&at(n)&&!N(t[q],e)&&i("'"+t.constructor.name+".prototype."+e.toString()+"' is decorated with 'override', but no such decorated member was found on prototype."),X(t,n,e),at(n)||(t[q][e]=n)}function X(t,e,n){if("production"!==o&&!at(e)&&N(t[q],n)){var r=t.constructor.name+".prototype."+n.toString(),a=t[q][n].annotationType_;i("Cannot apply '@"+e.annotationType_+"' to '"+r+"':\nThe field is already decorated with '@"+a+"'.\nRe-decorating fields is not allowed.\nUse '@override' decorator for methods overriden by subclass.")}}function J(t){return N(t,q)||("production"===o||t[q]||i("No annotations were passed to makeObservable, but no decorated members have been found either"),P(t,q,B({},t[q]))),t[q]}var Z=Symbol("mobx administration");n.$mobx=Z;var Q=function(){function t(t){void 0===t&&(t="production"!==o?"Atom@"+g():"Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ce.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(t){return t()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(t){return t()})},e.reportObserved=function(){return Be(this)},e.reportChanged=function(){Le(),Ge(this),je()},e.toString=function(){return this.name_},t}(),$=I("Atom",Q);function tt(t,e,n){void 0===e&&(e=b),void 0===n&&(n=b);var o=new Q(t);return e!==b&&wn(o,e),n!==b&&Tn(o,n),o}var et={identity:function(t,e){return t===e},structural:function(t,e){return nr(t,e)},default:function(t,e){return Object.is(t,e)},shallow:function(t,e){return nr(t,e,1)}};function nt(t,e,n){return Vn(t)?t:Array.isArray(t)?Bt.array(t,{name:n}):O(t)?Bt.object(t,void 0,{name:n}):R(t)?Bt.map(t,{name:n}):M(t)?Bt.set(t,{name:n}):"function"!=typeof t||_n(t)||Un(t)?t:C(t)?Fn(t):dn(n,t)}function ot(t){return t}n.comparer=et;var rt="override",it=Y({annotationType_:rt,make_:function(t,e){return"production"!==o&&t.isPlainObject_&&i("Cannot apply '"+this.annotationType_+"' to '"+t.name_+"."+e.toString()+"':\n'"+this.annotationType_+"' cannot be used on plain objects."),"production"===o||N(t.appliedAnnotations_,e)||i("'"+t.name_+"."+e.toString()+"' is annotated with '"+this.annotationType_+"', but no such annotated member was found on prototype."),0},extend_:function(){i("'"+this.annotationType_+"' can only be used with 'makeObservable'")}});function at(t){return t.annotationType_===rt}function st(t,e){return{annotationType_:t,options_:e,make_:ct,extend_:ut}}function ct(t,e,n,o){var r;if(null==(r=this.options_)?void 0:r.bound)return null===this.extend_(t,e,n,!1)?0:1;if(o===t.target_)return null===this.extend_(t,e,n,!1)?0:2;if(_n(n.value))return 1;var i=pt(t,this,e,n,!1);return l(o,e,i),2}function ut(t,e,n,o){var r=pt(t,this,e,n);return t.defineProperty_(e,r,o)}function lt(t,e,n,r){var a=e.annotationType_,s=r.value;"production"===o||w(s)||i("Cannot apply '"+a+"' to '"+t.name_+"."+n.toString()+"':\n'"+a+"' can only be used on properties with a function value.")}function pt(t,e,n,o,r){var i,a,s,c,u;void 0===r&&(r=Ee.safeDescriptors),lt(t,e,n,o);var l,p=o.value;return(null==(i=e.options_)?void 0:i.bound)&&(p=p.bind(null!=(l=t.proxy_)?l:t.target_)),{value:Zt(null!=(a=null==(s=e.options_)?void 0:s.name)?a:n.toString(),p,null!=(c=null==(u=e.options_)?void 0:u.autoAction)&&c),configurable:!r||t.isPlainObject_,enumerable:!1,writable:!r}}function ht(t,e){return{annotationType_:t,options_:e,make_:ft,extend_:dt}}function ft(t,e,n,o){var r;if(o===t.target_)return null===this.extend_(t,e,n,!1)?0:2;if((null==(r=this.options_)?void 0:r.bound)&&!Un(t.target_[e])&&null===this.extend_(t,e,n,!1))return 0;if(Un(n.value))return 1;var i=yt(t,this,e,n,!1,!1);return l(o,e,i),2}function dt(t,e,n,o){var r,i=yt(t,this,e,n,null==(r=this.options_)?void 0:r.bound);return t.defineProperty_(e,i,o)}function _t(t,e,n,r){var a=e.annotationType_,s=r.value;"production"===o||w(s)||i("Cannot apply '"+a+"' to '"+t.name_+"."+n.toString()+"':\n'"+a+"' can only be used on properties with a generator function value.")}function yt(t,e,n,o,r,i){void 0===i&&(i=Ee.safeDescriptors),_t(t,e,n,o);var a,s=o.value;return r&&(s=s.bind(null!=(a=t.proxy_)?a:t.target_)),{value:Fn(s),configurable:!i||t.isPlainObject_,enumerable:!1,writable:!i}}function vt(t,e){return{annotationType_:t,options_:e,make_:gt,extend_:mt}}function gt(t,e,n){return null===this.extend_(t,e,n,!1)?0:1}function mt(t,e,n,o){return bt(t,this,e,n),t.defineComputedProperty_(e,B({},this.options_,{get:n.get,set:n.set}),o)}function bt(t,e,n,r){var a=e.annotationType_,s=r.get;"production"===o||s||i("Cannot apply '"+a+"' to '"+t.name_+"."+n.toString()+"':\n'"+a+"' can only be used on getter(+setter) properties.")}function wt(t,e){return{annotationType_:t,options_:e,make_:Tt,extend_:St}}function Tt(t,e,n){return null===this.extend_(t,e,n,!1)?0:1}function St(t,e,n,o){var r,i;return Ot(t,this,e,n),t.defineObservableProperty_(e,n.value,null!=(r=null==(i=this.options_)?void 0:i.enhancer)?r:nt,o)}function Ot(t,e,n,r){var a=e.annotationType_;"production"===o||"value"in r||i("Cannot apply '"+a+"' to '"+t.name_+"."+n.toString()+"':\n'"+a+"' cannot be used on getter/setter properties")}n.override=it;var Ct="true",Pt=xt();function xt(t){return{annotationType_:Ct,options_:t,make_:It,extend_:Rt}}function It(t,e,n,o){var r,i,a,s;if(n.get)return Wt.make_(t,e,n,o);if(n.set){var c=Zt(e.toString(),n.set);return o===t.target_?null===t.defineProperty_(e,{configurable:!Ee.safeDescriptors||t.isPlainObject_,set:c})?0:2:(l(o,e,{configurable:!0,set:c}),2)}if(o!==t.target_&&"function"==typeof n.value)return C(n.value)?((null==(s=this.options_)?void 0:s.autoBind)?Fn.bound:Fn).make_(t,e,n,o):((null==(a=this.options_)?void 0:a.autoBind)?dn.bound:dn).make_(t,e,n,o);var u,p=!1===(null==(r=this.options_)?void 0:r.deep)?Bt.ref:Bt;return"function"==typeof n.value&&(null==(i=this.options_)?void 0:i.autoBind)&&(n.value=n.value.bind(null!=(u=t.proxy_)?u:t.target_)),p.make_(t,e,n,o)}function Rt(t,e,n,o){var r,i,a;return n.get?Wt.extend_(t,e,n,o):n.set?t.defineProperty_(e,{configurable:!Ee.safeDescriptors||t.isPlainObject_,set:Zt(e.toString(),n.set)},o):("function"==typeof n.value&&(null==(r=this.options_)?void 0:r.autoBind)&&(n.value=n.value.bind(null!=(a=t.proxy_)?a:t.target_)),(!1===(null==(i=this.options_)?void 0:i.deep)?Bt.ref:Bt).extend_(t,e,n,o))}var Mt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Et(t){return t||Mt}Object.freeze(Mt);var Dt=wt("observable"),At=wt("observable.ref",{enhancer:ot}),kt=wt("observable.shallow",{enhancer:function(t,e,n){return null==t?t:Bo(t)||Oo(t)||Mo(t)||ko(t)?t:Array.isArray(t)?Bt.array(t,{name:n,deep:!1}):O(t)?Bt.object(t,void 0,{name:n,deep:!1}):R(t)?Bt.map(t,{name:n,deep:!1}):M(t)?Bt.set(t,{name:n,deep:!1}):void("production"!==o&&i("The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets"))}}),Ft=wt("observable.struct",{enhancer:function(t,e){return"production"!==o&&Vn(t)&&i("observable.struct should not be used with observable values"),nr(t,e)?e:t}}),Nt=Y(Dt);function Ut(t){return!0===t.deep?nt:!1===t.deep?ot:(e=t.defaultDecorator)&&null!=(n=null==(o=e.options_)?void 0:o.enhancer)?n:nt;var e,n,o}function Lt(t){var e;return t?null!=(e=t.defaultDecorator)?e:xt(t):void 0}function jt(t,e,n){if(!T(e))return Vn(t)?t:O(t)?Bt.object(t,e,n):Array.isArray(t)?Bt.array(t,e):R(t)?Bt.map(t,e):M(t)?Bt.set(t,e):"object"==typeof t&&null!==t?t:Bt.box(t,e);K(t,e,Dt)}Object.assign(jt,Nt);var Bt=c(jt,{box:function(t,e){var n=Et(e);return new ae(t,Ut(n),n.name,!0,n.equals)},array:function(t,e){var n=Et(e);return(!1===Ee.useProxies||!1===n.proxy?Zo:_o)(t,Ut(n),n.name)},map:function(t,e){var n=Et(e);return new xo(t,Ut(n),n.name)},set:function(t,e){var n=Et(e);return new Ao(t,Ut(n),n.name)},object:function(t,e,n){return xn(!1===Ee.useProxies||!1===(null==n?void 0:n.proxy)?Uo({},n):oo({},n),t,e)},ref:Y(At),shallow:Y(kt),deep:Nt,struct:Y(Ft)});n.observable=Bt;var Gt,Vt,Ht=vt("computed"),zt=vt("computed.struct",{equals:et.structural}),Wt=function(t,e){if(T(e))return K(t,e,Ht);if(O(t))return Y(vt("computed",t));"production"!==o&&(w(t)||i("First argument to `computed` should be an expression."),w(e)&&i("A setter as second argument is no longer supported, use `{ set: fn }` option instead"));var n=O(e)?e:{};return n.get=t,n.name||(n.name=t.name||""),new le(n)};n.computed=Wt,Object.assign(Wt,Ht),Wt.struct=Y(zt);var qt,Yt=0,Kt=1,Xt=null!=(Gt=null==(Vt=u(function(){},"name"))?void 0:Vt.configurable)&&Gt,Jt={value:"action",configurable:!0,writable:!1,enumerable:!1};function Zt(t,e,n,r){function a(){return Qt(t,n,e,r||this,arguments)}return void 0===n&&(n=!1),"production"!==o&&(w(e)||i("`action` can only be invoked on functions"),"string"==typeof t&&t||i("actions should have valid names, got: '"+t+"'")),a.isMobxAction=!0,Xt&&(Jt.value=t,Object.defineProperty(a,"name",Jt)),a}function Qt(t,e,n,o,r){var i=$t(t,e,o,r);try{return n.apply(o,r)}catch(a){throw i.error_=a,a}finally{te(i)}}function $t(t,e,n,r){var i="production"!==o&&Qe()&&!!t,a=0;if("production"!==o&&i){a=Date.now();var s=r?Array.from(r):h;tn({type:rn,name:t,object:n,arguments:s})}var c=Ee.trackingDerivation,u=!e||!c;Le();var l=Ee.allowStateChanges;u&&(Te(),l=ne(!0));var p={runAsAction_:u,prevDerivation_:c,prevAllowStateChanges_:l,prevAllowStateReads_:Oe(!0),notifySpy_:i,startTime_:a,actionId_:Kt++,parentActionId_:Yt};return Yt=p.actionId_,p}function te(t){Yt!==t.actionId_&&i(30),Yt=t.parentActionId_,void 0!==t.error_&&(Ee.suppressReactionErrors=!0),oe(t.prevAllowStateChanges_),Ce(t.prevAllowStateReads_),je(),t.runAsAction_&&Se(t.prevDerivation_),"production"!==o&&t.notifySpy_&&nn({time:Date.now()-t.startTime_}),Ee.suppressReactionErrors=!1}function ee(t,e){var n=ne(t);try{return e()}finally{oe(n)}}function ne(t){var e=Ee.allowStateChanges;return Ee.allowStateChanges=t,e}function oe(t){Ee.allowStateChanges=t}var re="create";qt=Symbol.toPrimitive;var ie,ae=function(t){function e(e,n,r,i,a){var s;return void 0===r&&(r="production"!==o?"ObservableValue@"+g():"ObservableValue"),void 0===i&&(i=!0),void 0===a&&(a=et.default),(s=t.call(this,r)||this).enhancer=void 0,s.name_=void 0,s.equals=void 0,s.hasUnreportedChange_=!1,s.interceptors_=void 0,s.changeListeners_=void 0,s.value_=void 0,s.dehancer=void 0,s.enhancer=n,s.name_=r,s.equals=a,s.value_=n(e,void 0,r),"production"!==o&&i&&Qe()&&$e({type:re,object:V(s),observableKind:"value",debugObjectName:s.name_,newValue:""+s.value_}),s}G(e,t);var n=e.prototype;return n.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},n.set=function(t){var e=this.value_;if((t=this.prepareNewValue_(t))!==Ee.UNCHANGED){var n=Qe();"production"!==o&&n&&tn({type:po,object:this,observableKind:"value",debugObjectName:this.name_,newValue:t,oldValue:e}),this.setNewValue_(t),"production"!==o&&n&&nn()}},n.prepareNewValue_=function(t){if(_e(this),ro(this)){var e=ao(this,{object:this,type:po,newValue:t});if(!e)return Ee.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value_,this.name_),this.equals(this.value_,t)?Ee.UNCHANGED:t},n.setNewValue_=function(t){var e=this.value_;this.value_=t,this.reportChanged(),so(this)&&uo(this,{type:po,object:this,newValue:t,oldValue:e})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(t){return io(this,t)},n.observe_=function(t,e){return e&&t({observableKind:"value",debugObjectName:this.name_,object:this,type:po,newValue:this.value_,oldValue:void 0}),co(this,t)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return F(this.get())},n[qt]=function(){return this.valueOf()},e}(Q),se=I("ObservableValue",ae);n.isBoxedObservable=se,ie=Symbol.toPrimitive;var ce,ue,le=function(){function t(t){this.dependenciesState_=ce.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ce.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new he(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=ue.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||i(31),this.derivation=t.get,this.name_=t.name||("production"!==o?"ComputedValue@"+g():"ComputedValue"),t.set&&(this.setter_=Zt("production"!==o?this.name_+"-setter":"ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?et.structural:et.default),this.scope_=t.context,this.requiresReaction_=!!t.requiresReaction,this.keepAlive_=!!t.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){He(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(t){return t()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(t){return t()})},e.get=function(){if(this.isComputing_&&i(32,this.name_,this.derivation),0!==Ee.inBatch||0!==this.observers_.size||this.keepAlive_){if(Be(this),de(this)){var t=Ee.trackingContext;this.keepAlive_&&!t&&(Ee.trackingContext=this),this.trackAndCompute()&&Ve(this),Ee.trackingContext=t}}else de(this)&&(this.warnAboutUntrackedRead_(),Le(),this.value_=this.computeValue_(!1),je());var e=this.value_;if(fe(e))throw e.cause;return e},e.set=function(t){if(this.setter_){this.isRunningSetter_&&i(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,t)}finally{this.isRunningSetter_=!1}}else i(34,this.name_)},e.trackAndCompute=function(){var t=this.value_,e=this.dependenciesState_===ce.NOT_TRACKING_,n=this.computeValue_(!0);"production"!==o&&Qe()&&$e({observableKind:"computed",debugObjectName:this.name_,object:this.scope_,type:"update",oldValue:this.value_,newValue:n});var r=e||fe(t)||fe(n)||!this.equals_(t,n);return r&&(this.value_=n),r},e.computeValue_=function(t){this.isComputing_=!0;var e,n=ne(!1);if(t)e=ve(this,this.derivation,this.scope_);else if(!0===Ee.disableErrorBoundaries)e=this.derivation.call(this.scope_);else try{e=this.derivation.call(this.scope_)}catch(o){e=new he(o)}return oe(n),this.isComputing_=!1,e},e.suspend_=function(){this.keepAlive_||(be(this),this.value_=void 0)},e.observe_=function(t,e){var n=this,o=!0,r=void 0;return yn(function(){var i=n.get();if(!o||e){var a=Te();t({observableKind:"computed",debugObjectName:n.name_,type:po,object:n,newValue:i,oldValue:r}),Se(a)}o=!1,r=i})},e.warnAboutUntrackedRead_=function(){"production"!==o&&(!0===this.requiresReaction_&&i("[mobx] Computed value "+this.name_+" is read outside a reactive context"),this.isTracing_!==ue.NONE&&console.log("[mobx.trace] '"+this.name_+"' is being read outside a reactive context. Doing a full recompute"),Ee.computedRequiresReaction&&console.warn("[mobx] Computed value "+this.name_+" is being read outside a reactive context. Doing a full recompute"))},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return F(this.get())},e[ie]=function(){return this.valueOf()},t}(),pe=I("ComputedValue",le);(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(ce||(ce={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(ue||(ue={}));var he=function(t){this.cause=void 0,this.cause=t};function fe(t){return t instanceof he}function de(t){switch(t.dependenciesState_){case ce.UP_TO_DATE_:return!1;case ce.NOT_TRACKING_:case ce.STALE_:return!0;case ce.POSSIBLY_STALE_:for(var e=Oe(!0),n=Te(),o=t.observing_,r=o.length,i=0;i<r;i++){var a=o[i];if(pe(a)){if(Ee.disableErrorBoundaries)a.get();else try{a.get()}catch(s){return Se(n),Ce(e),!0}if(t.dependenciesState_===ce.STALE_)return Se(n),Ce(e),!0}}return Pe(t),Se(n),Ce(e),!1}}function _e(t){if("production"!==o){var e=t.observers_.size>0;Ee.allowStateChanges||!e&&"always"!==Ee.enforceActions||console.warn("[MobX] "+(Ee.enforceActions?"Since strict-mode is enabled, changing (observed) observable values without using an action is not allowed. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, a computed value or the render function of a React component? You can wrap side effects in 'runInAction' (or decorate functions with 'action') if needed. Tried to modify: ")+t.name_)}}function ye(t){"production"!==o&&!Ee.allowStateReads&&Ee.observableRequiresReaction&&console.warn("[mobx] Observable "+t.name_+" being read outside a reactive context")}function ve(t,e,n){var o=Oe(!0);Pe(t),t.newObserving_=new Array(t.observing_.length+100),t.unboundDepsCount_=0,t.runId_=++Ee.runId;var r,i=Ee.trackingDerivation;if(Ee.trackingDerivation=t,Ee.inBatch++,!0===Ee.disableErrorBoundaries)r=e.call(n);else try{r=e.call(n)}catch(a){r=new he(a)}return Ee.inBatch--,Ee.trackingDerivation=i,me(t),ge(t),Ce(o),r}function ge(t){"production"!==o&&0===t.observing_.length&&(Ee.reactionRequiresObservable||t.requiresObservable_)&&console.warn("[mobx] Derivation "+t.name_+" is created/updated without reading any observable value")}function me(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,o=ce.UP_TO_DATE_,r=0,i=t.unboundDepsCount_,a=0;a<i;a++){var s=n[a];0===s.diffValue_&&(s.diffValue_=1,r!==a&&(n[r]=s),r++),s.dependenciesState_>o&&(o=s.dependenciesState_)}for(n.length=r,t.newObserving_=null,i=e.length;i--;){var c=e[i];0===c.diffValue_&&Ne(c,t),c.diffValue_=0}for(;r--;){var u=n[r];1===u.diffValue_&&(u.diffValue_=0,Fe(u,t))}o!==ce.UP_TO_DATE_&&(t.dependenciesState_=o,t.onBecomeStale_())}function be(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)Ne(e[n],t);t.dependenciesState_=ce.NOT_TRACKING_}function we(t){var e=Te();try{return t()}finally{Se(e)}}function Te(){var t=Ee.trackingDerivation;return Ee.trackingDerivation=null,t}function Se(t){Ee.trackingDerivation=t}function Oe(t){var e=Ee.allowStateReads;return Ee.allowStateReads=t,e}function Ce(t){Ee.allowStateReads=t}function Pe(t){if(t.dependenciesState_!==ce.UP_TO_DATE_){t.dependenciesState_=ce.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=ce.UP_TO_DATE_}}var xe=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],Ie=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Re=!0,Me=!1,Ee=function(){var t=s();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Re=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new Ie).version&&(Re=!1),Re?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Ie):(setTimeout(function(){Me||i(35)},1),new Ie)}();function De(){if((Ee.pendingReactions.length||Ee.inBatch||Ee.isRunningReactions)&&i(36),Me=!0,Re){var t=s();0==--t.__mobxInstanceCount&&(t.__mobxGlobals=void 0),Ee=new Ie}}function Ae(t){return t.observers_&&t.observers_.size>0}function ke(t){return t.observers_}function Fe(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function Ne(t,e){t.observers_.delete(e),0===t.observers_.size&&Ue(t)}function Ue(t){!1===t.isPendingUnobservation_&&(t.isPendingUnobservation_=!0,Ee.pendingUnobservations.push(t))}function Le(){Ee.inBatch++}function je(){if(0==--Ee.inBatch){Xe();for(var t=Ee.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof le&&n.suspend_())}Ee.pendingUnobservations=[]}}function Be(t){ye(t);var e=Ee.trackingDerivation;return null!==e?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved_&&Ee.trackingContext&&(t.isBeingObserved_=!0,t.onBO())),!0):(0===t.observers_.size&&Ee.inBatch>0&&Ue(t),!1)}function Ge(t){t.lowestObserverState_!==ce.STALE_&&(t.lowestObserverState_=ce.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===ce.UP_TO_DATE_&&("production"!==o&&e.isTracing_!==ue.NONE&&ze(e,t),e.onBecomeStale_()),e.dependenciesState_=ce.STALE_}))}function Ve(t){t.lowestObserverState_!==ce.STALE_&&(t.lowestObserverState_=ce.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===ce.POSSIBLY_STALE_?(e.dependenciesState_=ce.STALE_,"production"!==o&&e.isTracing_!==ue.NONE&&ze(e,t)):e.dependenciesState_===ce.UP_TO_DATE_&&(t.lowestObserverState_=ce.UP_TO_DATE_)}))}function He(t){t.lowestObserverState_===ce.UP_TO_DATE_&&(t.lowestObserverState_=ce.POSSIBLY_STALE_,t.observers_.forEach(function(t){t.dependenciesState_===ce.UP_TO_DATE_&&(t.dependenciesState_=ce.POSSIBLY_STALE_,t.onBecomeStale_())}))}function ze(t,e){if(console.log("[mobx.trace] '"+t.name_+"' is invalidated due to a change in: '"+e.name_+"'"),t.isTracing_===ue.BREAK){var n=[];We(In(t),n,1),new Function("debugger;\n/*\nTracing '"+t.name_+"'\n\nYou are entering this break point because derivation '"+t.name_+"' is being traced and '"+e.name_+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof le?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function We(t,e,n){e.length>=1e3?e.push("(and many more)"):(e.push(""+new Array(n).join("\t")+t.name),t.dependencies&&t.dependencies.forEach(function(t){return We(t,e,n+1)}))}var qe=function(){function t(t,e,n,r){void 0===t&&(t="production"!==o?"Reaction@"+g():"Reaction"),void 0===r&&(r=!1),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=ce.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=ue.NONE,this.name_=t,this.onInvalidate_=e,this.errorHandler_=n,this.requiresObservable_=r}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,Ee.pendingReactions.push(this),Xe())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){Le(),this.isScheduled_=!1;var t=Ee.trackingContext;if(Ee.trackingContext=this,de(this)){this.isTrackPending_=!0;try{this.onInvalidate_(),"production"!==o&&this.isTrackPending_&&Qe()&&$e({name:this.name_,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation_(e)}}Ee.trackingContext=t,je()}},e.track=function(t){if(!this.isDisposed_){Le();var e,n=Qe();"production"!==o&&n&&(e=Date.now(),tn({name:this.name_,type:"reaction"})),this.isRunning_=!0;var r=Ee.trackingContext;Ee.trackingContext=this;var i=ve(this,t,void 0);Ee.trackingContext=r,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&be(this),fe(i)&&this.reportExceptionInDerivation_(i.cause),"production"!==o&&n&&nn({time:Date.now()-e}),je()}},e.reportExceptionInDerivation_=function(t){var e=this;if(this.errorHandler_)this.errorHandler_(t,this);else{if(Ee.disableErrorBoundaries)throw t;var n="production"!==o?"[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'":"[mobx] uncaught error in '"+this+"'";Ee.suppressReactionErrors?"production"!==o&&console.warn("[mobx] (error in reaction '"+this.name_+"' suppressed, fix error of causing action below)"):console.error(n,t),"production"!==o&&Qe()&&$e({type:"error",name:this.name_,message:n,error:""+t}),Ee.globalReactionErrorHandlers.forEach(function(n){return n(t,e)})}},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Le(),be(this),je()))},e.getDisposer_=function(){var t=this.dispose.bind(this);return t[Z]=this,t},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(t){void 0===t&&(t=!1),Jn(this,t)},t}();n.Reaction=qe;var Ye=100,Ke=function(t){return t()};function Xe(){Ee.inBatch>0||Ee.isRunningReactions||Ke(Je)}function Je(){Ee.isRunningReactions=!0;for(var t=Ee.pendingReactions,e=0;t.length>0;){++e===Ye&&(console.error("production"!==o?"Reaction doesn't converge to a stable state after "+Ye+" iterations. Probably there is a cycle in the reactive function: "+t[0]:"[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}Ee.isRunningReactions=!1}var Ze=I("Reaction",qe);function Qe(){return"production"!==o&&!!Ee.spyListeners.length}function $e(t){if("production"!==o&&Ee.spyListeners.length)for(var e=Ee.spyListeners,n=0,r=e.length;n<r;n++)e[n](t)}function tn(t){"production"!==o&&$e(B({},t,{spyReportStart:!0}))}var en={type:"report-end",spyReportEnd:!0};function nn(t){"production"!==o&&$e(t?B({},t,{type:"report-end",spyReportEnd:!0}):en)}function on(t){return"production"===o?(console.warn("[mobx.spy] Is a no-op in production builds"),function(){}):(Ee.spyListeners.push(t),m(function(){Ee.spyListeners=Ee.spyListeners.filter(function(e){return e!==t})}))}var rn="action",an="autoAction",sn="<unnamed action>",cn=st(rn),un=st("action.bound",{bound:!0}),ln=st(an,{autoAction:!0}),pn=st("autoAction.bound",{autoAction:!0,bound:!0});function hn(t){return function(e,n){return w(e)?Zt(e.name||sn,e,t):w(n)?Zt(e,n,t):T(n)?K(e,n,t?ln:cn):T(e)?Y(st(t?an:rn,{name:e,autoAction:t})):void("production"!==o&&i("Invalid arguments for `action`"))}}var fn=hn(!1);n.action=fn,Object.assign(fn,cn);var dn=hn(!0);function _n(t){return w(t)&&!0===t.isMobxAction}function yn(t,e){var n,r;void 0===e&&(e=f),"production"!==o&&(w(t)||i("Autorun expects a function as first argument"),_n(t)&&i("Autorun does not accept actions since actions are untrackable"));var a,s=null!=(n=null==(r=e)?void 0:r.name)?n:"production"!==o?t.name||"Autorun@"+g():"Autorun";if(e.scheduler||e.delay){var c=gn(e),u=!1;a=new qe(s,function(){u||(u=!0,c(function(){u=!1,a.isDisposed_||a.track(l)}))},e.onError,e.requiresObservable)}else a=new qe(s,function(){this.track(l)},e.onError,e.requiresObservable);function l(){t(a)}return a.schedule_(),a.getDisposer_()}n._autoAction=dn,Object.assign(dn,ln),fn.bound=Y(un),dn.bound=Y(pn);var vn=function(t){return t()};function gn(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:vn}var mn="onBO",bn="onBUO";function wn(t,e,n){return Sn(mn,t,e,n)}function Tn(t,e,n){return Sn(bn,t,e,n)}function Sn(t,e,n,o){var r="function"==typeof o?Qo(e,n):Qo(e),i=w(o)?o:n,a=t+"L";return r[a]?r[a].add(i):r[a]=new Set([i]),function(){var t=r[a];t&&(t.delete(i),0===t.size&&delete r[a])}}var On="never",Cn="always",Pn="observed";function xn(t,e,n,r){"production"!==o&&(arguments.length>4&&i("'extendObservable' expected 2-4 arguments"),"object"!=typeof t&&i("'extendObservable' expects an object as first argument"),Mo(t)&&i("'extendObservable' should not be used on maps, use map.merge instead"),O(e)||i("'extendObservabe' only accepts plain objects as second argument"),(Vn(e)||Vn(n))&&i("Extending an object with another observable (object) is not supported"));var a=U(e),s=Uo(t,r)[Z];Le();try{A(a).forEach(function(t){s.extend_(t,a[t],!n||!(t in n)||n[t])})}finally{je()}return t}function In(t,e){return Rn(Qo(t,e))}function Rn(t){var e,n={name:t.name_};return t.observing_&&t.observing_.length>0&&(n.dependencies=(e=t.observing_,Array.from(new Set(e))).map(Rn)),n}function Mn(t){var e={name:t.name_};return Ae(t)&&(e.observers=Array.from(ke(t)).map(Mn)),e}var En=0;function Dn(){this.message="FLOW_CANCELLED"}Dn.prototype=Object.create(Error.prototype);var An=ht("flow"),kn=ht("flow.bound",{bound:!0}),Fn=Object.assign(function(t,e){if(T(e))return K(t,e,An);"production"!==o&&1!==arguments.length&&i("Flow expects single argument with generator function");var n=t,r=n.name||"<unnamed flow>",a=function(){var t,e=this,o=arguments,i=++En,a=fn(r+" - runid: "+i+" - init",n).apply(e,o),s=void 0,c=new Promise(function(e,n){var o=0;function c(t){var e;s=void 0;try{e=fn(r+" - runid: "+i+" - yield "+o++,a.next).call(a,t)}catch(c){return n(c)}l(e)}function u(t){var e;s=void 0;try{e=fn(r+" - runid: "+i+" - yield "+o++,a.throw).call(a,t)}catch(c){return n(c)}l(e)}function l(t){if(!w(null==t?void 0:t.then))return t.done?e(t.value):(s=Promise.resolve(t.value)).then(c,u);t.then(l,n)}t=n,c(void 0)});return c.cancel=fn(r+" - runid: "+i+" - cancel",function(){try{s&&Nn(s);var e=a.return(void 0),n=Promise.resolve(e.value);n.then(b,b),Nn(n),t(new Dn)}catch(o){t(o)}}),c};return a.isMobXFlow=!0,a},An);function Nn(t){w(t.cancel)&&t.cancel()}function Un(t){return!0===(null==t?void 0:t.isMobXFlow)}function Ln(t,e){return $o(t).intercept_(e)}function jn(t,e,n){return $o(t,e).intercept_(n)}function Bn(t,e){if(void 0!==e){if(!1===Bo(t))return!1;if(!t[Z].values_.has(e))return!1;var n=Qo(t,e);return pe(n)}return pe(t)}function Gn(t,e){return!!t&&(void 0!==e?"production"!==o&&(Mo(t)||Oo(t))?i("isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead."):!!Bo(t)&&t[Z].values_.has(e):Bo(t)||!!t[Z]||$(t)||Ze(t)||pe(t))}function Vn(t){return"production"!==o&&1!==arguments.length&&i("isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),Gn(t)}function Hn(t){return Bo(t)?t[Z].keys_():Mo(t)||ko(t)?Array.from(t.keys()):Oo(t)?t.map(function(t,e){return e}):void i(5)}function zn(t,e){return Bo(t)?t[Z].has_(e):Mo(t)?t.has(e):ko(t)?t.has(e):Oo(t)?e>=0&&e<t.length:void i(10)}function Wn(t){if(Bo(t))return t[Z].ownKeys_();i(38)}function qn(t,e,n){return $o(t).observe_(e,n)}function Yn(t,e,n,o){return $o(t,e).observe_(n,o)}function Kn(t,e,n){return t.set(e,n),n}function Xn(t,e){if(null==t||"object"!=typeof t||t instanceof Date||!Vn(t))return t;if(se(t)||pe(t))return Xn(t.get(),e);if(e.has(t))return e.get(t);if(Oo(t)){var n=Kn(e,t,new Array(t.length));return t.forEach(function(t,o){n[o]=Xn(t,e)}),n}if(ko(t)){var o=Kn(e,t,new Set);return t.forEach(function(t){o.add(Xn(t,e))}),o}if(Mo(t)){var r=Kn(e,t,new Map);return t.forEach(function(t,n){r.set(n,Xn(t,e))}),r}var i=Kn(e,t,{});return Wn(t).forEach(function(n){p.propertyIsEnumerable.call(t,n)&&(i[n]=Xn(t[n],e))}),i}function Jn(){"production"===o&&i("trace() is not available in production builds");for(var t=!1,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];"boolean"==typeof n[n.length-1]&&(t=n.pop());var a=Zn(n);if(!a)return i("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");a.isTracing_===ue.NONE&&console.log("[mobx.trace] '"+a.name_+"' tracing enabled"),a.isTracing_=t?ue.BREAK:ue.LOG}function Zn(t){switch(t.length){case 0:return Ee.trackingDerivation;case 1:return Qo(t[0]);case 2:return Qo(t[0],t[1])}}function Qn(t,e){void 0===e&&(e=void 0),Le();try{return t.apply(e)}finally{je()}}function $n(t,e,n){var r;"number"==typeof n.timeout&&(r=setTimeout(function(){if(!a[Z].isDisposed_){a();var t=new Error("WHEN_TIMEOUT");if(!n.onError)throw t;n.onError(t)}},n.timeout)),n.name="production"!==o?n.name||"When@"+g():"When";var i=Zt("production"!==o?n.name+"-effect":"When-effect",e),a=yn(function(e){ee(!1,t)&&(e.dispose(),r&&clearTimeout(r),i())},n);return a}function to(t,e){if("production"!==o&&e&&e.onError)return i("the options 'onError' and 'promise' cannot be combined");var n,r=new Promise(function(o,r){var i=$n(t,o,B({},e,{onError:r}));n=function(){i(),r("WHEN_CANCELLED")}});return r.cancel=n,r}function eo(t){return t[Z]}n.flow=Fn,Fn.bound=Y(kn);var no={has:function(t,e){return"production"!==o&&Ee.trackingDerivation&&v("detect new properties using the 'in' operator. Use 'has' from 'mobx' instead."),eo(t).has_(e)},get:function(t,e){return eo(t).get_(e)},set:function(t,e,n){var r;return!!T(e)&&("production"===o||eo(t).values_.has(e)||v("add a new observable property through direct assignment. Use 'set' from 'mobx' instead."),null==(r=eo(t).set_(e,n,!0))||r)},deleteProperty:function(t,e){var n;return"production"!==o&&v("delete properties from an observable object. Use 'remove' from 'mobx' instead."),!!T(e)&&(null==(n=eo(t).delete_(e,!0))||n)},defineProperty:function(t,e,n){var r;return"production"!==o&&v("define property on an observable object. Use 'defineProperty' from 'mobx' instead."),null==(r=eo(t).defineProperty_(e,n))||r},ownKeys:function(t){return"production"!==o&&Ee.trackingDerivation&&v("iterate keys to detect added / removed properties. Use 'keys' from 'mobx' instead."),eo(t).ownKeys_()},preventExtensions:function(){i(13)}};function oo(t,e){var n,o;return y(),null!=(o=(n=(t=Uo(t,e))[Z]).proxy_)?o:n.proxy_=new Proxy(t,no)}function ro(t){return void 0!==t.interceptors_&&t.interceptors_.length>0}function io(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),m(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function ao(t,e){var n=Te();try{for(var o=[].concat(t.interceptors_||[]),r=0,a=o.length;r<a&&((e=o[r](e))&&!e.type&&i(14),e);r++);return e}finally{Se(n)}}function so(t){return void 0!==t.changeListeners_&&t.changeListeners_.length>0}function co(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),m(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function uo(t,e){var n=Te(),o=t.changeListeners_;if(o){for(var r=0,i=(o=o.slice()).length;r<i;r++)o[r](e);Se(n)}}var lo=Symbol("mobx-keys"),po="update",ho={get:function(t,e){var n=t[Z];return e===Z?n:"length"===e?n.getArrayLength_():"string"!=typeof e||isNaN(e)?N(yo,e)?yo[e]:t[e]:n.get_(parseInt(e))},set:function(t,e,n){var o=t[Z];return"length"===e&&o.setArrayLength_(n),"symbol"==typeof e||isNaN(e)?t[e]=n:o.set_(parseInt(e),n),!0},preventExtensions:function(){i(15)}},fo=function(){function t(t,e,n,r){void 0===t&&(t="production"!==o?"ObservableArray@"+g():"ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new Q(t),this.enhancer_=function(n,r){return e(n,r,"production"!==o?t+"[..]":"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.dehanceValues_=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},e.intercept_=function(t){return io(this,t)},e.observe_=function(t,e){return void 0===e&&(e=!1),e&&t({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),co(this,t)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(t){("number"!=typeof t||t<0)&&i("Out of range: "+t);var e=this.values_.length;if(t!==e)if(t>e){for(var n=new Array(t-e),o=0;o<t-e;o++)n[o]=void 0;this.spliceWithArray_(e,0,n)}else this.spliceWithArray_(t,e-t)},e.updateArrayLength_=function(t,e){t!==this.lastKnownLength_&&i(16),this.lastKnownLength_+=e,this.legacyMode_&&e>0&&Jo(t+e+1)},e.spliceWithArray_=function(t,e,n){var r=this;_e(this.atom_);var i=this.values_.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:null==e?0:Math.max(0,Math.min(e,i-t)),void 0===n&&(n=h),ro(this)){var a=ao(this,{object:this.proxy_,type:"splice",index:t,removedCount:e,added:n});if(!a)return h;e=a.removedCount,n=a.added}if(n=0===n.length?n:n.map(function(t){return r.enhancer_(t,void 0)}),this.legacyMode_||"production"!==o){var s=n.length-e;this.updateArrayLength_(i,s)}var c=this.spliceItemsIntoValues_(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice_(t,n,c),this.dehanceValues_(c)},e.spliceItemsIntoValues_=function(t,e,n){var o;if(n.length<1e4)return(o=this.values_).splice.apply(o,[t,e].concat(n));var r=this.values_.slice(t,t+e),i=this.values_.slice(t+e);this.values_.length=t+n.length-e;for(var a=0;a<n.length;a++)this.values_[t+a]=n[a];for(var s=0;s<i.length;s++)this.values_[t+n.length+s]=i[s];return r},e.notifyArrayChildUpdate_=function(t,e,n){var r=!this.owned_&&Qe(),i=so(this),a=i||r?{observableKind:"array",object:this.proxy_,type:po,debugObjectName:this.atom_.name_,index:t,newValue:e,oldValue:n}:null;"production"!==o&&r&&tn(a),this.atom_.reportChanged(),i&&uo(this,a),"production"!==o&&r&&nn()},e.notifyArraySplice_=function(t,e,n){var r=!this.owned_&&Qe(),i=so(this),a=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;"production"!==o&&r&&tn(a),this.atom_.reportChanged(),i&&uo(this,a),"production"!==o&&r&&nn()},e.get_=function(t){if(t<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[t]);console.warn("production"!==o?"[mobx] Out of bounds read: "+t:"[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},e.set_=function(t,e){var n=this.values_;if(t<n.length){_e(this.atom_);var o=n[t];if(ro(this)){var r=ao(this,{type:po,object:this.proxy_,index:t,newValue:e});if(!r)return;e=r.newValue}(e=this.enhancer_(e,o))!==o&&(n[t]=e,this.notifyArrayChildUpdate_(t,e,o))}else t===n.length?this.spliceWithArray_(t,0,[e]):i(17,t,n.length)},t}();function _o(t,e,n,r){void 0===n&&(n="production"!==o?"ObservableArray@"+g():"ObservableArray"),void 0===r&&(r=!1),y();var i=new fo(n,e,r,!1);x(i.values_,Z,i);var a=new Proxy(i.values_,ho);if(i.proxy_=a,t&&t.length){var s=ne(!0);i.spliceWithArray_(0,0,t),oe(s)}return a}var yo={clear:function(){return this.splice(0)},replace:function(t){var e=this[Z];return e.spliceWithArray_(0,e.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,e){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];var i=this[Z];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray_(t);case 2:return i.spliceWithArray_(t,e)}return i.spliceWithArray_(t,e,o)},spliceWithArray:function(t,e,n){return this[Z].spliceWithArray_(t,e,n)},push:function(){for(var t=this[Z],e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,n),t.values_.length},pop:function(){return this.splice(Math.max(this[Z].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[Z],e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.spliceWithArray_(0,0,n),t.values_.length},reverse:function(){return Ee.trackingDerivation&&i(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Ee.trackingDerivation&&i(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var e=this[Z],n=e.dehanceValues_(e.values_).indexOf(t);return n>-1&&(this.splice(n,1),!0)}};function vo(t,e){"function"==typeof Array.prototype[t]&&(yo[t]=e(t))}function go(t){return function(){var e=this[Z];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function mo(t){return function(e,n){var o=this,r=this[Z];return r.atom_.reportObserved(),r.dehanceValues_(r.values_)[t](function(t,r){return e.call(n,t,r,o)})}}function bo(t){return function(){var e=this,n=this[Z];n.atom_.reportObserved();var o=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(t,n,o){return r(t,n,o,e)},o[t].apply(o,arguments)}}vo("concat",go),vo("flat",go),vo("includes",go),vo("indexOf",go),vo("join",go),vo("lastIndexOf",go),vo("slice",go),vo("toString",go),vo("toLocaleString",go),vo("every",mo),vo("filter",mo),vo("find",mo),vo("findIndex",mo),vo("flatMap",mo),vo("forEach",mo),vo("map",mo),vo("some",mo),vo("reduce",bo),vo("reduceRight",bo);var wo,To,So=I("ObservableArrayAdministration",fo);function Oo(t){return S(t)&&So(t[Z])}var Co={},Po="add";wo=Symbol.iterator,To=Symbol.toStringTag;var xo=function(){function t(t,e,n){void 0===e&&(e=nt),void 0===n&&(n="production"!==o?"ObservableMap@"+g():"ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Z]=Co,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=e,this.name_=n,w(Map)||i(18),this.keysAtom_=tt("production"!==o?this.name_+".keys()":"ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,this.merge(t)}var e=t.prototype;return e.has_=function(t){return this.data_.has(t)},e.has=function(t){var e=this;if(!Ee.trackingDerivation)return this.has_(t);var n=this.hasMap_.get(t);if(!n){var r=n=new ae(this.has_(t),ot,"production"!==o?this.name_+"."+k(t)+"?":"ObservableMap.key?",!1);this.hasMap_.set(t,r),Tn(r,function(){return e.hasMap_.delete(t)})}return n.get()},e.set=function(t,e){var n=this.has_(t);if(ro(this)){var o=ao(this,{type:n?po:Po,object:this,newValue:e,name:t});if(!o)return this;e=o.newValue}return n?this.updateValue_(t,e):this.addValue_(t,e),this},e.delete=function(t){var e=this;if(_e(this.keysAtom_),ro(this)&&!ao(this,{type:"delete",object:this,name:t}))return!1;if(this.has_(t)){var n=Qe(),r=so(this),i=r||n?{observableKind:"map",debugObjectName:this.name_,type:"delete",object:this,oldValue:this.data_.get(t).value_,name:t}:null;return"production"!==o&&n&&tn(i),Qn(function(){e.keysAtom_.reportChanged(),e.updateHasMapEntry_(t,!1),e.data_.get(t).setNewValue_(void 0),e.data_.delete(t)}),r&&uo(this,i),"production"!==o&&n&&nn(),!0}return!1},e.updateHasMapEntry_=function(t,e){var n=this.hasMap_.get(t);n&&n.setNewValue_(e)},e.updateValue_=function(t,e){var n=this.data_.get(t);if((e=n.prepareNewValue_(e))!==Ee.UNCHANGED){var r=Qe(),i=so(this),a=i||r?{observableKind:"map",debugObjectName:this.name_,type:po,object:this,oldValue:n.value_,name:t,newValue:e}:null;"production"!==o&&r&&tn(a),n.setNewValue_(e),i&&uo(this,a),"production"!==o&&r&&nn()}},e.addValue_=function(t,e){var n=this;_e(this.keysAtom_),Qn(function(){var r=new ae(e,n.enhancer_,"production"!==o?n.name_+"."+k(t):"ObservableMap.key",!1);n.data_.set(t,r),e=r.value_,n.updateHasMapEntry_(t,!0),n.keysAtom_.reportChanged()});var r=Qe(),i=so(this),a=i||r?{observableKind:"map",debugObjectName:this.name_,type:Po,object:this,name:t,newValue:e}:null;"production"!==o&&r&&tn(a),i&&uo(this,a),"production"!==o&&r&&nn()},e.get=function(t){return this.has(t)?this.dehanceValue_(this.data_.get(t).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var t=this,e=this.keys();return ir({next:function(){var n=e.next(),o=n.done,r=n.value;return{done:o,value:o?void 0:t.get(r)}}})},e.entries=function(){var t=this,e=this.keys();return ir({next:function(){var n=e.next(),o=n.done,r=n.value;return{done:o,value:o?void 0:[r,t.get(r)]}}})},e[wo]=function(){return this.entries()},e.forEach=function(t,e){for(var n,o=W(this);!(n=o()).done;){var r=n.value,i=r[0],a=r[1];t.call(e,a,i,this)}},e.merge=function(t){var e=this;return Mo(t)&&(t=new Map(t)),Qn(function(){O(t)?D(t).forEach(function(n){return e.set(n,t[n])}):Array.isArray(t)?t.forEach(function(t){var n=t[0],o=t[1];return e.set(n,o)}):R(t)?(t.constructor!==Map&&i(19,t),t.forEach(function(t,n){return e.set(n,t)})):null!=t&&i(20,t)}),this},e.clear=function(){var t=this;Qn(function(){we(function(){for(var e,n=W(t.keys());!(e=n()).done;){var o=e.value;t.delete(o)}})})},e.replace=function(t){var e=this;return Qn(function(){for(var n,o=Eo(t),r=new Map,i=!1,a=W(e.data_.keys());!(n=a()).done;){var s=n.value;if(!o.has(s))if(e.delete(s))i=!0;else{var c=e.data_.get(s);r.set(s,c)}}for(var u,l=W(o.entries());!(u=l()).done;){var p=u.value,h=p[0],f=p[1],d=e.data_.has(h);if(e.set(h,f),e.data_.has(h)){var _=e.data_.get(h);r.set(h,_),d||(i=!0)}}if(!i)if(e.data_.size!==r.size)e.keysAtom_.reportChanged();else for(var y=e.data_.keys(),v=r.keys(),g=y.next(),m=v.next();!g.done;){if(g.value!==m.value){e.keysAtom_.reportChanged();break}g=y.next(),m=v.next()}e.data_=r}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(t,e){return"production"!==o&&!0===e&&i("`observe` doesn't support fireImmediately=true in combination with maps."),co(this,t)},e.intercept_=function(t){return io(this,t)},j(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:To,get:function(){return"Map"}}]),t}();n.ObservableMap=xo;var Io,Ro,Mo=I("ObservableMap",xo);function Eo(t){if(R(t)||Mo(t))return t;if(Array.isArray(t))return new Map(t);if(O(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}return i(21,t)}n.isObservableMap=Mo;var Do={};Io=Symbol.iterator,Ro=Symbol.toStringTag;var Ao=function(){function t(t,e,n){void 0===e&&(e=nt),void 0===n&&(n="production"!==o?"ObservableSet@"+g():"ObservableSet"),this.name_=void 0,this[Z]=Do,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,w(Set)||i(22),this.atom_=tt(this.name_),this.enhancer_=function(t,o){return e(t,o,n)},t&&this.replace(t)}var e=t.prototype;return e.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.clear=function(){var t=this;Qn(function(){we(function(){for(var e,n=W(t.data_.values());!(e=n()).done;){var o=e.value;t.delete(o)}})})},e.forEach=function(t,e){for(var n,o=W(this);!(n=o()).done;){var r=n.value;t.call(e,r,r,this)}},e.add=function(t){var e=this;if(_e(this.atom_),ro(this)&&!ao(this,{type:Po,object:this,newValue:t}))return this;if(!this.has(t)){Qn(function(){e.data_.add(e.enhancer_(t,void 0)),e.atom_.reportChanged()});var n="production"!==o&&Qe(),r=so(this),i=r||n?{observableKind:"set",debugObjectName:this.name_,type:Po,object:this,newValue:t}:null;n&&"production"!==o&&tn(i),r&&uo(this,i),n&&"production"!==o&&nn()}return this},e.delete=function(t){var e=this;if(ro(this)&&!ao(this,{type:"delete",object:this,oldValue:t}))return!1;if(this.has(t)){var n="production"!==o&&Qe(),r=so(this),i=r||n?{observableKind:"set",debugObjectName:this.name_,type:"delete",object:this,oldValue:t}:null;return n&&"production"!==o&&tn(i),Qn(function(){e.atom_.reportChanged(),e.data_.delete(t)}),r&&uo(this,i),n&&"production"!==o&&nn(),!0}return!1},e.has=function(t){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(t))},e.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return ir({next:function(){var o=t;return t+=1,o<n.length?{value:[e[o],n[o]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var t=this,e=0,n=Array.from(this.data_.values());return ir({next:function(){return e<n.length?{value:t.dehanceValue_(n[e++]),done:!1}:{done:!0}}})},e.replace=function(t){var e=this;return ko(t)&&(t=new Set(t)),Qn(function(){Array.isArray(t)?(e.clear(),t.forEach(function(t){return e.add(t)})):M(t)?(e.clear(),t.forEach(function(t){return e.add(t)})):null!=t&&i("Cannot initialize set from "+t)}),this},e.observe_=function(t,e){return"production"!==o&&!0===e&&i("`observe` doesn't support fireImmediately=true in combination with sets."),co(this,t)},e.intercept_=function(t){return io(this,t)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Io]=function(){return this.values()},j(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Ro,get:function(){return"Set"}}]),t}();n.ObservableSet=Ao;var ko=I("ObservableSet",Ao);n.isObservableSet=ko;var Fo=Object.create(null),No=function(){function t(t,e,n,r){void 0===e&&(e=new Map),void 0===r&&(r=Pt),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=e,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new Q("production"!==o?this.name_+".keys":"ObservableObject.keys"),this.isPlainObject_=O(this.target_),"production"===o||sr(this.defaultAnnotation_)||i("defaultAnnotation must be valid annotation"),"production"!==o&&(this.appliedAnnotations_={})}var e=t.prototype;return e.getObservablePropValue_=function(t){return this.values_.get(t).get()},e.setObservablePropValue_=function(t,e){var n=this.values_.get(t);if(n instanceof le)return n.set(e),!0;if(ro(this)){var r=ao(this,{type:po,object:this.proxy_||this.target_,name:t,newValue:e});if(!r)return null;e=r.newValue}if((e=n.prepareNewValue_(e))!==Ee.UNCHANGED){var i=so(this),a="production"!==o&&Qe(),s=i||a?{type:po,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:t,newValue:e}:null;"production"!==o&&a&&tn(s),n.setNewValue_(e),i&&uo(this,s),"production"!==o&&a&&nn()}return!0},e.get_=function(t){return Ee.trackingDerivation&&!N(this.target_,t)&&this.has_(t),this.target_[t]},e.set_=function(t,e,n){return void 0===n&&(n=!1),N(this.target_,t)?this.values_.has(t)?this.setObservablePropValue_(t,e):n?Reflect.set(this.target_,t,e):(this.target_[t]=e,!0):this.extend_(t,{value:e,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},e.has_=function(t){if(!Ee.trackingDerivation)return t in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var e=this.pendingKeys_.get(t);return e||(e=new ae(t in this.target_,ot,"production"!==o?this.name_+"."+k(t)+"?":"ObservableObject.key?",!1),this.pendingKeys_.set(t,e)),e.get()},e.make_=function(t,e){if(!0===e&&(e=this.defaultAnnotation_),!1!==e){if(Vo(this,e,t),!(t in this.target_)){var n;if(null==(n=this.target_[q])?void 0:n[t])return;i(1,e.annotationType_,this.name_+"."+t.toString())}for(var o=this.target_;o&&o!==p;){var r=u(o,t);if(r){var a=e.make_(this,t,r,o);if(0===a)return;if(1===a)break}o=Object.getPrototypeOf(o)}Go(this,e,t)}},e.extend_=function(t,e,n,o){if(void 0===o&&(o=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(t,e,o);Vo(this,n,t);var r=n.extend_(this,t,e,o);return r&&Go(this,n,t),r},e.defineProperty_=function(t,e,n){void 0===n&&(n=!1);try{Le();var o=this.delete_(t);if(!o)return o;if(ro(this)){var r=ao(this,{object:this.proxy_||this.target_,name:t,type:Po,newValue:e.value});if(!r)return null;var i=r.newValue;e.value!==i&&(e=B({},e,{value:i}))}if(n){if(!Reflect.defineProperty(this.target_,t,e))return!1}else l(this.target_,t,e);this.notifyPropertyAddition_(t,e.value)}finally{je()}return!0},e.defineObservableProperty_=function(t,e,n,r){void 0===r&&(r=!1);try{Le();var i=this.delete_(t);if(!i)return i;if(ro(this)){var a=ao(this,{object:this.proxy_||this.target_,name:t,type:Po,newValue:e});if(!a)return null;e=a.newValue}var s=jo(t),c={configurable:!Ee.safeDescriptors||this.isPlainObject_,enumerable:!0,get:s.get,set:s.set};if(r){if(!Reflect.defineProperty(this.target_,t,c))return!1}else l(this.target_,t,c);var u=new ae(e,n,"production"!==o?this.name_+"."+t.toString():"ObservableObject.key",!1);this.values_.set(t,u),this.notifyPropertyAddition_(t,u.value_)}finally{je()}return!0},e.defineComputedProperty_=function(t,e,n){void 0===n&&(n=!1);try{Le();var r=this.delete_(t);if(!r)return r;if(ro(this)&&!ao(this,{object:this.proxy_||this.target_,name:t,type:Po,newValue:void 0}))return null;e.name||(e.name="production"!==o?this.name_+"."+t.toString():"ObservableObject.key"),e.context=this.proxy_||this.target_;var i=jo(t),a={configurable:!Ee.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,t,a))return!1}else l(this.target_,t,a);this.values_.set(t,new le(e)),this.notifyPropertyAddition_(t,void 0)}finally{je()}return!0},e.delete_=function(t,e){if(void 0===e&&(e=!1),!N(this.target_,t))return!0;if(ro(this)&&!ao(this,{object:this.proxy_||this.target_,name:t,type:"remove"}))return null;try{var n,r;Le();var i,a=so(this),s="production"!==o&&Qe(),c=this.values_.get(t),l=void 0;if(c||!a&&!s||(l=null==(i=u(this.target_,t))?void 0:i.value),e){if(!Reflect.deleteProperty(this.target_,t))return!1}else delete this.target_[t];if("production"!==o&&delete this.appliedAnnotations_[t],c&&(this.values_.delete(t),c instanceof ae&&(l=c.value_),Ge(c)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(t))||r.set(t in this.target_),a||s){var p={type:"remove",observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:l,name:t};"production"!==o&&s&&tn(p),a&&uo(this,p),"production"!==o&&s&&nn()}}finally{je()}return!0},e.observe_=function(t,e){return"production"!==o&&!0===e&&i("`observe` doesn't support the fire immediately property for observable objects."),co(this,t)},e.intercept_=function(t){return io(this,t)},e.notifyPropertyAddition_=function(t,e){var n,r,i=so(this),a="production"!==o&&Qe();if(i||a){var s=i||a?{type:Po,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:t,newValue:e}:null;"production"!==o&&a&&tn(s),i&&uo(this,s),"production"!==o&&a&&nn()}null==(n=this.pendingKeys_)||null==(r=n.get(t))||r.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),A(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function Uo(t,e){var n;if("production"!==o&&e&&Bo(t)&&i("Options can't be provided for already observable objects."),N(t,Z))return"production"===o||$o(t)instanceof No||i("Cannot convert '"+tr(t)+"' into observable object:\nThe target is already observable of different type.\nExtending builtins is not supported."),t;"production"===o||Object.isExtensible(t)||i("Cannot make the designated object observable; it is not extensible");var r=null!=(n=null==e?void 0:e.name)?n:"production"!==o?(O(t)?"ObservableObject":t.constructor.name)+"@"+g():"ObservableObject",a=new No(t,new Map,String(r),Lt(e));return P(t,Z,a),t}var Lo=I("ObservableObjectAdministration",No);function jo(t){return Fo[t]||(Fo[t]={get:function(){return this[Z].getObservablePropValue_(t)},set:function(e){return this[Z].setObservablePropValue_(t,e)}})}function Bo(t){return!!S(t)&&Lo(t[Z])}function Go(t,e,n){var r;"production"!==o&&(t.appliedAnnotations_[n]=e),null==(r=t.target_[q])||delete r[n]}function Vo(t,e,n){if("production"===o||sr(e)||i("Cannot annotate '"+t.name_+"."+n.toString()+"': Invalid annotation."),"production"!==o&&!at(e)&&N(t.appliedAnnotations_,n)){var r=t.name_+"."+n.toString(),a=t.appliedAnnotations_[n].annotationType_;i("Cannot apply '"+e.annotationType_+"' to '"+r+"':\nThe field is already annotated with '"+a+"'.\nRe-annotating fields is not allowed.\nUse 'override' annotation for methods overriden by subclass.")}}var Ho,zo,Wo=0,qo=function(){};Ho=qo,zo=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Ho.prototype,zo):void 0!==Ho.prototype.__proto__?Ho.prototype.__proto__=zo:Ho.prototype=zo;var Yo=function(t){function e(e,n,r,i){var a;void 0===r&&(r="production"!==o?"ObservableArray@"+g():"ObservableArray"),void 0===i&&(i=!1),a=t.call(this)||this;var s=new fo(r,n,i,!0);if(s.proxy_=V(a),x(V(a),Z,s),e&&e.length){var c=ne(!0);a.spliceWithArray(0,0,e),oe(c)}return a}G(e,t);var n=e.prototype;return n.concat=function(){this[Z].atom_.reportObserved();for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),e.map(function(t){return Oo(t)?t.slice():t}))},n[Symbol.iterator]=function(){var t=this,e=0;return ir({next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0,value:void 0}}})},j(e,[{key:"length",get:function(){return this[Z].getArrayLength_()},set:function(t){this[Z].setArrayLength_(t)}},{key:Symbol.toStringTag,get:function(){return"Array"}}]),e}(qo);function Ko(t){return{enumerable:!1,configurable:!0,get:function(){return this[Z].get_(t)},set:function(e){this[Z].set_(t,e)}}}function Xo(t){l(Yo.prototype,""+t,Ko(t))}function Jo(t){if(t>Wo){for(var e=Wo;e<t+100;e++)Xo(e);Wo=t}}function Zo(t,e,n){return new Yo(t,e,n)}function Qo(t,e){if("object"==typeof t&&null!==t){if(Oo(t))return void 0!==e&&i(23),t[Z].atom_;if(ko(t))return t[Z];if(Mo(t)){if(void 0===e)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||i(25,e,tr(t)),n}if(Bo(t)){if(!e)return i(26);var o=t[Z].values_.get(e);return o||i(27,e,tr(t)),o}if($(t)||pe(t)||Ze(t))return t}else if(w(t)&&Ze(t[Z]))return t[Z];i(28)}function $o(t,e){return t||i(29),void 0!==e?$o(Qo(t,e)):$(t)||pe(t)||Ze(t)?t:Mo(t)||ko(t)?t:t[Z]?t[Z]:void i(24,t)}function tr(t,e){var n;if(void 0!==e)n=Qo(t,e);else{if(_n(t))return t.name;n=Bo(t)||Mo(t)||ko(t)?$o(t):Qo(t)}return n.name_}Object.entries(yo).forEach(function(t){var e=t[0],n=t[1];"concat"!==e&&P(Yo.prototype,e,n)}),Jo(1e3);var er=p.toString;function nr(t,e,n){return void 0===n&&(n=-1),or(t,e,n)}function or(t,e,n,o,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;if(!w(i)&&"object"!==i&&"object"!=typeof e)return!1;var a=er.call(t);if(a!==er.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++}t=rr(t),e=rr(e);var s="[object Array]"===a;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var c=t.constructor,u=e.constructor;if(c!==u&&!(w(c)&&c instanceof c&&w(u)&&u instanceof u)&&"constructor"in t&&"constructor"in e)return!1}if(0===n)return!1;n<0&&(n=-1),r=r||[];for(var l=(o=o||[]).length;l--;)if(o[l]===t)return r[l]===e;if(o.push(t),r.push(e),s){if((l=t.length)!==e.length)return!1;for(;l--;)if(!or(t[l],e[l],n-1,o,r))return!1}else{var p,h=Object.keys(t);if(l=h.length,Object.keys(e).length!==l)return!1;for(;l--;)if(!N(e,p=h[l])||!or(t[p],e[p],n-1,o,r))return!1}return o.pop(),r.pop(),!0}function rr(t){return Oo(t)?t.slice():R(t)||Mo(t)?Array.from(t.entries()):M(t)||ko(t)?Array.from(t.entries()):t}function ir(t){return t[Symbol.iterator]=ar,t}function ar(){return this}function sr(t){return t instanceof Object&&"string"==typeof t.annotationType_&&w(t.make_)&&w(t.extend_)}["Symbol","Map","Set","Symbol"].forEach(function(t){void 0===s()[t]&&i("MobX requires global '"+t+"' to be available or polyfilled")}),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:on,extras:{getDebugName:tr},$mobx:Z}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],utils:[function(t,e,n){"use strict";cc._RF.push(e,"1bc9aVAZH1Atrd5s8qUIVLr","utils"),Object.defineProperty(n,"__esModule",{value:!0}),n.timeFormat=n.dateToStr=n.ArrayRemove=n.clearStorage=n.getStorage=n.setStorage=n.loadRemoteImg=n.getPosByDesign=n.getSpriteSiteAuto=n.setSafeArea=n.someTimeOnce=n.getOddsByNum=n.getUrlParams=void 0,n.getUrlParams=function(t){var e={};return(t.split("?")[1]||t).split("&").forEach(function(t){var n=t.split("=");e[n[0]]=n[1]}),e},n.getOddsByNum=function(t){return Math.random()<t},n.someTimeOnce=function(t,e){void 0===e&&(e=1);var n=JSON.parse(cc.sys.localStorage.getItem("onceObj")||"{}"),o=(new Date).getDate();return!(n[t]&&o-n[t]<e||(n[t]=o,cc.sys.localStorage.setItem("onceObj",JSON.stringify(n)),0))},n.setSafeArea=function(t,e,n){void 0===n&&(n=0);var o=cc.view.getVisibleSize().height-cc.sys.getSafeAreaRect().height;(o+=e)<n&&(o=n);var r=t.getComponent(cc.Widget);return r.top=o,r.updateAlignment(),o},n.getSpriteSiteAuto=function(t,e,n){var o=t.getOriginalSize();if("w"===e){var r=n/o.width*o.height;return cc.size(n,r)}if("h"===e){var i=n/o.height*o.width;return cc.size(i,n)}},n.getPosByDesign=function(t){var e=cc.v2(t),n=(1624-cc.winSize.height)/2;return e.y>0?e.y-=n:e.y+=n,e},n.loadRemoteImg=function(t){return new Promise(function(e){cc.assetManager.loadRemote(t,{ext:".png"},function(n,o){n?(cc.error(t+" [\u56fe\u7247\u8d44\u6e90\u52a0\u8f7d] \u9519\u8bef "+n),e(null)):e(new cc.SpriteFrame(o))})})},n.setStorage=function(t,e){if(""!==e){var n="string"==typeof e?e:JSON.stringify(e);cc.sys.localStorage.setItem(t,n)}else cc.error(t+" [\u5b58\u50a8value:"+e+"] \u9519\u8bef")},n.getStorage=function(t,e){void 0===e&&(e="st");var n=cc.sys.localStorage.getItem(t);return"st"===e?n:"obj"===e&&n?JSON.parse(n):void 0},n.clearStorage=function(){cc.sys.localStorage.clear()},n.ArrayRemove=function(t,e){if(Array.isArray(t)){var n=t.indexOf(e);n>-1&&t.splice(n,1)}},n.dateToStr=function(t){void 0===t&&(t=new Date);var e=t.getMonth()+1,n=t.getDate();return e>=1&&e<=9&&(e="0"+e),n>=0&&n<=9&&(n="0"+n),t.getFullYear()+"-"+e+"-"+n+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},n.timeFormat=function(t){var e=new Date(t),n="",o=((new Date).getTime()-e.getTime())/1e3;return o<300?n="\u521a\u521a":o>=300&&o<3600?n=parseInt((o/60).toString())+"\u5206\u949f\u524d":o>=3600&&o<86400?n=parseInt((o/3600).toString())+"\u5c0f\u65f6\u524d":o>=86400&&o<2592e3?n=parseInt((o/3600/24).toString())+"\u5929\u524d":o>=2592e3&&o<31104e3?n=parseInt((o/3600/24/30).toString())+"\u4e2a\u6708\u524d":t>=31104e3&&(n=parseInt((o/3600/24/30/12).toString())+"\u5e74\u524d"),n},cc._RF.pop()},{}]},{},["UIBackpackInfo_Auto","UIBackpack_Auto","UIHome_Auto","UIRecipeInfo_Auto","UIRecipe_Auto","UITop_Auto","UIWorkDesk_Auto","BaseAssembler","BatchAssembler","MeshAssembler","TextureAssembler","BroadcastCenter","BatchComponent","ButtonPlus","CacheUtils","CameraCapture","DrawBorad","GPWorkFlow","GridScrollList","KawaseBlur","List","ListItem","MaskPlus","MeshTexture","Printer","PropController","PropSelector","QuadTree","RecycleScroll","ScrollViewHelper","Shake","SpinePlus","TexturePlus","TouchPlus","adaptToPositionArr","EventBox","GPDrag","GameConfig","Light","LightStruct","LightUtils","Obstacle","mobx","StateMachine","BigNumUtils","BroadCast","ClassHelper","CommonUtils","DebugWindowUtils","DrawingBoard","Dungeon","EnumUtils","GlobalHelper","LRUCache","MatchUtils","Measure","PolygonUtil","Pool","PriorityQueue","PriorityStack","PropBind","Queue","RenderUtil","TaskMgr","utils","GlobalData","MessageInfo","RawMaterial","ResConfig","MessageType","AutoFindPath","Joystick","Coffee","BackpackContent","BackpackItem","BackpackTypeItem","MenuItem","RawItem","RecipeItem","RecipeModuleItem","RoleMgr","TableMgr","Player","CoinFlyToWallet","BaseRole","BaseTable","Game","BaseMgr","ConfigMgr","PlayerMgr","Main","Scene","UIConfig","AdapterMgr","CocosHelper","DrawerMgr","EventCenter","EventType","FixedMgr","FormMgr","ModalMgr","ModalMgr1","ResMgr","SceneMgr","SoundMgr","Struct","TipsMgr","ToastMgr","UIBase","UIForm","UIManager","UIModalScript","WindowMgr","SysConfig","SysDefine","UIBackpack","UIBackpackInfo","UIHome","UILoading","UIRecipe","UIRecipeInfo","UITop","UIWorkDesk","UIToast1"]);